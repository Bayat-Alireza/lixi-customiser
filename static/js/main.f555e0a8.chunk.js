(this["webpackJsonplixi-customiser"]=this["webpackJsonplixi-customiser"]||[]).push([[0],{331:function(e,t){},333:function(e,t){},444:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"searchItem",(function(){return je})),n.d(i,"resetItem",(function(){return he})),n.d(i,"markedForDeletion",(function(){return pe})),n.d(i,"customizeSubSchema",(function(){return ve})),n.d(i,"resetCustomizeSubSchema",(function(){return xe})),n.d(i,"uploadExistingCustomization",(function(){return fe})),n.d(i,"updateCustomisation",(function(){return Oe})),n.d(i,"uploadBaseSchema",(function(){return ge})),n.d(i,"resetBaseSchema",(function(){return ye}));var a,o,r,c=n(0),l=n.n(c),s=n(21),u=n.n(s),d=n(504),m=n(7),b=n(10),j=n(530),h=n(528),p=n(24),v=n(490),x=n(492),f=Object(v.a)((function(e){return Object(x.a)({root:{flexGrow:1},tabPanelChildren:Object(p.a)({padding:e.spacing(3)},e.breakpoints.down("xs"),{padding:e.spacing(0)}),appBar:{backgroundColor:e.palette.primary.dark}})})),O=n(526),g=n(266),y=n.n(g),C=n(89),I=n(541),E=n(505),S=n(533),k=n(506),T=Object(v.a)((function(e){return Object(x.a)({root:{width:"100%",padding:0,margin:0},stepper:Object(p.a)({padding:"0.5rem",margin:"0.5rem"},e.breakpoints.down("xs"),{padding:"0.2rem",margin:"0.2rem"}),button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(0,2,2)},customisationContainer:{padding:e.spacing(2,2,2),margin:e.spacing(1,0,1)}})})),w=n(503),A=n(243),M=n.n(A),N=n(150),D=n.n(N),z=n(540),R=Object(v.a)((function(e){return Object(x.a)({root:{width:"inherit","& > *":{margin:e.spacing(1)}},input:{display:"none"},findPageIcon:{color:e.palette.primary.light},loadIcon:{color:e.palette.primary.main},fileName:{backgroundColor:e.palette.primary.light,width:"max-content",color:e.palette.getContrastText(e.palette.primary.light),padding:e.spacing(.75),borderRadius:"0.2rem","&:hover":{cursor:"pointer"}},label:{display:"flex",alignItems:"center"},uploadButton:{marginLeft:e.spacing(1),minWidth:"7rem"}})})),_=n(494),P=n(451),L=n(239),B=n.n(L),H=n(238),F=n.n(H),U=n(493),V=n(1),Y=function(e){var t=e.saveFace,n=(e.description,R()),i=c.useState(),a=Object(b.a)(i,2),o=a[0],r=a[1];return Object(V.jsxs)("div",{style:{width:"100%"},children:[Object(V.jsx)("input",{accept:".xml,.xsd",className:n.input,id:"document",type:"file",onChange:function(e){var t=e.target;r(t.files[0])}}),Object(V.jsxs)(U.a,{wrap:"nowrap",alignContent:"flex-start",container:!0,spacing:1,alignItems:"center",children:[Object(V.jsx)(U.a,{item:!0,children:Object(V.jsx)(_.a,{title:"",children:Object(V.jsxs)("label",{className:n.label,htmlFor:"document",children:[Object(V.jsx)(P.a,{className:n.findPageIcon,color:"primary","aria-label":"upload picture",component:"span",title:"Browse",children:Object(V.jsx)(F.a,{fontSize:"large"})}),Object(V.jsx)(C.a,{variant:"body2",className:n.fileName,noWrap:!0,children:"Choose the file"})]})})}),Object(V.jsx)(U.a,{item:!0,children:(null===o||void 0===o?void 0:o.name)?Object(V.jsx)(P.a,{className:n.loadIcon,onClick:function(){t(o)},color:"primary","aria-label":"upload file",component:"span",title:"Load",children:Object(V.jsx)(B.a,{fontSize:"large"})}):void 0})]})]})},W=n(100),X=n(65),Z=n(242);!function(e){e.SEARCH_ITEM="search_item",e.SEARCH_ITEM_SUCCESS="search_item_success",e.SEARCH_ITEM_ERROR="search_item_error",e.REST_ITEM="resetItem",e.MARKED_FOR_DELETION="markedForDeletion"}(a||(a={})),function(e){e.EXCLUDE="exclude",e.INCLUDE="include",e.CUSTOMISE_ELEMENT="customiseElement",e.UPLOAD_CUSTOMIZATION="uploadCustomization",e.UPLOAD_CUSTOMIZATION_SUCCESS="uploadCustomizationSuccess",e.UPLOAD_CUSTOMIZATION_ERROR="uploadCustomizationError",e.RESET_CUSTOMIZATION="resetCustomization",e.CUSTOMIZE_SUB_SCHEMA="customizeSubSchema",e.RESET_SUB_SCHEMA="resetSubSchema",e.OPTIONAL_TO_MANDATORY="optionalToMandatory",e.CUSTOM_HEADING="customHeading",e.CUSTOM_MAX_OCCURS="customMaxOccurs",e.CUSTOM_MIN_OCCURS="customMinOccurs",e.STRING_TO_LIST="stringToList",e.CUSTOM_DEFINITION="definition",e.STRING_TO_PATTERN="stringToPattern",e.EXCLUDE_SUB_ELEMENTS="excludeSubElements",e.REMOVE_DESCENDENT_CUSTOMISATION="removeDescendentCustomisation",e.UPDATE_CUSTOMISATION="updateCustomisation"}(o||(o={})),function(e){e.UPLOAD_SCHEMA="uploadSchema",e.UPLOAD_SCHEMA_SUCCESS="uploadSchemaSuccess",e.UPLOAD_SCHEMA_ERROR="uploadSchemaError",e.RESET_SCHEMA="reset"}(r||(r={}));var q,G,J,K={data:null,error:null,loading:!1,markedForDeletionList:void 0},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SEARCH_ITEM:return{loading:!0,error:null,data:null,markedForDeletionList:void 0};case a.SEARCH_ITEM_SUCCESS:return{loading:!1,error:null,data:t.payload,markedForDeletionList:void 0};case a.SEARCH_ITEM_ERROR:return{loading:!1,error:t.payload,data:null,markedForDeletionList:void 0};case a.REST_ITEM:return{loading:!1,error:null,data:null,markedForDeletionList:void 0};case a.MARKED_FOR_DELETION:return Object(m.a)(Object(m.a)({},e),{},{markedForDeletionList:t.payload});default:return e}},Q={customization:void 0,subSchema:{transactionType:void 0,transactionVersion:void 0},error:null,loading:!1,metaData:void 0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.UPLOAD_CUSTOMIZATION:return Object(m.a)(Object(m.a)({},e),{},{customization:void 0,loading:!0,error:null});case o.UPLOAD_CUSTOMIZATION_SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{customization:t.payload.doc,metaData:t.payload.file,loading:!1,error:null});case o.UPLOAD_CUSTOMIZATION_ERROR:return Object(m.a)(Object(m.a)({},e),{},{customization:void 0,metaData:void 0,loading:!1,error:t.payload});case o.CUSTOMIZE_SUB_SCHEMA:return Object(m.a)(Object(m.a)({},e),{},{subSchema:t.payload});case o.RESET_SUB_SCHEMA:return Object(m.a)(Object(m.a)({},e),{},{subSchema:void 0,customization:void 0});case o.UPDATE_CUSTOMISATION:return Object(m.a)(Object(m.a)({},e),{},{customization:t.payload});default:return e}},te={error:null,loading:!1,schema:void 0,metaData:void 0},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPLOAD_SCHEMA:return{loading:!0,schema:void 0,metaData:void 0,error:null};case r.UPLOAD_SCHEMA_SUCCESS:return{loading:!1,error:null,metaData:t.payload.file,schema:t.payload.doc};case r.UPLOAD_SCHEMA_ERROR:return{loading:!1,schema:void 0,metaData:void 0,error:t.payload};case r.RESET_SCHEMA:return{loading:!1,schema:void 0,metaData:void 0,error:null};default:return e}},ie=Object(X.c)({item:$,customizer:ee,schema:ne}),ae=Object(X.d)(ie,{},Object(X.a)(Z.a)),oe=n(14),re=n(42),ce=n.n(re),le=n(58),se=n(69),ue=n(17),de=n(18);!function(e){e.type="type",e.name="name",e.use="use",e.minOccurs="minOccurs",e.maxOccurs="maxOccurs",e.value="value",e.base="base"}(q||(q={})),function(e){e.element="xs:element",e.annotation="xs:annotation",e.complexType="xs:complexType",e.choice="xs:choice",e.sequence="xs:sequence",e.attribute="xs:attribute",e.simpleType="xs:simpleType",e.restriction="xs:restriction",e.documentation="xs:documentation",e.path="lx:path",e.label="lx:label",e.transactions="li:transactions",e.enumeration="xs:enumeration",e.target="lx:target",e.references="lx:references"}(G||(G={})),function(e){e.element="element",e.complexType="complexType",e.choice="choice",e.sequence="sequence",e.attribute="attribute",e.simpleType="simpleType",e.restriction="restriction",e.annotation="annotation",e.documentation="documentation",e.path="path",e.label="label",e.transactions="transactions",e.enumeration="enumeration"}(J||(J={}));var me=function(e){return e?{xs:"http://www.w3.org/2001/XMLSchema",lx:"lixi.org.au/schema/appinfo_elements",li:"lixi.org.au/schema/appinfo_instructions"}[e]:null},be=function(){function e(t){Object(ue.a)(this,e),this.parsedDoc=void 0,this.parsedDoc=t}return Object(de.a)(e,[{key:"getPathOfAllElements",value:function(){var e,t=[],n=this.parsedDoc.getElementsByTagName(G.element),i=Object(se.a)(Array.prototype.fill(n));try{for(i.s();!(e=i.n()).done;){var a=e.value;t.push(a.getElementsByTagName(G.path)[0].textContent)}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"getPathOfAllItems",value:function(){for(var e=[],t=this.evaluateXpath("//lx:path[text()]/text()",this.parsedDoc),n=null===t||void 0===t?void 0:t.iterateNext();n;)e.push(n.textContent),n=null===t||void 0===t?void 0:t.iterateNext();return e}},{key:"getPathOfAllItemsInATransaction",value:function(e){for(var t=[],n=this.evaluateXpath("//lx:path/following-sibling::li:transactions",this.parsedDoc),i=null===n||void 0===n?void 0:n.iterateNext();i;){var a,o,r=null===(a=i.textContent)||void 0===a?void 0:a.split(",");if(r&&r.includes(e))t.push(null===(o=i.parentElement)||void 0===o?void 0:o.children[0].textContent);i=null===n||void 0===n?void 0:n.iterateNext()}return t}},{key:"evaluateXpath",value:function(e,t){return t=t||this.parsedDoc,this.parsedDoc.evaluate(e,t,me,XPathResult.ANY_TYPE,null)}},{key:"getItemByPath",value:function(e){var t,n,i;return null===(t=this.parsedDoc.evaluate("//lx:path[text()='".concat(e,"'][1]"),this.parsedDoc,me,XPathResult.ANY_UNORDERED_NODE_TYPE,null).singleNodeValue)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(i=n.parentElement)||void 0===i?void 0:i.parentElement}},{key:"getSchemaDetails",value:function(){var e,t;return null===(e=this.parsedDoc.evaluate("//lx:schemadetail",this.parsedDoc,me,XPathResult.ANY_UNORDERED_NODE_TYPE,null).singleNodeValue)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.children[0]}},{key:"getTransactions",value:function(){var e,t,n=null===(e=this.parsedDoc.evaluate("//lx:schemadetail",this.parsedDoc,me,XPathResult.ANY_UNORDERED_NODE_TYPE,null).singleNodeValue)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.children,i=[];return Array.prototype.map.call(n,(function(e){"subschema"===e.localName&&(null===i||void 0===i||i.push({transactionType:e.getAttribute("transactiontype"),transactionVersion:e.getAttribute("version")}))})),i}}]),e}(),je=function(e){var t=function(t){return new Promise((function(n,i){var a=new be(t);e&&n(a.getItemByPath(e))}))};return function(){var e=Object(le.a)(ce.a.mark((function e(n,i){var o,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:a.SEARCH_ITEM}),e.prev=1,o=i().schema.schema){e.next=6;break}return e.abrupt("return");case 6:return e.next=9,t(o);case 9:r=e.sent,n({type:a.SEARCH_ITEM_SUCCESS,payload:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n({type:a.SEARCH_ITEM_ERROR,payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()},he=function(){return function(e){e({type:a.REST_ITEM})}},pe=function(e){return function(t){t({type:a.MARKED_FOR_DELETION,payload:Object(oe.a)(e)})}},ve=function(e){return function(t,n){t({type:o.CUSTOMIZE_SUB_SCHEMA,payload:e})}},xe=function(){return function(e,t){e({type:o.RESET_SUB_SCHEMA})}},fe=function(e){var t=function(e){return new Promise((function(t,n){t((new DOMParser).parseFromString(e,"text/xml"))}))};return function(){var n=Object(le.a)(ce.a.mark((function n(i){var a,r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:o.UPLOAD_CUSTOMIZATION}),n.prev=1,n.next=4,new Promise((function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.onerror=n,i.readAsText(e)}));case 4:if(!(a=n.sent)){n.next=10;break}return n.next=8,t(null===a||void 0===a?void 0:a.toString());case 8:r=n.sent,i({type:o.UPLOAD_CUSTOMIZATION_SUCCESS,payload:{doc:r.getElementsByTagName("Customisations")[0],file:e}});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i({type:o.UPLOAD_CUSTOMIZATION_ERROR,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()},Oe=function(e){return function(t){t({type:o.UPDATE_CUSTOMISATION,payload:e})}},ge=function(e){var t=function(e){return new Promise((function(t,n){t((new DOMParser).parseFromString(e,"text/xml"))}))};return function(){var n=Object(le.a)(ce.a.mark((function n(i,a){var o,c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:r.UPLOAD_SCHEMA}),n.prev=1,n.next=4,new Promise((function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.onerror=n,i.readAsText(e)}));case 4:if(!(o=n.sent)){n.next=10;break}return n.next=8,t(null===o||void 0===o?void 0:o.toString());case 8:c=n.sent,i({type:r.UPLOAD_SCHEMA_SUCCESS,payload:{doc:c,file:e}});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i({type:r.UPLOAD_SCHEMA_ERROR,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,t){return n.apply(this,arguments)}}()},ye=function(){return function(e){try{e({type:r.RESET_SCHEMA})}catch(t){e({type:r.UPLOAD_SCHEMA_ERROR,payload:t.message})}}},Ce=function(){var e=Object(W.b)();return Object(X.b)(i,e)},Ie=W.c,Ee=Object(v.a)((function(e){return Object(x.a)({uploadContainer:{maxWidth:"75ch",minWidth:"15rem",alignItems:"center",display:"flex",justifyContent:"flex-start",marginTop:"1rem",padding:"0.2rem 0.5rem",height:"max-content",backgroundColor:"#fffde7"},upload:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"80%",backgroundColor:"#fffde7"},actionsContainer:{margin:e.spacing(1,0,1,0)},nextButton:{marginLeft:"0.5rem"},fileDetailHeaderRow:{backgroundColor:e.palette.primary.main},fileDetailHeaderCell:{color:e.palette.getContrastText(e.palette.primary.main)}})})),Se=n(452),ke=n(499),Te=n(501),we=n(498),Ae=n(500),Me=n(502),Ne=n(497),De=n(453),ze=function(e){var t=e.handelNextClicked,n=Ee(),i=Ce().uploadBaseSchema,a=Ie((function(e){return e.schema})),o=a.schema,r=a.metaData,c=l.a.useMemo((function(){if(null===r||void 0===r?void 0:r.size){if(0===(null===r||void 0===r?void 0:r.size))return"0 Bytes";var e=Math.floor(Math.log(null===r||void 0===r?void 0:r.size)/Math.log(1024));return parseFloat(((null===r||void 0===r?void 0:r.size)/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}),[null===r||void 0===r?void 0:r.size]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(z.a,{maxWidth:"75ch",children:Object(V.jsx)(M.a,{children:"LIXI base schema must be uploaded."})}),Object(V.jsx)(Se.a,{className:n.uploadContainer,children:Object(V.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(V.jsx)(Y,{saveFace:function(e){return i(e)},description:"Click to upload LIXI Base/Transaction Schema"})}),Object(V.jsxs)(De.a,{in:!!r,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(Ne.a,{component:Se.a,children:Object(V.jsxs)(we.a,{"aria-label":"file table",size:"small",children:[Object(V.jsx)("caption",{children:"File Details"}),Object(V.jsx)(ke.a,{className:n.fileDetailHeaderRow,children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(Te.a,{className:n.fileDetailHeaderCell,variant:"head",align:"left",children:"Name"}),Object(V.jsx)(Te.a,{className:n.fileDetailHeaderCell,align:"left",children:"Last Modified"}),Object(V.jsx)(Te.a,{className:n.fileDetailHeaderCell,align:"center",children:"Size"}),Object(V.jsx)(Te.a,{className:n.fileDetailHeaderCell,align:"center",children:"Type"})]})}),Object(V.jsx)(Me.a,{children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(Te.a,{scope:"row",align:"left",children:null===r||void 0===r?void 0:r.name}),Object(V.jsx)(Te.a,{scope:"row",align:"left",children:(null===r||void 0===r?void 0:r.lastModified)?new Date(null===r||void 0===r?void 0:r.lastModified).toString():void 0}),Object(V.jsx)(Te.a,{scope:"row",align:"center",children:c}),Object(V.jsx)(Te.a,{scope:"row",align:"center",children:null===r||void 0===r?void 0:r.type})]})})]})})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:2,children:Object(V.jsx)("div",{className:n.actionsContainer,children:Object(V.jsx)(w.a,{size:"small",endIcon:Object(V.jsx)(D.a,{}),variant:"contained",color:"primary",onClick:t,disabled:!o,className:n.nextButton,children:"Next"})})})]})]})})]})},Re=n(244),_e=n.n(Re),Pe=Object(v.a)((function(e){return Object(x.a)({uploadContainer:{maxWidth:"75ch",minWidth:"15rem",alignItems:"center",display:"flex",justifyContent:"flex-start",marginTop:"1rem",padding:"0.2rem 0.5rem",height:"max-content",backgroundColor:"#fffde7"},upload:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"80%",backgroundColor:"#fffde7"},actionsContainer:Object(p.a)({display:"flex",margin:e.spacing(1,0,1,0)},e.breakpoints.down("xs"),{margin:e.spacing(1,1,1,1),flexDirection:"column"}),button:Object(p.a)({marginLeft:"0.1rem"},e.breakpoints.down("xs"),{marginTop:"0.1rem"}),fileDetailHeaderRow:{backgroundColor:e.palette.primary.main},fileDetailHeaderCell:{color:e.palette.getContrastText(e.palette.primary.main)}})})),Le=n(112),Be=n.n(Le),He=function(e){var t=e.handelBack,n=(e.handelSkip,e.handelNext,e.activeStep),i=Pe(),a=Ce().uploadExistingCustomization,o=Ie((function(e){return e.customizer})).metaData,r=l.a.useMemo((function(){if(null===o||void 0===o?void 0:o.size){if(0===(null===o||void 0===o?void 0:o.size))return"0 Bytes";var e=Math.floor(Math.log(null===o||void 0===o?void 0:o.size)/Math.log(1024));return parseFloat(((null===o||void 0===o?void 0:o.size)/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}),[null===o||void 0===o?void 0:o.size]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(z.a,{maxWidth:"75ch",children:Object(V.jsx)(C.a,{children:"If you already have an existing customisation instruction file you can upload it here, otherwise a new customisation instruction file will be created."})}),Object(V.jsx)(Se.a,{className:i.uploadContainer,children:Object(V.jsxs)(Be.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(Be.a,{item:!0,xs:12,sm:12,children:Object(V.jsx)(Y,{saveFace:function(e){return a(e)},description:"Click to upload an existing customisation file"})}),Object(V.jsx)(Be.a,{item:!0,xs:12,children:Object(V.jsx)(De.a,{in:!!o,children:Object(V.jsx)(Ne.a,{component:Se.a,children:Object(V.jsxs)(we.a,{"aria-label":"file table",size:"small",children:[Object(V.jsx)("caption",{children:"File Details"}),Object(V.jsx)(ke.a,{className:i.fileDetailHeaderRow,children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(Te.a,{className:i.fileDetailHeaderCell,variant:"head",align:"left",children:"Name"}),Object(V.jsx)(Te.a,{className:i.fileDetailHeaderCell,align:"left",children:"Last Modified"}),Object(V.jsx)(Te.a,{className:i.fileDetailHeaderCell,align:"center",children:"Size"}),Object(V.jsx)(Te.a,{className:i.fileDetailHeaderCell,align:"center",children:"Type"})]})}),Object(V.jsx)(Me.a,{children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(Te.a,{scope:"row",align:"left",children:null===o||void 0===o?void 0:o.name}),Object(V.jsx)(Te.a,{scope:"row",align:"left",children:(null===o||void 0===o?void 0:o.lastModified)?new Date(null===o||void 0===o?void 0:o.lastModified).toString():void 0}),Object(V.jsx)(Te.a,{scope:"row",align:"center",children:r}),Object(V.jsx)(Te.a,{scope:"row",align:"center",children:null===o||void 0===o?void 0:o.type})]})})]})})})}),Object(V.jsx)(Be.a,{item:!0,children:Object(V.jsx)("div",{className:i.actionsContainer,children:Object(V.jsx)(w.a,{startIcon:Object(V.jsx)(_e.a,{}),size:"small",disabled:0===n,onClick:t,className:i.button,variant:"contained",color:"primary",children:"Back"})})})]})})]})},Fe=function(){var e={optional:Object(V.jsx)(C.a,{variant:"caption",children:"Optional"})},t=l.a.useState(0),n=Object(b.a)(t,2),i=n[0],a=n[1],o=l.a.useState({}),r=Object(b.a)(o,2),c=r[0],s=r[1],u=T(),j=function(){a((function(e){return e+1}))};return Object(V.jsxs)("div",{className:u.root,children:[Object(V.jsx)(d.a,{}),Object(V.jsxs)(I.a,{className:u.stepper,activeStep:i,orientation:"vertical",children:[Object(V.jsxs)(E.a,{children:[Object(V.jsx)(S.a,{children:"Upload LIXI Base Schema"}),Object(V.jsx)(k.a,{children:Object(V.jsx)(ze,{handelNextClicked:j})})]}),Object(V.jsxs)(E.a,Object(m.a)(Object(m.a)({},c),{},{children:[Object(V.jsx)(S.a,Object(m.a)(Object(m.a)({},e),{},{children:Object(V.jsx)(C.a,{variant:"caption",children:"Upload an existing customisation file"})})),Object(V.jsx)(k.a,{children:Object(V.jsx)(He,{handelBack:function(){a((function(e){return e-1}))},activeStep:i,handelSkip:function(){s({completed:!1}),j()},handelNext:j})})]}))]})]})},Ue=n(245),Ve=n.n(Ue),Ye=n(246),We={indent:4,newline:"\n"},Xe={tagColor:"#03a9f4",attributeKeyColor:"#fdd835",textColor:"#FFFFFF",attributeValueColor:"#8bc34a",separatorColor:"#03a9f4"},Ze=n(248),qe=n.n(Ze),Ge=n(249),Je=n.n(Ge),Ke=Object(v.a)((function(e){return Object(x.a)({container:{position:"relative",overflow:"scroll",backgroundColor:"#444",maxHeight:"100vh",marginTop:"0.5rem",borderRadius:"0.1rem"},header:{position:"sticky",top:"0",right:"0",left:"0",padding:"0.5rem 1rem",display:"flex",justifyContent:"space-between",backgroundColor:"#333",marginBottom:"1rem",borderRadius:"0.1rem",width:"inherit",boxShadow:"0.3rem 0.4rem #555",color:e.palette.getContrastText("#333")},downloadLink:{color:e.palette.secondary.light,textDecoration:"none"}})})),$e=function(e){var t=e.itemXML,n=e.role,i=Ke(),a=new XMLSerializer;if(t){var o=a.serializeToString(t);return Object(V.jsxs)("div",{className:i.container,children:[Object(V.jsxs)("div",{className:i.header,children:[Object(V.jsx)(C.a,{variant:"h5",children:n&&"download"!==n?"Item Instruction":"Customisation Instructions"}),(!n||"download"===n)&&Object(V.jsx)(w.a,{variant:"outlined",color:"secondary",startIcon:Object(V.jsx)(Je.a,{}),children:Object(V.jsx)("div",{children:Object(V.jsx)(qe.a,{label:"Download",filename:"customisation.xml",exportFile:function(){return Promise.resolve(o)},style:{color:"pink",textDecoration:"none"}})})})]}),Object(V.jsx)("div",{style:{margin:"1rem"},children:Object(V.jsx)(Ye.a,{xml:Ve()(o,We),theme:Xe})})]})}return Object(V.jsx)(c.Fragment,{})},Qe=n(59),et=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1?arguments[1]:void 0;Object(ue.a)(this,e),this.customisation=void 0,this.path=void 0,this.customiseItem=void 0,this.excerpt="",this.documentation="",this.customiseItem=this._customiseItemStub(),n&&(this.path=n),this.customisation=t?t.cloneNode(!0):this._customisationStub()}return Object(de.a)(e,[{key:"itemPath",value:function(){if(this.path){var t=e.docStub().createElement("Path");t.textContent=this.path,this.customiseItem.append(t)}}},{key:"exclude",value:function(){if(!this.ExcludedItem()&&this.path){this.removeCustomisedItem();var t=e.docStub(),n=this._customiseItemStub();n.setAttribute("Exclude","Yes");var i=t.createElement("Path");return i.textContent=this.path,n.append(i),this.customisation.append(n),this.customiseItem}}},{key:"include",value:function(){var e=this.ExcludedItem();e&&e.parentElement&&this.customisation.removeChild(e.parentElement)}},{key:"ExcludedItem",value:function(){var e,t=this,n=Array.from(null===(e=this.customisation)||void 0===e?void 0:e.getElementsByTagName("Path"));return Array.prototype.find.call(n,(function(e){var n;if("Yes"===(null===(n=e.parentElement)||void 0===n?void 0:n.getAttribute("Exclude")))return e.textContent===t.path}))}},{key:"_customiseItemStub",value:function(){return e.docStub().createElement("CustomiseItem")}},{key:"_customisationStub",value:function(){return(new DOMParser).parseFromString('\n    <Customisations \n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n        xsi:noNamespaceSchemaLocation="LIXI-Customisation-By-Restriction.xsd" \n        LIXICode="LIXI" CustomisationCode="" \n        LIXITransactionType="" \n        customHeading="Custom Heading for All Customised Items">\n    </Customisations>',"text/xml").getElementsByTagName("Customisations")[0]}},{key:"getCustomisedItem",value:function(){var e=this,t=Array.from(this.customisation.getElementsByTagName("Path"));return Array.prototype.find.call(t,(function(t){var n;if(!(null===(n=t.parentElement)||void 0===n?void 0:n.getAttribute("Exclude")))return t.textContent===e.path}))}},{key:"getTouchedItem",value:function(){var e=this,t=Array.from(this.customisation.getElementsByTagName("Path"));return Array.prototype.find.call(t,(function(t){return t.textContent===e.path}))}},{key:"removeCustomisedItem",value:function(){var e,t=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(t)return this.customisation.removeChild(t),t}},{key:"customExcerpt",value:function(){if(this.excerpt){var t=e.docStub().createElement("CustomExcerpt");t.textContent=this.excerpt.trim(),this.customiseItem.append(t)}}},{key:"customDocumentation",value:function(){if(this.documentation){var t=e.docStub().createElement("CustomDocumentation");t.textContent=this.documentation.trim(),this.customiseItem.append(t)}}},{key:"affectedDecedents",value:function(){var e;if(null===this||void 0===this?void 0:this.path){var t=this.path,n=Array.from(null===(e=this.customisation)||void 0===e?void 0:e.getElementsByTagName("Path"));return Array.prototype.filter.call(n,(function(e){var n;return null===(n=e.textContent)||void 0===n?void 0:n.startsWith(t||"")}))}}},{key:"removeCustomisation",value:function(e){var t=this,n=Array.from(this.customisation.getElementsByTagName("Path"));Array.prototype.forEach.call(n,(function(n){n&&(null===n||void 0===n?void 0:n.textContent)&&e.includes(null===n||void 0===n?void 0:n.textContent)&&n.parentElement&&t.customisation.removeChild(null===n||void 0===n?void 0:n.parentElement)}))}},{key:"excludeByPath",value:function(e){this.path=e,this.exclude()}},{key:"notExcludeByPath",value:function(e){this.path=e,this.include()}}],[{key:"docStub",value:function(){return(new DOMParser).parseFromString("<root></root>","text/xml")}}]),e}(),tt=function(){function e(t){Object(ue.a)(this,e),this.element=void 0,this.annotated=void 0,this.element=t.cloneNode(!0),this.annotated=this.element.children[0].localName===J.annotation}return Object(de.a)(e,[{key:"transactions",get:function(){var e;return this.annotated?null===(e=this.element.children[0].getElementsByTagName(G.transactions)[0].textContent)||void 0===e?void 0:e.split(","):[]}},{key:"path",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(G.path)[0].textContent}},{key:"label",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(G.label)[0].textContent}},{key:"documentation",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(G.documentation)[0].textContent}},{key:"rootDocument",value:function(){return this.element.ownerDocument}},{key:"references",get:function(){var e=[];if(this.annotated&&"attribute"===this.element.localName&&"referenceType"===this.element.getAttribute("type")){var t=this.element.children[0].getElementsByTagName(G.target);return Array.prototype.map.call(t,(function(t){e.push(t.textContent)})),e}}},{key:"baseRestriction",get:function(){if("simpleType"===this.element.localName)return this.element.children[1].getAttribute("base")}},{key:"attributes",get:function(){var e=[],t=this.getLixiComplexType();return t&&Array.from(t.children).forEach((function(t){t.localName===J.attribute&&e.push(t)})),e}},{key:"getLixiComplexType",value:function(){var e=[];return Array.from(this.element.children).forEach((function(t){t.localName===J.complexType&&e.push(t)})),e[0]}},{key:"lixiSubElements",get:function(){var e=this.getLixiComplexType(),t={},n=null===e||void 0===e?void 0:e.firstElementChild;return(null===n||void 0===n?void 0:n.localName)===J.sequence?t[J.sequence]=Object(oe.a)(Array.from(n.children)):(null===n||void 0===n?void 0:n.localName)===J.choice&&(t[J.choice]=Object(oe.a)(Array.from(n.children))),Object.keys(t).length,t}},{key:"enumeration",get:function(){if("simpleType"===this.element.localName){var e=this.element.children[1];if("xs:token"===e.getAttribute("base"))return Object(oe.a)(Array.from(e.children))}}}]),e}(),nt=n(513),it=n(534),at=n(517),ot=n(519),rt=n(507),ct=n(454),lt=n(66),st=n.n(lt),ut=n(67),dt=n.n(ut),mt=n(263),bt=n.n(mt),jt=n(27),ht=n(28),pt=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.fixedList=void 0,e.fixedList=!(!(null===o||void 0===o?void 0:o.elements.length)&&!(null===o||void 0===o?void 0:o.attributes.length)),e.object=o||{includeAllElements:!0,excludeAllElements:!1,includeAllAttributes:!0,excludeAllAttributes:!1,elements:[],attributes:[],heading:"",excerpt:"",documentation:"",newMin:"",newMax:""},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.includeAllAttributes,n=e.attributes,i=e.includeAllElements,a=e.elements,o=e.newMin,r=e.newMax,c=e.documentation,l=e.excerpt,s=e.heading;t||n.length||i||a.length||r||o||c||s||l?(this.excerpt=l||"",this.documentation=c||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.customMaxOccurs(),this.customMinOccurs(),this.customAttributes(),this.customElements(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"customMinOccurs",value:function(){if(this.object.newMin){this.customiseItem.setAttribute("CustomMinOccurs","Yes");var e=et.docStub().createElement("CustomMinOccurs");e.textContent=this.object.newMin.toString(),this.customiseItem.append(e)}}},{key:"customMaxOccurs",value:function(){if(this.object.newMax){this.customiseItem.setAttribute("CustomMaxOccurs","Yes");var e=et.docStub().createElement("CustomMaxOccurs");e.textContent=this.object.newMax.toString(),this.customiseItem.append(e)}}},{key:"customAttributes",value:function(){var e=this;if(this.object.attributes.length){var t=et.docStub();this.object.attributes.forEach((function(n,i){var a=t.createElement("Attribute");a.textContent=n,e.customiseItem.append(a)}))}}},{key:"customElements",value:function(){var e=this;if(this.object.elements.length){var t=et.docStub();this.object.elements.forEach((function(n,i){var a=t.createElement("Element");a.textContent=n,e.customiseItem.append(a)}))}}},{key:"setInLineAttributes",value:function(){if(this.object.heading&&this.customiseItem.setAttribute("customHeading",this.object.heading),(this.object.elements.length||this.object.attributes.length)&&this.customiseItem.setAttribute("Include","Yes"),this.object.elements.length,this.object.attributes.length,this.object.includeAllAttributes||!this.object.attributes.length&&this.object.elements.length&&this.customiseItem.setAttribute("ExcludeAllAttributes","Yes"),this.object.includeAllElements||!this.object.elements.length&&this.object.attributes.length&&this.customiseItem.setAttribute("ExcludeAllElements","Yes"),this.object.elements.length||!this.object.includeAllElements||this.object.attributes.length||!this.object.includeAllAttributes)return this.object.elements.length||this.object.includeAllElements||this.object.attributes.length||this.object.includeAllAttributes||this.object.heading||this.object.documentation||this.object.excerpt?void 0:this.exclude()}},{key:"removeElementsAndAttributes",value:function(){var e,t=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(t){var n,i=t.getAttribute("customHeading");if(Array.prototype.find.call(t.children,(function(e){return["CustomDocumentation","CustomExcerpt"].includes(e.localName)}))||i)Array.prototype.forEach.call(t.children,(function(e){switch(e.localName){case"Element":case"Attribute":t.removeChild(e)}}));else null===(n=t.parentElement)||void 0===n||n.removeChild(t)}}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(!n)return this.object;this.object.excludeAllAttributes="Yes"===n.getAttribute("ExcludeAllAttributes"),this.object.excludeAllElements="Yes"===n.getAttribute("ExcludeAllElements"),this.fixedList=!!n.getAttribute("Include");var i=n.getAttribute("customHeading");return this.object.heading=i||void 0,Array.prototype.forEach.call(n.children,(function(e){var n,i;switch(e.localName){case"CustomMaxOccurs":var a=e.textContent;t.object.newMax=a?parseInt(a):"";break;case"CustomMinOccurs":var o=e.textContent;t.object.newMin=o?parseInt(o):"";break;case"Attribute":var r=e.textContent;if(!r)break;null===(n=t.object.attributes)||void 0===n||n.push(r);break;case"Element":var c=e.textContent;if(!c)break;null===(i=t.object.elements)||void 0===i||i.push(c);break;case"CustomExcerpt":var l=e.textContent;t.object.excerpt=l||"";break;case"CustomDocumentation":var s=e.textContent;t.object.documentation=s||""}})),this.object}}]),n}(et);pt.parentCustomised=function(e,t,n){var i,a={},o=e.split("."),r=o.pop(),c=new pt(t,o.join(".")),l=null===(i=c.getTouchedItem())||void 0===i?void 0:i.parentElement;if(c.customisedObject(),l){if(l.getAttribute("Exclude"))return a.included=!1,a.path=o.join("."),a;if(!l.getAttribute("Include"))return a.included=!0,a.path=o.join("."),a;if("element"===n)return l.getAttribute("ExcludeAllElements")?(a.included=!1,a.path=o.join("."),a):r&&c.object.elements.includes(r)?(a.included=!0,a.path=o.join("."),a):(a.included=!1,a.path=o.join("."),a);if("attribute"===n)return l.getAttribute("ExcludeAllAttributes")?(a.included=!1,a.path=o.join("."),a):r&&c.object.attributes.includes(r)?(a.included=!0,a.path=o.join("."),a):(a.included=!1,a.path=o.join("."),a);o.pop()}for(;o.length;){var s,u=o.pop(),d=new pt(t,o.join(".")),m=null===(s=d.getTouchedItem())||void 0===s?void 0:s.parentElement;if(d.customisedObject(),m){if(m.getAttribute("Exclude"))return a.included=!1,a.path=o.join("."),a;if(!m.getAttribute("Include"))return a.included=!0,a.path=o.join("."),a;if(m.getAttribute("ExcludeAllElements"))return a.included=!1,a.path=o.join("."),a;if(u&&d.object.elements.includes(u))return a.included=!0,a.path=o.join("."),a}}};var vt=n(510),xt=n(68),ft=n.n(xt),Ot=n(16),gt=n(258),yt=n.n(gt),Ct=n(508),It=n(511),Et=n(155),St=n.n(Et),kt=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{zIndex:2,display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},viewItem:{"&:hover":{color:"#3f51b5"}}})})),Tt=n(252),wt=n.n(Tt),At=n(509),Mt=function(e){var t=e.name,n=(e.toggle,e.items),i=e.listName,a=e.selectedItemsLength,o=e.header,r=e.excluded,c=e.included,s=(e.arrayHelper,e.exclusion),u=kt(),d=l.a.useState(""),m=Object(b.a)(d,2),j=m[0],h=m[1],p=l.a.useState(!0),v=Object(b.a)(p,2),x=v[0],f=v[1],O=l.a.useState(!1),g=Object(b.a)(O,2),y=g[0],I=g[1],E=Ce().updateCustomisation,S=Ie((function(e){return e.customizer})).customization,k=Object(Ot.e)(),T=k.values,w=k.getFieldHelpers,A=k.submitForm;l.a.useEffect((function(){if(a===n.length)return h(t),void w(t).setValue(!0);w(t).setValue(!1),h("")}),[w,n.length,t,a,j,T]);var M=function(){if(s){var e=new et(S);I(!y),n.forEach((function(t,n){var i=null===t||void 0===t?void 0:t.path,a=null===i||void 0===i?void 0:i.split(".").pop();y?i&&a&&!c.includes(a)&&r.includes(a)&&e.notExcludeByPath(i):i&&a&&!c.includes(a)&&!r.includes(a)&&e.excludeByPath(i)})),E(e.customisation)}else{var t=Object(oe.a)(T[i]);if(f(!x),!x)return n.forEach((function(e,n){var i,a=null===e||void 0===e||null===(i=e.path)||void 0===i?void 0:i.split(".").pop();a&&!t.includes(a)&&t.push(a)})),w(i).setValue(t),void A();n.forEach((function(e,n){var a,o=null===e||void 0===e||null===(a=e.path)||void 0===a?void 0:a.split(".").pop();o&&t.includes(o)&&!c.includes(o)&&t.splice(t.indexOf(o),1),w(i).setValue(t)})),A()}};l.a.useEffect((function(){n.length!==r.length?I(!1):I(!0)}),[r.length,n.length]),l.a.useEffect((function(){n.length!==a?f(!1):f(!0)}),[n.length,a,f]);var N=function(){return s&&y?Object(V.jsx)(C.a,{color:"secondary",variant:"button",children:Object(V.jsxs)("strong",{children:[" - ","All Excluded"]})}):s||n.length!==a?Object(V.jsx)(V.Fragment,{}):Object(V.jsx)(C.a,{color:"primary",variant:"button",children:Object(V.jsxs)("strong",{style:{color:"green"},children:[" - ","All Included"]})})};return Object(V.jsx)(Se.a,{children:Object(V.jsx)("div",{onClick:function(){return M()},style:{cursor:"pointer"},children:Object(V.jsxs)(rt.a,{style:{marginTop:"0",alignItems:"center"},className:u.subItemHeader,children:[!s&&Object(V.jsx)(Ct.a,{children:a>0&&a<n.length?Object(V.jsx)(St.a,{color:"primary"}):x?Object(V.jsx)(wt.a,{style:{color:"green"},fontSize:"default"}):Object(V.jsx)(st.a,{fontSize:"small",style:{color:"red"}})}),Object(V.jsx)(At.a,{children:s&&Object(V.jsx)(vt.a,{size:"small",checked:n.length===r.length,onChange:function(e){return M()},inputProps:{"aria-label":"controlled"}})}),Object(V.jsx)(It.a,{primary:Object(V.jsxs)(V.Fragment,{children:[o,Object(V.jsx)(N,{})]})})]},t)})})},Nt=n(253),Dt=n.n(Nt),zt=Object(v.a)((function(e){return Object(x.a)({viewItem:{"&:hover":{color:"#3f51b5"}},tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",fontSize:16},tooltip2:{backgroundColor:"#fff",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(16)}})})),Rt=function(e){var t=e.lixiItem,n=e.placement,i=zt();return Object(V.jsx)(_.a,{placement:n,className:i.tooltip2,title:Object(V.jsxs)(l.a.Fragment,{children:[Object(V.jsx)(C.a,{color:"inherit",children:t.label}),t.documentation]}),children:Object(V.jsx)(Dt.a,{className:i.viewItem,fontSize:"small"})})},_t=n(257),Pt=n.n(_t),Lt=Object(v.a)((function(e){return Object(x.a)({subItem:{height:"16rem",overflow:"scroll"},viewItem:{"&:hover":{color:"#3f51b5"}}})})),Bt=n(536),Ht=n(518),Ft=n(515),Ut=n(516),Vt=n(514),Yt=n(532),Wt=n(512),Xt=function(e){var t=e.checked,n=e.label,i=Object(Qe.a)(e,["checked","label"]),a=Object(Ot.d)(i),o=Object(b.a)(a,2),r=o[0],c=o[1];return n?Object(V.jsx)(Wt.a,{error:!(!c.touched||!c.error),children:Object(V.jsx)(nt.a,{style:{padding:0,color:c.touched&&c.error?"red":"inherit"},control:Object(V.jsx)(it.a,Object(m.a)(Object(m.a)({checked:t},r),i)),label:n})}):Object(V.jsx)(it.a,Object(m.a)(Object(m.a)({checked:t},r),i))},Zt=n(111),qt=n.n(Zt),Gt=Object(v.a)((function(e){return Object(x.a)({root:{backgroundColor:"transparent"},paper:{boxShadow:"1px 1px 3px #BDBDBD",overflow:"hidden",padding:e.spacing(0)},alert:{color:"#c43e00","&:hover":{color:"#ff8f00"}},button:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}}})})),Jt=n(158),Kt=n.n(Jt),$t=n(22),Qt=function(e){var t=e.open,n=e.affected,i=e.handleClose,a=Gt(),o=Ce().markedForDeletion,r=Ie((function(e){return e.item})).markedForDeletionList;return Object(V.jsx)(Ot.c,{initialValues:Object(m.a)({agree:!1},n),validationSchema:$t.c().shape({agree:$t.a().oneOf([!0])}),enableReinitialize:!0,onSubmit:function(e,t){var n=t.setSubmitting,a=t.resetForm;setTimeout((function(){n(!0);var t=r?Object(oe.a)(r):[];e.items.forEach((function(e){(null===r||void 0===r?void 0:r.includes(e))||t.push(e)})),o(Object(oe.a)(t)),n(!1),a(),i()}),400)},children:function(e){var o=e.isSubmitting,r=e.values,c=(e.errors,e.touched,e.resetForm);return Object(V.jsx)("div",{children:Object(V.jsxs)(Bt.a,{draggable:!0,BackdropProps:{classes:{root:a.root}},PaperProps:{classes:{root:a.paper,elevation2:"5"}},style:{boxShadow:"none"},open:t,onClose:c,"aria-labelledby":"form-dialog-title",children:[Object(V.jsx)(Kt.a,{}),Object(V.jsx)(Vt.a,{style:{backgroundColor:"cornsilk",padding:0,boxShadow:"1px 1px 1px orange"},id:"form-dialog-title",children:Object(V.jsxs)(Yt.a,{style:{width:"100%"},variant:"standard",severity:"warning",action:Object(V.jsx)(_.a,{title:"Cancel",placement:"top",children:Object(V.jsx)(P.a,{onClick:i,"aria-label":"delete",className:a.alert,size:"small",disableRipple:!0,children:Object(V.jsx)(qt.a,{fontSize:"default"})})}),children:["Excluding"," ",Object(V.jsx)("em",{children:Object(V.jsx)("strong",{children:null===n||void 0===n?void 0:n.path.split(".").pop()})})," ","will delete all of its customised descendants"]})}),Object(V.jsxs)(Ft.a,{children:[Object(V.jsx)(C.a,{variant:"subtitle1",children:"Following customisation will be lost."}),null===n||void 0===n?void 0:n.items.map((function(e,t){return Object(V.jsx)("li",{children:"".concat(e)},e)})),Object(V.jsx)(Ut.a,{})]}),Object(V.jsx)(at.a,{}),Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Ht.a,{style:{justifyContent:"space-between",padding:"0.2rem 1rem"},children:[Object(V.jsx)(Xt,{checked:r.agree,name:"agree",label:"I know what I'm doing",onClick:function(){return r.agree=!r.agree},value:"".concat(null===r||void 0===r?void 0:r.agree)}),Object(V.jsx)(w.a,{type:"submit",variant:"contained",className:a.button,disabled:o,size:"small",color:"primary",children:"Exclude"})]})})]})})}})},en=function(e){var t,n,i=e.listName,a=e.element,o=e.included,r=e.excluded,s=(e.touched,e.fixedListItem,e.selectAll),u=e.arrayHelper,d=e.toggleSelectAll,m=(e.includeAll,e.excludeAll),j=e.exclusion,h=Lt(),p=l.a.useState(""),v=Object(b.a)(p,2),x=(v[0],v[1]),f=l.a.useState([]),O=Object(b.a)(f,2),g=(O[0],O[1],Ie((function(e){return e.item})).markedForDeletionList),y=Ie((function(e){return e.customizer})).customization,I=Ce(),E=I.searchItem,S=I.updateCustomisation,k=Object(Ot.e)(),T=k.values,w=k.submitForm,A=l.a.useState(),M=Object(b.a)(A,2),N=M[0],D=M[1],z=l.a.useState(!1),R=Object(b.a)(z,2),_=R[0],L=R[1],B=function(){var e="";return j&&(e=o.includes(H||"")?"customised":r.includes(H||"")?"excluded":"not excluded"),j||(e=o.includes(H||"")?"customised":T[i].includes(H||"")?"included":"not included"),"excluded"===e?Object(V.jsx)(C.a,{variant:"caption",color:"secondary",children:e}):"customised"===e?Object(V.jsx)(C.a,{variant:"caption",color:"primary",children:Object(V.jsx)("strong",{children:e})}):Object(V.jsx)("em",{children:e})},H=l.a.useMemo((function(){var e;return null===(e=a.path)||void 0===e?void 0:e.split(".").pop()}),[a.path]),F=l.a.useMemo((function(){var e=null===a||void 0===a?void 0:a.path;if(e)return null===g||void 0===g?void 0:g.find((function(t){return t.startsWith(e)}))}),[null===a||void 0===a?void 0:a.path,g]);l.a.useEffect((function(){H&&(T[m]?x(""):"disable"!==s&&(s||!F&&(r.includes(H)||o.includes(H))||!T[i].includes(H)||u.remove(T[i].indexOf(H))))}),[u,m,r,F,o,H,i,s,T]);var U=l.a.useMemo((function(){var e={};if(a&&a.path){var t=new et(y,a.path).affectedDecedents();if((null===t||void 0===t?void 0:t.length)&&(e.path=a.path,e.items=[],t.forEach((function(t){t.textContent&&e.items.push(t.textContent)})),e.items.length))return e}}),[y,a]),Y=function(){if(a.path){var e=new et(y,null===a||void 0===a?void 0:a.path);if(e.ExcludedItem())return console.log("excluding:",a.path),e.include(),void S(e.customisation);console.log("including:",a.path),e.exclude(),S(e.customisation)}};return Object(V.jsxs)(c.Fragment,{children:[Object(V.jsx)(Qt,{affected:N,open:_,handleClose:function(){L(!1)}}),Object(V.jsxs)(ct.a,{divider:!0,dense:!0,button:!0,onClick:function(){var e;(e=H)&&(!U||F||(D(U),!H||r.includes(H))?("disable"!==s&&d("disable"),T[i].includes(e)||j?(x(""),u.remove(T[i].indexOf(e))):(x(e),u.push(e)),j?Y():w()):L(!0))},children:[!j&&Object(V.jsx)(Ct.a,{children:H&&T[i].includes(H)?Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}):Object(V.jsx)(st.a,{fontSize:"small",style:{color:"red"}})}),Object(V.jsx)(It.a,{style:{cursor:"pointer"},id:"".concat(null===a||void 0===a||null===(t=a.path)||void 0===t?void 0:t.split(".").pop()),primary:Object(V.jsxs)("div",{children:[Object(V.jsx)(C.a,{style:{alignItems:"center"},component:"span",variant:"body2",color:r.includes(H||"")?"textPrimary":"textSecondary",children:H}),Object(V.jsxs)(C.a,{variant:"caption",color:"textSecondary",children:["\xa0",Object(V.jsx)(B,{}),Object(V.jsx)(Rt,{lixiItem:a,placement:"top-start"})]})]})}),Object(V.jsx)(At.a,{children:Object(V.jsx)(P.a,{edge:"end","aria-label":"comments",className:h.viewItem,value:null===a||void 0===a||null===(n=a.path)||void 0===n?void 0:n.split(".").pop(),onClick:function(e){return E((null===a||void 0===a?void 0:a.path)||"")},children:Object(V.jsx)(Pt.a,{fontSize:"small"})})})]})]})},tn=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{zIndex:2,display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"35rem",overflow:"scroll",paddingTop:"0"},viewItem:{"&:hover":{color:"#3f51b5"}}})})),nn=function(e){var t=e.subItems,n=e.header,i=e.name,a=e.fixedListItem,o=e.setExcludedList,r=(e.value,e.exclusion),c=tn(),s=l.a.useState({elements:!0,attributes:!0,touched:!1}),u=Object(b.a)(s,2),d=u[0],j=u[1],h=l.a.useState({elements:!1,attributes:!1}),v=Object(b.a)(h,2),x=v[0],f=v[1],O=Ie((function(e){return e.customizer})).customization,g=Ie((function(e){return e.item})).markedForDeletionList,y=Object(Ot.e)(),C=y.values,I=(y.submitForm,l.a.useMemo((function(){var e=i.replace(new RegExp("^[a-z]"),(function(e){return e.toUpperCase()}));return"includeAll".concat(e)}),[i])),E=l.a.useMemo((function(){var e=i.replace(new RegExp("^[a-z]"),(function(e){return e.toUpperCase()}));return"excludeAll".concat(e)}),[i]),S=l.a.useMemo((function(){if(O){var e=[],n=[],i=[];return null===t||void 0===t||t.forEach((function(t){var a=null===t||void 0===t?void 0:t.path,o=a.split(".").pop(),r=new et(O,a).affectedDecedents();null===r||void 0===r||r.forEach((function(t){var a,r;(null===(a=t.textContent)||void 0===a?void 0:a.split(".").pop())===o?(null===t||void 0===t||null===(r=t.parentElement)||void 0===r?void 0:r.getAttribute("Exclude"))&&!e.includes(o)?(e.push(o),n.push(t.textContent)):i.includes(o)||i.push(o):i.includes(o)||i.push(o)}))})),{included:[].concat(i),excluded:[].concat(e),excludedFullPath:[].concat(n)}}}),[O,t]);l.a.useEffect((function(){if(null===S||void 0===S?void 0:S.excludedFullPath){var e=S.excludedFullPath,t=[];e.forEach((function(e){(null===g||void 0===g?void 0:g.includes(e))||t.push(e)})),o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},i,[].concat(t)))}))}}),[S,g,i,o]);var k=l.a.useCallback((function(e){C[E]&&(C[E]=!1),x[i]||f(Object(m.a)(Object(m.a)({},x),{},Object(p.a)({},i,!0))),"disable"!==e?"enable"!==e&&j(Object(m.a)(Object(m.a)({},d),{},Object(p.a)({},i,!d[i]))):j(Object(m.a)(Object(m.a)({},d),{},{elements:"disable",attributes:"disable"}))}),[E,i,d,x,C]);return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(yt.a,{className:c.subItem,children:Object(V.jsx)(Ot.a,{name:i,render:function(e){return Object(V.jsxs)("div",{children:[Object(V.jsx)(Mt,{name:I,exclusion:r,header:n,excluded:(null===S||void 0===S?void 0:S.excluded)||[],included:(null===S||void 0===S?void 0:S.included)||[],items:t,arrayHelper:e,selectedItemsLength:C[i].length,listName:i,toggle:k}),null===t||void 0===t?void 0:t.map((function(t,n){return(null===t||void 0===t?void 0:t.path)?Object(V.jsx)(en,{exclusion:r,fixedListItem:a,includeAll:I,excludeAll:E,listName:i,element:t,selectAll:d[i],touched:x[i],toggleSelectAll:k,excluded:(null===S||void 0===S?void 0:S.excluded)||[],included:(null===S||void 0===S?void 0:S.included)||[],arrayHelper:e},"".concat(n,"-").concat(t.path)):Object(V.jsx)("p",{})}))]})}})})})},an=n(529),on=Object(v.a)((function(e){return Object(x.a)({root:{},helperText:{width:"100%",padding:"0.5rem 0.2rem",position:"absolute",background:"#fff8e1",borderColor:e.palette.error.main,borderStyle:"solid",borderWidth:"0.1rem",borderRadius:"0.2rem",zIndex:20,boxSizing:"border-box",marginTop:"2.7rem"}})})),rn=function(e){var t=Object.assign({},e),n=Object(Ot.d)(t),i=Object(b.a)(n,2),a=i[0],o=i[1],r=on();return Object(V.jsx)(an.a,Object(m.a)(Object(m.a)(Object(m.a)({FormHelperTextProps:{className:r.helperText}},a),t),{},{error:!(!o.touched||!o.error),helperText:o.error&&o.touched?o.error:void 0}))},cn=function(e){var t=e.children,n=Object(Ot.e)().values;return Object(V.jsxs)(U.a,{container:!0,spacing:2,children:[Object(V.jsx)(U.a,{item:!0,xs:12,sm:t?6:12,children:Object(V.jsx)(rn,{title:"A custom heading for the documentation",variant:"outlined",multiline:!0,fullWidth:!0,rows:1,name:"heading",value:n.heading,label:"Custom Heading"})}),t,Object(V.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(rn,{title:"\n  A short description - explaining the item usage.\n  ",variant:"outlined",multiline:!0,fullWidth:!0,rows:4,name:"excerpt",value:n.excerpt,label:"Custom Excerpt"})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(rn,{title:"\n  An alternative description - explaining the item usage.\n  ",variant:"outlined",multiline:!0,fullWidth:!0,rows:4,name:"documentation",value:n.documentation,label:"Custom Documentation"})})]})},ln=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"12rem",maxHeight:"12rem",overflow:"scroll"},saveMinMax:{width:"100%",margin:"auto",gap:"0.5rem",alignItems:"center"},minMaxContainer:{margin:"auto",display:"flex",justifyContent:"space-between",gap:"0.5rem"},textFieldMinMax:{},saveButton:{display:"flex",justifyContent:"flex-end"},customisationTitleContainer:{display:"flex",justifyContent:"space-between",padding:"0.5rem",backgroundColor:e.palette.primary.main},customisationTitle:{color:e.palette.getContrastText(e.palette.primary.main)},customisationTitleExclusion:{color:e.palette.secondary.main},customisationTitleInclusion:{color:e.palette.getContrastText(e.palette.primary.main)},customisationTooltip:{}})})),sn=function(e){var t=e.lixiItem,n=ln(),i=l.a.useRef(),a=Ce().updateCustomisation,o=Ie((function(e){return e.customizer})).customization,r=Ie((function(e){return e.item})).markedForDeletionList,c=l.a.useState({newMin:"",newMax:"",includeAllElements:!0,excludeAllElements:!1,includeAllAttributes:!0,excludeAllAttributes:!1,elements:[],attributes:[],excerpt:"",documentation:"",heading:""}),s=Object(b.a)(c,2),u=s[0],d=s[1],j=l.a.useState(!0),h=Object(b.a)(j,2),p=h[0],v=h[1],x=l.a.useState({}),f=Object(b.a)(x,2),O=f[0],g=f[1],y=l.a.useState([]),I=Object(b.a)(y,2),E=I[0],S=I[1],k=l.a.useState({elements:[],attributes:[]}),T=Object(b.a)(k,2),A=T[0],M=T[1],N=l.a.useState({elements:[],attributes:[]}),D=Object(b.a)(N,2),z=D[0],R=D[1],P=l.a.useState(),L=Object(b.a)(P,2),B=L[0],H=L[1];l.a.useEffect((function(){i.current=Object(m.a)(Object(m.a)({},u),{},{elements:Object(oe.a)(u.elements),attributes:Object(oe.a)(u.attributes)})}),[u]);var F=l.a.useMemo((function(){return null===E||void 0===E?void 0:E.map((function(e,t){var n=new tt(e);if(n)return n}))}),[E]),Y=l.a.useMemo((function(){var e=[];return null===F||void 0===F||F.forEach((function(t,n){(null===t||void 0===t?void 0:t.path)&&e.push(t.path)})),e}),[F]),W=l.a.useMemo((function(){var e;return null===(e=O.choice||O.sequence)||void 0===e?void 0:e.map((function(e,t){return new tt(e)}))}),[O]),X=l.a.useMemo((function(){var e=[];return null===W||void 0===W||W.forEach((function(t,n){(null===t||void 0===t?void 0:t.path)&&e.push(t.path)})),e}),[W]),Z=l.a.useCallback((function(){var e,n,r=[].concat(Object(oe.a)(X),Object(oe.a)(Y)),c=Object(oe.a)((null===(e=i.current)||void 0===e?void 0:e.attributes)||[]),l=Object(oe.a)((null===(n=i.current)||void 0===n?void 0:n.elements)||[]),s=[].concat(Object(oe.a)(c),Object(oe.a)(l));if(t&&(null===t||void 0===t?void 0:t.path)){var u=new pt(o,null===t||void 0===t?void 0:t.path);u.removeElementsAndAttributes(),r.forEach((function(e,t){var n=null===e||void 0===e?void 0:e.split(".").pop();n&&!s.includes(n)&&u.excludeByPath(e)})),a(u.customisation)}}),[Y,o,X,t,a]);l.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new pt(o,null===t||void 0===t?void 0:t.path).customisedObject();(e.attributes.length||e.elements.length)&&v(!1),d(e),(e.elements.length||e.attributes.length)&&R({elements:Object(oe.a)(e.elements),attributes:Object(oe.a)(e.attributes)})}}),[o,null===t||void 0===t?void 0:t.path]);l.a.useEffect((function(){var e=null===t||void 0===t?void 0:t.lixiSubElements,n=null===t||void 0===t?void 0:t.attributes;e&&g(e),(null===n||void 0===n?void 0:n.length)&&S(n)}),[t]),l.a.useEffect((function(){var e={min:null===t||void 0===t?void 0:t.element.getAttribute("minOccurs"),max:null===t||void 0===t?void 0:t.element.getAttribute("maxOccurs")};H(e)}),[null===t||void 0===t?void 0:t.element]);var q=function(){if(null===t||void 0===t?void 0:t.path){var e=new pt(o,null===t||void 0===t?void 0:t.path);e.removeCustomisedItem()&&a(e.customisation),d(e.customisedObject()),R({elements:[],attributes:[]})}};return Object(V.jsx)(Ot.c,{enableReinitialize:!0,initialValues:u,validationSchema:function(){return function(e,t){var n=e?parseInt(e):0,i=t&&parseInt(t)?parseInt(t):99999;return $t.c().shape({newMin:$t.b().moreThan(n).max(i),newMax:$t.b().max(i-1).test({name:"min",exclusive:!1,message:"Must be greater than new min occurs",params:{},test:function(e){return!e||!this.parent.newMin||e>this.parent.newMin}}),excerpt:$t.d().max(100),documentation:$t.d().max(100)},[["newMin","newMax"]])}(null===B||void 0===B?void 0:B.min,null===B||void 0===B?void 0:B.max)},onSubmit:function(e,n){var i=n.setSubmitting;if(i(!0),null===t||void 0===t?void 0:t.path){var c=new pt(o,null===t||void 0===t?void 0:t.path,e),l=A.elements,s=A.attributes;r&&c.removeCustomisation(Object(oe.a)(r)),l.length&&c.removeCustomisation(Object(oe.a)(l)),s.length&&c.removeCustomisation(Object(oe.a)(s)),c.customise(),a(c.customisation),i(!1)}},children:function(e){e.isSubmitting;var t=e.values,i=(e.errors,e.touched,e.submitForm);return Object(V.jsx)(Ot.b,{children:Object(V.jsx)(Se.a,{style:{padding:"0.5rem"},children:Object(V.jsxs)(U.a,{container:!0,spacing:1,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsxs)(Se.a,{className:n.customisationTitleContainer,children:[Object(V.jsxs)("div",{children:[Object(V.jsx)(vt.a,{checked:p,onChange:function(e){return function(e,t,n){var i=Object(m.a)(Object(m.a)({},n),{},{elements:Object(oe.a)(n.elements),attributes:Object(oe.a)(n.attributes)});if(d(Object(m.a)(Object(m.a)({},i),{},{elements:[],attributes:[]})),e.target.checked)return Z(),d(Object(m.a)(Object(m.a)({},i),{},{elements:[],attributes:[]})),void v(e.target.checked);if(!e.target.checked){var a=Object(oe.a)(n.attributes);Y.forEach((function(e,t){var n=e.split(".").pop();!n||a.includes(n)||A.attributes.includes(e)||a.push(n)})),i.attributes=Object(oe.a)(a);var o=Object(oe.a)(n.elements);X.forEach((function(e,t){var n=e.split(".").pop();!n||o.includes(n)||A.elements.includes(e)||o.push(n)})),i.elements=Object(oe.a)(o),d(i)}t(),v(e.target.checked)}(e,i,t)},inputProps:{"aria-label":"controlled"}}),Object(V.jsxs)(C.a,{variant:"button",className:n.customisationTitle,children:[" ","Customisation by\xa0"]}),p&&Object(V.jsx)(_.a,{title:Object(V.jsxs)("div",{style:{backgroundColor:"#fff",margin:0,color:"#333",padding:"0.5rem"},children:[Object(V.jsx)(C.a,{color:"primary",variant:"h6",children:Object(V.jsx)("u",{children:"Exclusion Mode"})}),Object(V.jsxs)(C.a,{component:"div",color:"textPrimary",children:["The\xa0",Object(V.jsx)(C.a,{variant:"caption",color:"secondary",children:"excluded"}),"\xa0item(s) will not appear in the customised schema"]})]}),children:Object(V.jsx)(C.a,{variant:"button",className:n.customisationTitleExclusion,children:Object(V.jsx)("u",{children:Object(V.jsx)("em",{children:"Exclusion"})})})}),!p&&Object(V.jsx)(_.a,{title:Object(V.jsxs)("div",{style:{backgroundColor:"#fff",margin:0,color:"#333",padding:"0.5rem"},children:[Object(V.jsx)(C.a,{color:"primary",variant:"h6",children:Object(V.jsx)("u",{children:"Inclusion Mode"})}),Object(V.jsxs)(C.a,{color:"textPrimary",children:["ONLY the included item(s)\xa0",Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}),"of the parent element will appear in the customised schema."]})]}),children:Object(V.jsx)(C.a,{variant:"button",className:n.customisationTitleInclusion,children:Object(V.jsx)("u",{children:Object(V.jsx)("em",{children:"Inclusion"})})})})]}),Object(V.jsxs)("div",{className:n.saveButton,children:[Object(V.jsx)(w.a,{size:"small",style:{marginInline:"0.5rem"},onClick:q,variant:"text",color:"secondary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Delete"}),Object(V.jsx)(w.a,{size:"small",type:"submit",variant:"text",color:"secondary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})]})}),(null===W||void 0===W?void 0:W.length)?Object(V.jsx)(U.a,{item:!0,xs:12,sm:(null===E||void 0===E?void 0:E.length)?6:12,children:Object(V.jsx)(nn,{setExcludedList:M,fixedListItem:z.elements,exclusion:p,value:t.elements,header:"Sub-Elements ".concat(O.choice?"CHOICE":"(SEQUENCE)"),subItems:W,name:"elements"},"element")}):void 0,(null===F||void 0===F?void 0:F.length)?Object(V.jsx)(U.a,{item:!0,xs:12,sm:(null===W||void 0===W?void 0:W.length)?6:12,children:Object(V.jsx)(nn,{setExcludedList:M,fixedListItem:z.attributes,exclusion:p,value:t.attributes,header:"Attributes",subItems:F,name:"attributes"},"attribute")}):void 0,Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(cn,{children:Object(V.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)("div",{className:n.saveMinMax,children:Object(V.jsxs)("div",{className:n.minMaxContainer,children:[Object(V.jsx)(rn,{name:"newMin",size:"medium",fullWidth:!0,variant:"outlined",label:"New Min Occurs",disabled:"1"===(null===B||void 0===B?void 0:B.min)&&"1"===(null===B||void 0===B?void 0:B.max),value:null===t||void 0===t?void 0:t.newMin}),Object(V.jsx)(rn,{name:"newMax",size:"medium",fullWidth:!0,variant:"outlined",label:"New Max Occurs",disabled:"1"===(null===B||void 0===B?void 0:B.max),value:null===t||void 0===t?void 0:t.newMax})]})})})})})]})})})}})},un=Object(v.a)((function(e){return Object(x.a)({container:{marginTop:"1rem",backgroundColor:"##fafafa",border:"solid #333 0.1rem",borderRadius:"0.3rem"},header:{display:"flex",padding:"0.5rem",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.1rem",alignItems:"center"},subItemHeader:{display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"12rem",maxHeight:"12rem",overflow:"scroll"},itemLabelDescription:Object(p.a)({padding:"0.1rem",margin:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{display:"inline-block"}),attributes:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"inline-block"}),references:{display:"flex",alignItems:"center"},alert:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}},typeAttribute:{cursor:"pointer","&:hover":{color:e.palette.primary.main}},otherAttribute:{cursor:"not-allowed"}})})),dn=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.5rem",gap:"0.5rem"},paper:{padding:"0.5rem",margin:"0.5rem 0.2rem"},saveButton:{width:"max-content",height:"max-content"}})})),mn=$t.c().shape({optionalToMandatory:$t.a(),minInteger:$t.b().min(0,"Value must be grater than or equal to zero").typeError("Only an integer value allowed").integer("Only an integer value allowed"),maxInteger:$t.b().positive("Value must be grater than zero").typeError("Only an integer value allowed").integer("Only an integer value allowed").test({name:"minInteger",exclusive:!1,message:"Value must be grater than the minimum value",params:{},test:function(e){return!e||!this.parent.minInteger||e>this.parent.minInteger}})}),bn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,excerpt:"",heading:"",documentation:"",minInteger:"",maxInteger:""},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.documentation,i=e.excerpt,a=e.minInteger,o=e.maxInteger;t||a||o||n||i?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.integerMinMax(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"integerMinMax",value:function(){if(this.object.minInteger||this.object.maxInteger){if(this.object.minInteger){var e=et.docStub().createElement("MinInteger");e.textContent=this.object.minInteger.toString().trim(),this.customiseItem.append(e)}if(this.object.maxInteger){var t=et.docStub().createElement("MaxInteger");t.textContent=this.object.maxInteger.toString().trim(),this.customiseItem.append(t)}}}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.heading,i=e.minInteger,a=e.maxInteger;n&&this.customiseItem.setAttribute("customHeading",n),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes"),(i||a)&&this.customiseItem.setAttribute("CustomIntegerRange","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a,o;switch(e.localName){case"CustomExcerpt":var r=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=r||"";break;case"CustomDocumentation":var c=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=c||"";break;case"MinInteger":var l=null===(a=e.textContent)||void 0===a?void 0:a.trim();if(!l)return;try{t.object.minInteger=l||void 0}catch(u){}break;case"MaxInteger":var s=null===(o=e.textContent)||void 0===o?void 0:o.trim();if(!s)return;try{t.object.maxInteger=s||void 0}catch(u){}}})),this.object):this.object}}]),n}(et),jn=function(e){var t=e.lixiItem,n=dn(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=l.a.useState({optionalToMandatory:!1,excerpt:"",documentation:"",heading:"",minInteger:"",maxInteger:""}),r=Object(b.a)(o,2),c=r[0],s=r[1];return l.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new bn(a,null===t||void 0===t?void 0:t.path).customisedObject();s(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,validationSchema:mn,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new bn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values;e.errors,e.touched,e.resetForm;return Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Se.a,{style:{padding:"0.5rem"},children:[Object(V.jsx)(Wt.a,{style:{width:"100%"},children:Object(V.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(V.jsx)(Xt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(V.jsx)(w.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})})}),Object(V.jsx)(at.a,{}),Object(V.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:Object(V.jsx)(Wt.a,{style:{width:"100%"},children:Object(V.jsx)(Se.a,{className:n.paper,children:Object(V.jsxs)("div",{className:n.container,children:[Object(V.jsx)(rn,{variant:"outlined",size:"small",label:"Minimum",name:"minInteger",placeholder:"Minimum"}),Object(V.jsx)(rn,{variant:"outlined",size:"small",label:"Maximum",name:"maxInteger",placeholder:"Maximum"})]})})})}),Object(V.jsx)(cn,{})]})})}})};jn.defaultProps={type:"integerType"};var hn=function(e){var t=e.children,n=e.switchType,i=/^[a-zA-Z]+List$/;return t.find((function(e){var t=e.props.type;return i.test(n)?"listType"===t:n===t}))||Object(V.jsx)(V.Fragment,{})},pn=Object(v.a)((function(e){return Object(x.a)({root:{},name:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},definition:{marginBottom:12,marginLeft:"2.7rem",width:"75ch"},saveButton:{width:"max-content",height:"max-content"},enumeratedList:{maxHeight:"15rem",width:"100%",overflowY:"scroll"}})})),vn=$t.c().shape({optionalToMandatory:$t.a(),stringTo:$t.d().oneOf(["list","pattern"]),minInteger:$t.b().min(0,"Value must be grater than or equal to zero").typeError("Only an integer value allowed").integer("Only an integer value allowed"),maxInteger:$t.b().positive("Value must be grater than zero").typeError("Only an integer value allowed").integer("Only an integer value allowed").test({name:"minInteger",exclusive:!1,message:"Value must be grater than the minimum value",params:{},test:function(e){return!e||!this.parent.minInteger||e>this.parent.minInteger}}),pattern:$t.c({regex:$t.d(),definition:$t.d()}).test({name:"stringTo",exclusive:!1,message:"Must provide a valid regular expression for the pattern",params:{},test:function(e){if("pattern"===this.parent.stringTo){if(console.log("value",e),!e.regex)return!1;try{return!!new RegExp(e.regex)}catch(t){return!1}}return!0}})}),xn=n(520),fn=n(531),On=function(e){var t=e.label,n=e.onSelect,i=Object(Qe.a)(e,["label","onSelect"]),a=Object(Ot.d)(i),o=Object(b.a)(a,1)[0];return Object(V.jsx)(nt.a,Object(m.a)(Object(m.a)({},o),{},{control:Object(V.jsx)(fn.a,{onSelect:n,color:"primary"}),label:t}))},gn=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.5rem",width:"100%"},helperText:{width:"20rem",padding:"0.5rem 0.2rem",position:"absolute",background:"#fff8e1",borderColor:e.palette.error.main,borderStyle:"solid",borderWidth:"0.1rem",borderRadius:"0.2rem",zIndex:20,boxSizing:"border-box"}})})),yn=function(e){var t=e.resetForm,n=gn(),i=Object(Ot.e)(),a=i.values,o=i.errors,r=i.touched;return Object(V.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{className:n.container,children:[Object(V.jsx)(On,{name:"stringTo",type:"radio",value:"pattern",label:"String To Pattern"}),Object(V.jsxs)(De.a,{style:{width:"100%",marginTop:"0.5rem"},onExit:function(){return t({values:Object(m.a)(Object(m.a)({},a),{},{pattern:Object(m.a)(Object(m.a)({},a.pattern),{},{regex:"",definition:""})})})},in:"pattern"===a.stringTo,children:[Object(V.jsxs)("div",{children:[Object(V.jsx)(rn,{variant:"outlined",size:"small",label:"Regex Expression",name:"pattern.regex",placeholder:"Regex Expression"}),r.pattern&&o.pattern?Object(V.jsx)(xn.a,{className:n.helperText,error:!!o.pattern,children:o.pattern}):null]}),Object(V.jsx)("div",{style:{marginTop:"0.5rem"},children:Object(V.jsx)(rn,{variant:"outlined",size:"small",fullWidth:!0,label:"Regex Definition",name:"pattern.definition",placeholder:"Regex Definition"})})]})]})})},Cn=$t.c().shape({definition:$t.d().required().matches(/^[a-zA-Z0-9 '"%]*$/,{message:"Only alphanumerical values, % and quotes are allowed"}).min(3),name:$t.d().required().matches(/^[a-zA-Z0-9 '"%]*$/,{message:"Only alphanumerical values, % and quotes are allowed"}).min(3)}),In=n(260),En=n.n(In),Sn=n(259),kn=n.n(Sn),Tn=Object(v.a)((function(e){return Object(x.a)({root:{error:{position:"fixed"}},header:{display:"flex",padding:e.spacing(.5,1,1.5),justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.1rem",alignItems:"center"},textField:{backgroundColor:"#fff"}})})),wn=n(537),An=function(){var e=Tn(),t=l.a.useState(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],o=Object(Ot.e)(),r=o.getFieldHelpers,c=o.values;return Object(V.jsx)(Ot.c,{initialValues:{definition:"",name:"",enumList:[]},onSubmit:function(e,t){var n=t.resetForm;if(c.enumerations.some((function(t){return t.name===e.name})))a(!0);else{var i=Object(oe.a)(c.enumerations);i.push(e),r("enumerations").setValue(i),n()}},validationSchema:Cn,children:function(t){return Object(V.jsx)(Se.a,{className:e.header,children:Object(V.jsxs)(U.a,{container:!0,alignItems:"center",spacing:3,children:[Object(V.jsx)(U.a,{item:!0,xs:12,sm:5,children:Object(V.jsx)(rn,{className:e.textField,fullWidth:!0,size:"small",variant:"outlined",name:"name",placeholder:"Name",label:"Name"})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:5,children:Object(V.jsx)(rn,{className:e.textField,size:"small",fullWidth:!0,variant:"outlined",name:"definition",placeholder:"Definition",label:"Definition"})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:2,children:Object(V.jsx)(kn.a,{onClick:t.submitForm,color:"primary","aria-label":"delete",children:Object(V.jsx)(En.a,{fontSize:"large"})})}),Object(V.jsx)(wn.a,{anchorOrigin:{horizontal:"right",vertical:"bottom"},open:i,autoHideDuration:2e3,onClose:function(){return a(!1)},children:Object(V.jsxs)(Yt.a,{onClose:function(){return a(!1)},severity:"error",children:[Object(V.jsx)("strong",{children:"Duplicated Name"}),Object(V.jsx)("em",{children:'"'.concat(t.values.name,'"')}),"already exist!"]})})]})})}})},Mn=n(261),Nn=n.n(Mn),Dn=Object(v.a)((function(e){return Object(x.a)({name:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},definition:{marginBottom:12,marginLeft:"2.7rem",width:"75ch"},root:{width:"100%"},row:{display:"flex",justifyContent:"flex-start",alignItems:"center"}})})),zn=function(e){var t=e.idx,n=e.remove,i=e.name,a=e.definition,o=Dn();return Object(V.jsxs)("div",{className:o.root,children:[Object(V.jsxs)("div",{className:o.row,children:[Object(V.jsx)(P.a,{onClick:function(){return n(t)},color:"secondary","aria-label":"delete",children:Object(V.jsx)(Nn.a,{fontSize:"default"})}),Object(V.jsx)(C.a,{variant:"h5",component:"h2",children:i})]}),Object(V.jsx)("div",{children:Object(V.jsx)(C.a,{className:o.definition,color:"textSecondary",children:a})}),Object(V.jsx)(at.a,{})]})},Rn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,pattern:{regex:"",definition:""},stringTo:"",excerpt:"",heading:"",documentation:"",enumerations:[]},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.enumerations,n=e.optionalToMandatory,i=e.pattern,a=e.stringTo,o=e.documentation,r=e.excerpt;t.length||i||n||a||o||r?(this.excerpt=r||"",this.documentation=o||"",this.removeCustomisedItem(),this.itemPath(),this.customPattern(),this.setInLineAttributes(),this.customExcerpt(),this.customDocumentation(),this.customEnumeration(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"customEnumeration",value:function(){var e=this;if(this.object.enumerations.length){var t=et.docStub();this.object.enumerations.forEach((function(n,i){var a=n.definition,o=n.name,r=t.createElement("Enumeration");r.textContent=o.trim(),r.setAttribute("Definition",a),e.customiseItem.append(r)}))}}},{key:"customPattern",value:function(){if("pattern"===this.object.stringTo){var e=et.docStub().createElement("Pattern");if(this.object.pattern){var t=this.object.pattern,n=t.regex,i=t.definition;n&&(e.textContent=null===n||void 0===n?void 0:n.toString()),i&&e.setAttribute("Definition",i)}this.customiseItem.append(e)}}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.stringTo,i=e.enumerations,a=e.heading;a&&this.customiseItem.setAttribute("customHeading",a),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes"),"pattern"!==n?"list"===n&&i.length&&this.customiseItem.setAttribute("StringToList","Yes"):this.customiseItem.setAttribute("StringToPattern","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0;break;case"StringToPattern":t.object.stringTo="pattern";break;case"StringToList":t.object.stringTo="list"}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a,o;switch(e.localName){case"Enumeration":var r=null===(n=e.textContent)||void 0===n?void 0:n.trim(),c=e.getAttribute("Definition");if(!r||!c)return;t.object.enumerations.push({name:r,definition:c});break;case"CustomExcerpt":var l=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.excerpt=l||"";break;case"CustomDocumentation":var s=null===(a=e.textContent)||void 0===a?void 0:a.trim();t.object.documentation=s||"";break;case"Pattern":var u=null===(o=e.textContent)||void 0===o?void 0:o.trim(),d=e.getAttribute("Definition")||"";t.object.pattern={regex:u||"",definition:d}}})),this.object):this.object}}]),n}(et),_n=function(e){var t=e.lixiItem,n=pn(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=l.a.useState({optionalToMandatory:!1,pattern:{regex:"",definition:""},stringTo:"",excerpt:"",documentation:"",heading:"",enumerations:[]}),r=Object(b.a)(o,2),c=r[0],s=r[1];return l.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new Rn(a,null===t||void 0===t?void 0:t.path).customisedObject();s(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,validationSchema:vn,onSubmit:function(e,n){var o=n.setSubmitting;if(console.log("values",e),null===t||void 0===t?void 0:t.path){o(!0);var r=new Rn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values,i=(e.errors,e.touched,e.resetForm);return Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Se.a,{style:{padding:"0.5rem"},children:[Object(V.jsx)(Wt.a,{style:{width:"100%"},children:Object(V.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(V.jsx)(Xt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(V.jsx)(w.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})})}),Object(V.jsx)(at.a,{}),Object(V.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:Object(V.jsxs)(Wt.a,{style:{width:"100%"},children:[Object(V.jsx)(yn,{resetForm:i}),Object(V.jsxs)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:[Object(V.jsx)(On,{name:"stringTo",type:"radio",value:"list",label:"String To Enumerated List"}),Object(V.jsx)(De.a,{onExit:function(){return i({values:Object(m.a)(Object(m.a)({},t),{},{enumerations:[]})})},in:"list"===t.stringTo,children:Object(V.jsxs)("div",{style:{width:"100%"},children:[Object(V.jsx)(An,{}),Object(V.jsx)(Ot.a,{name:"enumerations",children:function(e){return Object(V.jsx)("div",{className:n.enumeratedList,children:t.enumerations.map((function(t,n){return Object(V.jsx)(zn,{idx:n,remove:e.remove,name:t.name,definition:t.definition},"".concat(t.name,"-"))}))})}})]})})]})]})}),Object(V.jsx)(cn,{})]})})}})};_n.defaultProps={type:"stringType"};var Pn=n(262),Ln=n.n(Pn),Bn=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",flexDirection:"column",width:"max-content",alignItems:"right",margin:e.spacing(.5,0,0,0)},attributes:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-end"},e.breakpoints.down("sm"),{display:"inline-block"}),typeAttribute:{cursor:"pointer","&:hover":{color:e.palette.primary.light}},otherAttribute:{cursor:"not-allowed"},table:{width:"max-content"}})})),Hn=function(e){var t=e.lixiItem,n=e.type,i=Bn(),a=Ce().searchItem;return Object(V.jsx)("div",{className:i.container,children:Object(V.jsx)("div",{className:i.attributes,children:Object(V.jsx)(Ne.a,{component:Se.a,children:Object(V.jsx)(Ln.a,{className:i.table,size:"small","aria-label":"a dense table",children:Object(V.jsxs)(Me.a,{children:[null===t||void 0===t?void 0:t.element.getAttributeNames().map((function(e,o){return Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(Te.a,{size:"small",align:"right",children:Object(V.jsx)(C.a,{color:"textSecondary",align:"right",variant:"body1",children:"".concat(e,":")})}),Object(V.jsxs)(Te.a,{size:"small",align:"center",children:[Object(V.jsx)(C.a,{className:"type"===e?i.typeAttribute:i.otherAttribute,color:"textPrimary",align:"left",variant:"body2",onClick:function(){return"type"===e&&n?a(n):void 0},children:Object(V.jsx)("strong",{children:null===t||void 0===t?void 0:t.element.getAttribute(e)})}),Object(V.jsx)(C.a,{variant:"caption",color:"secondary",children:Object(V.jsx)("em",{children:"type"===e&&/^[a-zA-Z]+List$/.test(n||"")?"Customisable":null})})]})]},e)})),(null===t||void 0===t?void 0:t.baseRestriction)?Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(Te.a,{size:"small",align:"right",children:Object(V.jsx)(C.a,{color:"textSecondary",align:"right",variant:"body1",children:"base:"})}),Object(V.jsx)(Te.a,{size:"small",align:"center",children:Object(V.jsx)(C.a,{className:i.otherAttribute,color:"textPrimary",align:"left",variant:"body2",children:Object(V.jsx)("strong",{children:null===t||void 0===t?void 0:t.baseRestriction})})})]},null===t||void 0===t?void 0:t.baseRestriction):null]})})})})})},Fn=n(521),Un=n(543),Vn=n(542),Yn=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",flexDirection:"column",width:"max-content",alignItems:"right",margin:e.spacing(1.5,0,0,0)},transactions:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"inline-block"})})})),Wn=function(e){var t,n=e.lixiItem,i=e.subSchema,a=Yn();return Object(V.jsx)("div",{className:a.transactions,children:i&&(null===n||void 0===n||null===(t=n.transactions)||void 0===t?void 0:t.sort().map((function(e,t){return(null===i||void 0===i?void 0:i.transactionType)&&i.transactionType!==e?Object(V.jsx)("span",{style:{paddingInline:"0.1rem"},children:Object(V.jsx)(Vn.a,{size:"small",color:"primary",variant:"outlined",label:e})},e):Object(V.jsx)("span",{style:{paddingInline:"0.1rem"},children:Object(V.jsx)(Vn.a,{size:"small",color:"primary",variant:"default",label:e,avatar:Object(V.jsx)(Un.a,{children:e[0]})})},e)})))})},Xn=Object(v.a)((function(e){return Object(x.a)({itemLabel:Object(p.a)({padding:"0.1rem",margin:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{display:"inline-block"}),itemDescription:Object(p.a)({maxWidth:"75ch",marginBottom:"1rem"},e.breakpoints.down("sm"),{width:"100%"})})})),Zn=function(e){var t=e.lixiItem,n=e.localName,i=e.subSchema,a=Xn();return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:a.itemLabel,children:Object(V.jsx)(Fn.a,{color:"primary",badgeContent:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(C.a,{color:"primary",variant:"h4",children:null===t||void 0===t?void 0:t.label})})}),Object(V.jsxs)("div",{className:a.itemDescription,children:[Object(V.jsx)(C.a,{style:{padding:"0.1rem 1rem"},color:"textPrimary",variant:"body1",children:null===t||void 0===t?void 0:t.documentation}),Object(V.jsx)(at.a,{}),Object(V.jsx)(Wn,{lixiItem:t,subSchema:i})]})]})},qn=Object(v.a)((function(e){return Object(x.a)({container:{},saveButton:{width:"max-content",height:"max-content"}})})),Gn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,excerpt:"",heading:"",documentation:""},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.documentation,i=e.excerpt,a=e.minInteger,o=e.maxInteger;t||a||o||n||i?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.heading;n&&this.customiseItem.setAttribute("customHeading",n),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0}})),Array.prototype.forEach.call(n.children,(function(e){var n,i;switch(e.localName){case"CustomExcerpt":var a=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=a||"";break;case"CustomDocumentation":var o=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=o||""}})),this.object):this.object}}]),n}(et),Jn=function(e){var t=e.lixiItem,n=qn(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=l.a.useState({optionalToMandatory:!1,excerpt:"",documentation:"",heading:""}),r=Object(b.a)(o,2),c=r[0],s=r[1];return l.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new Gn(a,null===t||void 0===t?void 0:t.path).customisedObject();s(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new Gn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values;e.errors,e.touched,e.resetForm;return Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Se.a,{style:{padding:"0.5rem"},children:[Object(V.jsx)(Wt.a,{style:{width:"100%"},children:Object(V.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(V.jsx)(Xt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(V.jsx)(w.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})})}),Object(V.jsx)(at.a,{}),Object(V.jsx)(cn,{})]})})}})};Jn.defaultProps={type:"listType"};var Kn=n(11),$n=Object(v.a)((function(e){return Object(x.a)({container:{},list:{height:"40vh",overflowY:"scroll",width:"100%",margin:e.spacing("0.5rem",0),paddingTop:"0"},subItemHeader:{zIndex:2,display:"flex",width:"100%",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main,cursor:"pointer","&:hover":{backgroundColor:Object(Kn.a)("#fff8e1",.1),color:e.palette.text.primary}},item:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover,color:e.palette.primary.dark}},selectAllText:{}})})),Qn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{tokens:[]},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.tokens,n=e.documentation,i=e.excerpt,a=e.heading;t.length||n||i||a?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.tokens(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.tokens,n=e.heading;n&&this.customiseItem.setAttribute("customHeading",n),t.length&&this.customiseItem.setAttribute("Include","Yes")}},{key:"tokens",value:function(){var e=this;this.object.tokens.length&&this.object.tokens.forEach((function(t,n){var i=et.docStub().createElement("Enumeration");i.textContent=t,e.customiseItem.append(i)}))}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||""}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a;switch(e.localName){case"CustomExcerpt":var o=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=o||"";break;case"CustomDocumentation":var r=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=r||"";break;case"Enumeration":var c=null===(a=e.textContent)||void 0===a?void 0:a.trim();c&&t.object.tokens.push(c)}})),this.object):this.object}}]),n}(et),ei=function(e){var t=e.lixiItem,n=$n(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=l.a.useState({tokens:[]}),r=Object(b.a)(o,2),c=r[0],s=r[1],u=l.a.useMemo((function(){var e;if(null===t||void 0===t||null===(e=t.enumeration)||void 0===e?void 0:e.length){var n=[];return t.enumeration.forEach((function(e){if(e){var t,i=null===(t=new tt(e).path)||void 0===t?void 0:t.split(".").pop();if(!i)return;n.push(i)}})),n}}),[null===t||void 0===t?void 0:t.enumeration]),d=function(){Object(oe.a)(c.tokens).length?s((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:[]})})):(null===u||void 0===u?void 0:u.length)&&s((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:Object(oe.a)(u)})}))};return l.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new Qn(a,t.path).customisedObject();s(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new Qn(a,t.path,e);r.customise(),i(r.customisation)}},children:function(e){var t=e.values;return Object(V.jsx)(Ot.b,{children:Object(V.jsx)(Se.a,{style:{padding:"0.5rem"},children:Object(V.jsxs)(U.a,{container:!0,spacing:1,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(Se.a,{children:Object(V.jsxs)(ot.a,{dense:!0,className:n.list,children:[Object(V.jsxs)(rt.a,{title:"Click To Select All Items",className:n.subItemHeader,style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(V.jsx)(Ct.a,{children:Object(V.jsx)(Xt,{name:"allSelected",checked:t.tokens.length===(null===u||void 0===u?void 0:u.length),value:t.tokens.length===(null===u||void 0===u?void 0:u.length)?"all":"",disableRipple:!0,onClick:function(){return d()},checkedIcon:Object(V.jsx)(dt.a,{style:{color:"green"}}),icon:Object(V.jsx)(st.a,{style:{color:"red"}}),indeterminateIcon:Object(V.jsx)(St.a,{color:"primary"}),indeterminate:c.tokens.length>0&&c.tokens.length<((null===u||void 0===u?void 0:u.length)||0)})}),Object(V.jsx)(It.a,{onClick:function(){return d()},primary:"Select All Enumerations"}),Object(V.jsx)(w.a,{style:{alignItems:"flex-end"},variant:"contained",size:"small",color:"primary",type:"submit",children:"save"})]}),Object(V.jsx)(Ot.a,{name:"tokens",render:function(e){return(null===u||void 0===u?void 0:u.length)?null===u||void 0===u?void 0:u.map((function(e){return e?Object(V.jsxs)(ct.a,{className:n.item,divider:!0,onClick:function(){return function(e){if(console.log(c),e){var t=Object(oe.a)(c.tokens);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),s((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:t.sort()})}))}}(e)},children:[Object(V.jsx)(Ct.a,{children:Object(V.jsx)(Xt,{name:"tokens",checked:null===t||void 0===t?void 0:t.tokens.includes(e),disableRipple:!0,value:(null===t||void 0===t?void 0:t.tokens.includes(e))?e:"",checkedIcon:Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}),icon:Object(V.jsx)(st.a,{fontSize:"small",style:{color:"red"}})})}),Object(V.jsx)(It.a,{children:e})]},e):Object(V.jsx)(V.Fragment,{})})):Object(V.jsx)(V.Fragment,{})}})]})})}),Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(cn,{})}),Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(z.a,{style:{display:"flex",justifyContent:"flex-end",margin:"0.5rem"}})})]})})})}})};ei.defaultProps={baseRestriction:"xs:token"};var ti=function(e){var t=e.children,n=e.switchBase;return t.find((function(e){var t=e.props.baseRestriction;return n===t}))||Object(V.jsx)(V.Fragment,{})},ni=function(e){var t=e.item,n=un(),i=Object(c.useState)(!1),a=Object(b.a)(i,2),o=a[0],r=a[1],s=Object(c.useState)(),u=Object(b.a)(s,2),d=u[0],m=u[1],j=Object(c.useState)(),h=Object(b.a)(j,2),p=h[0],v=h[1],x=Object(c.useState)(!1),f=Object(b.a)(x,2),O=f[0],g=f[1],y=Ie((function(e){return e.customizer})),I=y.customization,E=y.subSchema,S=Ce(),k=S.searchItem,T=S.updateCustomisation,A=l.a.useMemo((function(){var e;return null===p||void 0===p||null===(e=p.element)||void 0===e?void 0:e.localName}),[p]),M=l.a.useMemo((function(){var e;return(null===p||void 0===p||null===(e=p.element)||void 0===e?void 0:e.getAttribute("type"))||""}),[p]),N=l.a.useMemo((function(){return(null===p||void 0===p?void 0:p.baseRestriction)||""}),[p]);Object(c.useEffect)((function(){if(t){var e=new tt(t);v(e)}else;}),[t,I]);return Object(c.useEffect)((function(){"Package"===(null===p||void 0===p?void 0:p.path)&&r(!0)}),[null===p||void 0===p?void 0:p.path]),Object(c.useEffect)((function(){if(!O&&(null===p||void 0===p?void 0:p.path)){var e=new et(I,null===p||void 0===p?void 0:p.path);g(!!e.ExcludedItem())}}),[I,null===p||void 0===p?void 0:p.path,O]),Object(c.useEffect)((function(){if((null===p||void 0===p?void 0:p.element.localName)&&(null===p||void 0===p?void 0:p.path)&&I){var e=pt.parentCustomised(null===p||void 0===p?void 0:p.path,I,p.element.localName);e&&m(e)}}),[I,null===p||void 0===p?void 0:p.path,null===p||void 0===p?void 0:p.element.localName]),Object(V.jsxs)(U.a,{container:!0,spacing:2,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsxs)(Se.a,{style:{marginTop:"0.5rem",padding:"0.5rem 0.5rem"},children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(Se.a,{children:!d||(null===d||void 0===d?void 0:d.included)?Object(V.jsxs)("div",{className:n.header,children:[Object(V.jsx)(nt.a,{control:Object(V.jsx)(it.a,{icon:Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}),checkedIcon:Object(V.jsx)(st.a,{fontSize:"small"}),onChange:function(){if(null===p||void 0===p?void 0:p.path){var e=!O;g(e);var t=new et(I,null===p||void 0===p?void 0:p.path);e?t.exclude():t.include(),T(t.customisation)}},checked:O,disabled:null===d||void 0===d?void 0:d.included,name:"checkedI"}),label:O?"Excluded":"Include"}),Object(V.jsx)(w.a,{disabled:O,style:{height:"max-content",width:"min-content"},onClick:function(){return r((function(e){return!e}))},startIcon:Object(V.jsx)(bt.a,{}),variant:"contained",color:"primary",size:"small",children:"Customise"})]}):Object(V.jsxs)(Yt.a,{variant:"standard",severity:"warning",action:Object(V.jsx)(w.a,{className:n.alert,variant:"contained",size:"small",onClick:function(){return k((null===d||void 0===d?void 0:d.path)||"")},children:"see parent"}),children:["This item excluded via its parent:"," ",Object(V.jsx)("em",{children:Object(V.jsx)("strong",{children:null===d||void 0===d?void 0:d.path.split(".").pop()})})]})})}),Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"center"},children:[Object(V.jsx)(Zn,{lixiItem:p,localName:null===t||void 0===t?void 0:t.localName,subSchema:E}),Object(V.jsx)(Hn,{lixiItem:p,type:M})]}),(null===p||void 0===p?void 0:p.references)?Object(V.jsxs)("div",{children:[Object(V.jsx)(at.a,{}),Object(V.jsxs)(ot.a,{dense:!0,subheader:Object(V.jsx)(rt.a,{children:"References"}),children:[Object(V.jsx)(at.a,{}),p.references.map((function(e,t){return Object(V.jsx)(c.Fragment,{children:Object(V.jsx)(ct.a,{component:"li",children:Object(V.jsx)(C.a,{variant:"body1",children:e})})},"".concat(t,"_").concat(e))}))]})]}):void 0]})}),Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsxs)(De.a,{in:!O&&o,children:["element"===A?Object(V.jsx)(sn,{lixiItem:p}):void 0,"attribute"===A?Object(V.jsxs)(hn,{switchType:M,children:[Object(V.jsx)(jn,{lixiItem:p}),Object(V.jsx)(_n,{lixiItem:p}),Object(V.jsx)(Jn,{lixiItem:p})]}):null,"simpleType"===A?Object(V.jsxs)(ti,{switchBase:N,children:[Object(V.jsx)("div",{}),Object(V.jsx)(ei,{lixiItem:p})]}):null]})})]})},ii=n(524),ai=n(523),oi=n(539),ri=n(538),ci=Object(v.a)((function(e){return Object(x.a)({root:{paddingLeft:"0.5rem",borderLeft:"solid 0.5rem #3f51b5",borderRadius:"0.2rem"},link:{display:"flex",cursor:"pointer",color:e.palette.primary.dark,"&:hover":{backgroundColor:"#fff8e1",borderBottom:"solid 0.1rem #3f51b5"}},icon:{marginRight:e.spacing(.25),color:e.palette.primary.dark,width:20,height:20},leafLink:{color:e.palette.primary.main,"&:hover":{backgroundColor:"#fff8e1"}}})})),li=n(264),si=n.n(li),ui=function(e){var t,n=ci(),i=Ce().searchItem;return Object(V.jsx)(Se.a,{className:n.root,children:Object(V.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(V.jsxs)(ri.a,{separator:Object(V.jsx)(D.a,{className:n.icon}),"aria-label":"breadcrumb",children:[null===(t=e.pathSections)||void 0===t?void 0:t.map((function(t,a){return Object(V.jsx)(C.a,{onClick:function(t){return function(t){var n;if(t.preventDefault(),null===(n=e.pathSections)||void 0===n?void 0:n.length){var a=Object(oe.a)(e.pathSections),o=e.pathSections.indexOf(t.currentTarget.innerHTML);if(0!==o){if(o){for(var r=a.length;r>o+1;r--)null===a||void 0===a||a.pop();i(null===a||void 0===a?void 0:a.join("."))}}else i("Package")}}(t)},color:"textSecondary",className:n.link,children:t},a)})),Object(V.jsx)(P.a,{onClick:e.iconClickHandler,"aria-label":"delete",className:n.leafLink,size:"medium",children:Object(V.jsx)(si.a,{fontSize:"inherit"})})]})})})},di=n(39),mi=n(522),bi=n(269);function ji(e){var t=e.data,n=e.index,i=e.style;return l.a.cloneElement(t[n],{style:Object(m.a)(Object(m.a)({},i),{},{top:i.top+8})})}var hi=l.a.createContext({}),pi=l.a.forwardRef((function(e,t){var n=l.a.useContext(hi);return Object(V.jsx)("div",Object(m.a)(Object(m.a)({ref:t},e),n))}));var vi=l.a.forwardRef((function(e,t){var n=e.children,i=Object(Qe.a)(e,["children"]),a=l.a.Children.toArray(n),o=Object(di.a)(),r=Object(mi.a)(o.breakpoints.up("sm"),{noSsr:!0}),c=a.length,s=r?36:48,u=function(e){return l.a.isValidElement(e)&&e.type===rt.a?48:s},d=function(e){var t=l.a.useRef(null);return l.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(c);return Object(V.jsx)("div",{ref:t,children:Object(V.jsx)(hi.Provider,{value:i,children:Object(V.jsx)(bi.a,{itemData:a,height:(c>8?8*s:a.map(u).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:d,outerElementType:pi,innerElementType:"ul",itemSize:function(e){return u(a[e])},overscanCount:5,itemCount:c,children:ji})})})})),xi=Object(v.a)((function(e){return Object(x.a)({listbox:{boxSizing:"border-box","& ul":{padding:0,margin:0,"& li:hover":{borderBottom:"solid #444 0.05rem",backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText}}},root:{display:"flex",alignItems:"center",width:"100%",marginTop:"0rem"}})})),fi=function(){var e=xi(),t=Ce().searchItem,n=Object(c.useState)([]),i=Object(b.a)(n,2),a=i[0],o=i[1],r=Object(c.useState)(!0),s=Object(b.a)(r,2),u=s[0],d=s[1],j=Ie((function(e){return e.schema})).schema,h=Ie((function(e){return e.item})),p=h.data,v=h.loading,x=Ie((function(e){return e.customizer})).subSchema,f=Object(c.useState)(0),O=Object(b.a)(f,2),g=O[0],y=O[1],I=v||0===(null===a||void 0===a?void 0:a.length),E=l.a.useMemo((function(){if(p){var e=new tt(p);return null===e||void 0===e?void 0:e.path}}),[p]);l.a.useEffect((function(){p||v||!j||t("Package")}),[p,v,j,t]),Object(c.useEffect)((function(){p&&d(!1)}),[p]),Object(c.useEffect)((function(){Object(le.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o([]),e.next=3,new Promise((function(e,t){if(j){var n=new be(j);(null===x||void 0===x?void 0:x.transactionType)&&e(n.getPathOfAllItemsInATransaction(x.transactionType))}}));case 3:t=e.sent,y(t.length),o(t);case 6:case"end":return e.stop()}}),e)})))()}),[null===x||void 0===x?void 0:x.transactionType,j]);return Object(V.jsx)("div",{children:Object(V.jsx)("div",{children:!p||u?Object(V.jsx)(ai.a,Object(m.a)(Object(m.a)({direction:"down",in:u,mountOnEnter:!0,unmountOnExit:!0},u?{timeout:500}:{}),{},{children:Object(V.jsx)(Se.a,{className:e.root,children:Object(V.jsx)(oi.a,{id:"virtualize-demo",onChange:function(e,n){return function(e,n){e.preventDefault(),n&&(t(n),d(!1))}(e,n)},disableListWrap:!0,classes:e,autoComplete:!0,includeInputInList:!0,loading:I,ListboxComponent:vi,options:a||[],renderInput:function(e){return Object(V.jsx)(an.a,Object(m.a)(Object(m.a)({},e),{},{style:{alignItems:"center"},variant:"outlined",label:"LIXI Item Path",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{fullWidth:!0,endAdornment:Object(V.jsxs)(l.a.Fragment,{children:[Object(V.jsx)(C.a,{color:"textSecondary",children:Object(V.jsx)("em",{children:"".concat(g," Paths")})}),v?Object(V.jsx)(ii.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},renderOption:function(e){return Object(V.jsx)(C.a,{noWrap:!0,children:e})}})})})):Object(V.jsx)(ui,{iconClickHandler:function(){return d(!0)},pathSections:null===E||void 0===E?void 0:E.split(".")})})})},Oi=function(e){e.children;var t=e.value,n=e.index,i=Object(Qe.a)(e,["children","value","index"]),a=Ie((function(e){return e.item})).data,o=l.a.useState(),r=Object(b.a)(o,2),c=r[0],s=r[1],u=Ie((function(e){return e.customizer})).customization;return l.a.useEffect((function(){var e;if(a){var t=null===(e=new tt(a))||void 0===e?void 0:e.path;if(t){var n,i=new et(u,t),o=null===i||void 0===i||null===(n=i.getCustomisedItem())||void 0===n?void 0:n.parentElement;if(!o)return void s(void 0);s(o)}}}),[u,a]),Object(V.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:t===n&&Object(V.jsx)(z.a,{p:3,children:Object(V.jsxs)(C.a,{component:"div",children:[Object(V.jsx)(fi,{}),Object(V.jsx)(De.a,{in:!!a,children:a?Object(V.jsx)(ni,{item:a}):void 0},"lixiItem"),Object(V.jsx)(De.a,{in:!!c,children:Object(V.jsx)($e,{role:"view",itemXML:c})},"lixiItemXML")]})})}))},gi=n(527),yi=function(e){var t=f(),n=e.children,i=e.value,a=e.index,o=Object(Qe.a)(e,["children","value","index"]);return Object(V.jsx)("div",Object(m.a)(Object(m.a)({className:t.root,role:"tabpanel",hidden:i!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},o),{},{children:i===a&&Object(V.jsx)(z.a,{className:t.tabPanelChildren,children:Object(V.jsx)(C.a,{component:"div",children:n})})}))},Ci=n(268),Ii=n(525),Ei=n(265),Si=n.n(Ei),ki=Object(v.a)((function(e){return Object(x.a)({menuButton:{minWidth:"10rem",height:"inherit",marginLeft:"0.05rem",display:"flex",justifyContent:"space-between"}})})),Ti=function(){var e=ki(),t=Ce().customizeSubSchema,n=Ie((function(e){return e.customizer})).subSchema,i=Ie((function(e){return e.schema})).schema,a=Object(c.useState)([]),o=Object(b.a)(a,2),r=o[0],s=o[1],u=l.a.useState(null),d=Object(b.a)(u,2),m=d[0],j=d[1],h=Object(c.useMemo)((function(){return null===r||void 0===r?void 0:r.sort((function(e,t){return e&&t&&e.transactionType&&t.transactionType?(null===e||void 0===e?void 0:e.transactionType)>(null===t||void 0===t?void 0:t.transactionType)?1:-1:0}))}),[r]),p=function(e){var n=e.currentTarget.innerText.split(" "),i={transactionType:n[0],transactionVersion:n[1]};t(i),j(null)};return Object(c.useEffect)((function(){Object(le.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,new Promise((function(e,t){i?e(new be(i).getTransactions()):s([])}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[i]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(w.a,{className:e.menuButton,color:"primary","aria-controls":"simple-menu",fullWidth:!0,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},variant:"contained",disabled:!r.length,endIcon:Object(V.jsx)(Si.a,{}),children:(null===n||void 0===n?void 0:n.transactionType)&&(null===n||void 0===n?void 0:n.transactionVersion)?"".concat(n.transactionType," ").concat(n.transactionVersion):"Transaction"}),Object(V.jsx)(Ci.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:p,children:h.map((function(e){var t=e.transactionType,n=e.transactionVersion;return Object(V.jsx)(Ii.a,{id:"".concat(t,"_").concat(n),onClick:p,children:"".concat(t," ").concat(n)},"".concat(t,"_").concat(n))}))})]})},wi=Object(v.a)((function(e){return Object(x.a)({root:{backgroundColor:"transparent"},paper:{boxShadow:"1px 1px 3px #BDBDBD",overflow:"hidden",padding:e.spacing(0)},alert:{color:"#c43e00","&:hover":{color:"#ff8f00"}},button:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}}})})),Ai=function(e){var t=e.open,n=e.handleClose,i=wi(),a=Ie((function(e){return e.customizer})).subSchema,o=l.a.useState(a),r=Object(b.a)(o,2),c=r[0],s=r[1];return l.a.useEffect((function(){(null===a||void 0===a?void 0:a.transactionType)!==(null===c||void 0===c?void 0:c.transactionType)&&(s(a),n())}),[n,null===c||void 0===c?void 0:c.transactionType,a,null===a||void 0===a?void 0:a.transactionType]),Object(V.jsx)(Ot.c,{initialValues:{agree:!1},validationSchema:$t.c().shape({agree:$t.a().oneOf([!0])}),enableReinitialize:!0,onSubmit:function(e,t){var i=t.setSubmitting;t.resetForm;setTimeout((function(){i(!0),alert(JSON.stringify(e,null,2)),i(!1),n()}),400)},children:function(e){e.isSubmitting,e.values,e.errors,e.touched;var o=e.resetForm;return Object(V.jsx)("div",{children:Object(V.jsxs)(Bt.a,{draggable:!0,BackdropProps:{classes:{root:i.root}},PaperProps:{classes:{root:i.paper,elevation2:"5"}},style:{boxShadow:"none"},open:t,onClose:o,"aria-labelledby":"form-dialog-title",children:[Object(V.jsx)(Kt.a,{}),Object(V.jsx)(Vt.a,{style:{backgroundColor:"cornsilk",padding:0,boxShadow:"0.1rem 0.1rem 0.1rem orange"},id:"form-dialog-title",children:(null===a||void 0===a?void 0:a.transactionType)?Object(V.jsx)(Yt.a,{style:{width:"100%"},variant:"standard",severity:"warning",action:Object(V.jsx)(_.a,{title:"Cancel",placement:"top",children:Object(V.jsx)(P.a,{onClick:n,"aria-label":"delete",className:i.alert,size:"small",disableRipple:!0,children:Object(V.jsx)(qt.a,{fontSize:"default"})})}),children:"Changing the transaction will reset the customisation file"}):Object(V.jsx)(Yt.a,{style:{width:"100%"},variant:"standard",severity:"info",action:Object(V.jsx)(_.a,{title:"Cancel",placement:"top",children:Object(V.jsx)(P.a,{onClick:n,"aria-label":"delete",className:i.alert,size:"small",disableRipple:!0,children:Object(V.jsx)(qt.a,{fontSize:"default"})})}),children:"Target transaction schema must be selected."})}),Object(V.jsxs)(Ft.a,{children:[Object(V.jsx)(C.a,{variant:"subtitle1",children:"Select the transaction from the dropdown list"}),Object(V.jsx)(Ut.a,{})]}),Object(V.jsx)(at.a,{}),Object(V.jsx)(Ot.b,{children:Object(V.jsx)(Ht.a,{children:Object(V.jsx)(Ti,{})})})]})})}})};function Mi(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Ni=function(){var e=f(),t=l.a.useState(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],o=l.a.useState(0),r=Object(b.a)(o,2),c=r[0],s=r[1],u=Ie((function(e){return e.customizer})),d=u.customization,p=u.subSchema,v=Ie((function(e){return e.schema})).schema;return l.a.useEffect((function(){(null===p||void 0===p?void 0:p.transactionType)||!v||i||a(!0)}),[v,null===p||void 0===p?void 0:p.transactionType,i]),Object(V.jsxs)("div",{className:e.root,children:[Object(V.jsx)(Ai,{open:i,handleClose:function(){a(!1)}}),Object(V.jsx)(O.a,{className:e.appBar,position:"sticky",children:Object(V.jsxs)(gi.a,{children:[(null===p||void 0===p?void 0:p.transactionType)?Object(V.jsx)(C.a,{onClick:function(){return a(!0)},noWrap:!0,variant:"h6",style:{flexGrow:1,cursor:"pointer"},children:Object(V.jsx)("em",{children:"".concat(null===p||void 0===p?void 0:p.transactionType," - ").concat(null===p||void 0===p?void 0:p.transactionVersion)})}):Object(V.jsx)(C.a,{onClick:function(){return a(!0)},noWrap:!0,color:"secondary",variant:"h6",style:{flexGrow:1,cursor:"pointer"},children:"Transaction?"}),Object(V.jsxs)(j.a,{centered:!0,value:c,onChange:function(e,t){s(t)},"aria-label":"simple tabs example",children:[Object(V.jsx)(h.a,Object(m.a)({label:"Instruction set up"},Mi(0))),Object(V.jsx)(h.a,Object(m.a)({label:"Create Instruction"},Mi(1))),Object(V.jsx)(h.a,Object(m.a)({label:"View Instruction"},Mi(2)))]})]})}),Object(V.jsx)(yi,{value:c,index:0,children:Object(V.jsx)(y.a,{children:Object(V.jsx)(Fe,{})})}),Object(V.jsx)(Oi,{value:c,index:1}),Object(V.jsx)(yi,{value:c,index:2,children:Object(V.jsx)($e,{itemXML:d})})]})},Di=Object(v.a)((function(e){var t;return Object(x.a)({root:Object(p.a)({width:"100%",minHeight:"100vh",backgroundColor:"#333",padding:"1rem"},e.breakpoints.down("xs"),{padding:"0.5"}),main:(t={backgroundColor:"#fff",width:"50%",margin:"auto"},Object(p.a)(t,e.breakpoints.down("sm"),{width:"100%",margin:"0"}),Object(p.a)(t,e.breakpoints.up("md"),{width:"70%"}),t)})}));var zi=function(){var e=Di();return Object(V.jsx)("div",{className:e.root,children:Object(V.jsxs)("div",{className:e.main,children:[Object(V.jsx)(d.a,{}),Object(V.jsx)(Ni,{})]})})},Ri=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,544)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))},_i=n(496),Pi=n(267);var Li={lightTheme:Object(Pi.a)({palette:{type:"light"}}),darkTheme:Object(Pi.a)({palette:{type:"dark"}})},Bi=l.a.createContext((function(e){})),Hi=function(e){var t=Object(c.useState)("lightTheme"),n=Object(b.a)(t,2),i=n[0],a=n[1],o=function(e){return Li[e]}(i);return Object(V.jsx)(Bi.Provider,{value:a,children:Object(V.jsx)(_i.a,{theme:o,children:e.children})})};u.a.render(Object(V.jsx)(Hi,{children:Object(V.jsx)(l.a.StrictMode,{children:Object(V.jsx)(W.a,{store:ae,children:Object(V.jsx)(zi,{})})})}),document.getElementById("root")),Ri()}},[[444,1,2]]]);
//# sourceMappingURL=main.f555e0a8.chunk.js.map