(this["webpackJsonplixi-customiser"]=this["webpackJsonplixi-customiser"]||[]).push([[0],{330:function(e,t){},332:function(e,t){},443:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"searchItem",(function(){return me})),n.d(i,"resetItem",(function(){return be})),n.d(i,"markedForDeletion",(function(){return he})),n.d(i,"customizeSubSchema",(function(){return je})),n.d(i,"resetCustomizeSubSchema",(function(){return pe})),n.d(i,"resetCustomization",(function(){return ve})),n.d(i,"uploadExistingCustomization",(function(){return xe})),n.d(i,"updateCustomisation",(function(){return fe})),n.d(i,"uploadBaseSchema",(function(){return Oe})),n.d(i,"resetBaseSchema",(function(){return ge}));var a,o,r,c=n(0),s=n.n(c),l=n(21),u=n.n(l),d=n(503),m=n(7),b=n(10),h=n(529),j=n(527),p=n(24),v=n(489),x=n(491),f=Object(v.a)((function(e){return Object(x.a)({root:{flexGrow:1},tabPanelChildren:Object(p.a)({padding:e.spacing(3)},e.breakpoints.down("xs"),{padding:e.spacing(0)}),appBar:{backgroundColor:e.palette.primary.dark}})})),O=n(525),g=n(266),y=n.n(g),C=n(89),I=n(540),S=n(504),E=n(532),T=n(505),k=Object(v.a)((function(e){return Object(x.a)({root:{width:"100%",padding:0,margin:0},stepper:Object(p.a)({padding:"0.5rem",margin:"0.5rem"},e.breakpoints.down("xs"),{padding:"0.2rem",margin:"0.2rem"}),button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(0,2,2)},customisationContainer:{padding:e.spacing(2,2,2),margin:e.spacing(1,0,1)}})})),w=n(502),A=n(243),M=n.n(A),N=n(150),z=n.n(N),D=n(539),R=Object(v.a)((function(e){return Object(x.a)({root:{width:"inherit","& > *":{margin:e.spacing(1)}},input:{display:"none"},findPageIcon:{color:e.palette.primary.light},loadIcon:{color:e.palette.primary.main},fileName:{backgroundColor:e.palette.primary.light,width:"max-content",color:e.palette.getContrastText(e.palette.primary.light),padding:e.spacing(.75),borderRadius:"0.2rem","&:hover":{cursor:"pointer"}},label:{display:"flex",alignItems:"center"},uploadButton:{marginLeft:e.spacing(1),minWidth:"7rem"}})})),L=n(493),_=n(450),P=n(239),B=n.n(P),H=n(492),F=n(1),U=function(e){var t=e.saveFace,n=(e.description,R()),i=c.useState(),a=Object(b.a)(i,2),o=(a[0],a[1]);return Object(F.jsxs)("div",{style:{width:"100%"},children:[Object(F.jsx)("input",{accept:".xml,.xsd",className:n.input,id:"document",type:"file",onChange:function(e){var n=e.target;console.log("file changed"),o(n.files[0]),t(n.files[0])}}),Object(F.jsx)(H.a,{wrap:"nowrap",alignContent:"flex-start",container:!0,spacing:1,alignItems:"center",children:Object(F.jsx)(H.a,{item:!0,children:Object(F.jsx)(L.a,{title:"",children:Object(F.jsxs)("label",{className:n.label,htmlFor:"document",children:[Object(F.jsx)(_.a,{className:n.findPageIcon,color:"primary","aria-label":"upload picture",component:"span",title:"Browse",children:Object(F.jsx)(B.a,{fontSize:"large"})}),Object(F.jsx)(C.a,{variant:"body2",className:n.fileName,noWrap:!0,children:"Choose the file"})]})})})})]})},V=n(100),W=n(64),Y=n(242);!function(e){e.SEARCH_ITEM="search_item",e.SEARCH_ITEM_SUCCESS="search_item_success",e.SEARCH_ITEM_ERROR="search_item_error",e.REST_ITEM="resetItem",e.MARKED_FOR_DELETION="markedForDeletion"}(a||(a={})),function(e){e.EXCLUDE="exclude",e.INCLUDE="include",e.CUSTOMISE_ELEMENT="customiseElement",e.UPLOAD_CUSTOMIZATION="uploadCustomization",e.UPLOAD_CUSTOMIZATION_SUCCESS="uploadCustomizationSuccess",e.UPLOAD_CUSTOMIZATION_ERROR="uploadCustomizationError",e.RESET_CUSTOMIZATION="resetCustomization",e.CUSTOMIZE_SUB_SCHEMA="customizeSubSchema",e.RESET_SUB_SCHEMA="resetSubSchema",e.OPTIONAL_TO_MANDATORY="optionalToMandatory",e.CUSTOM_HEADING="customHeading",e.CUSTOM_MAX_OCCURS="customMaxOccurs",e.CUSTOM_MIN_OCCURS="customMinOccurs",e.STRING_TO_LIST="stringToList",e.CUSTOM_DEFINITION="definition",e.STRING_TO_PATTERN="stringToPattern",e.EXCLUDE_SUB_ELEMENTS="excludeSubElements",e.REMOVE_DESCENDENT_CUSTOMISATION="removeDescendentCustomisation",e.UPDATE_CUSTOMISATION="updateCustomisation"}(o||(o={})),function(e){e.UPLOAD_SCHEMA="uploadSchema",e.UPLOAD_SCHEMA_SUCCESS="uploadSchemaSuccess",e.UPLOAD_SCHEMA_ERROR="uploadSchemaError",e.RESET_SCHEMA="reset"}(r||(r={}));var X,Z,q,G={data:null,error:null,loading:!1,markedForDeletionList:void 0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SEARCH_ITEM:return{loading:!0,error:null,data:null,markedForDeletionList:void 0};case a.SEARCH_ITEM_SUCCESS:return{loading:!1,error:null,data:t.payload,markedForDeletionList:void 0};case a.SEARCH_ITEM_ERROR:return{loading:!1,error:t.payload,data:null,markedForDeletionList:void 0};case a.REST_ITEM:return{loading:!1,error:null,data:null,markedForDeletionList:void 0};case a.MARKED_FOR_DELETION:return Object(m.a)(Object(m.a)({},e),{},{markedForDeletionList:t.payload});default:return e}},K={customization:void 0,subSchema:{transactionType:void 0,transactionVersion:void 0},error:null,loading:!1,metaData:void 0},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.UPLOAD_CUSTOMIZATION:return Object(m.a)(Object(m.a)({},e),{},{customization:void 0,loading:!0,error:null});case o.UPLOAD_CUSTOMIZATION_SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{customization:t.payload.doc,metaData:t.payload.file,loading:!1,error:null});case o.UPLOAD_CUSTOMIZATION_ERROR:return Object(m.a)(Object(m.a)({},e),{},{customization:void 0,metaData:void 0,loading:!1,error:t.payload});case o.CUSTOMIZE_SUB_SCHEMA:return Object(m.a)(Object(m.a)({},e),{},{subSchema:t.payload});case o.RESET_SUB_SCHEMA:return Object(m.a)(Object(m.a)({},e),{},{subSchema:void 0,customization:void 0});case o.UPDATE_CUSTOMISATION:return Object(m.a)(Object(m.a)({},e),{},{customization:t.payload});case o.RESET_CUSTOMIZATION:return Object(m.a)(Object(m.a)({},e),{},{customization:void 0});default:return e}},Q={error:null,loading:!1,schema:void 0,metaData:void 0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPLOAD_SCHEMA:return{loading:!0,schema:void 0,metaData:void 0,error:null};case r.UPLOAD_SCHEMA_SUCCESS:return{loading:!1,error:null,metaData:t.payload.file,schema:t.payload.doc};case r.UPLOAD_SCHEMA_ERROR:return{loading:!1,schema:void 0,metaData:void 0,error:t.payload};case r.RESET_SCHEMA:return{loading:!1,schema:void 0,metaData:void 0,error:null};default:return e}},te=Object(W.c)({item:J,customizer:$,schema:ee}),ne=Object(W.d)(te,{},Object(W.a)(Y.a)),ie=n(14),ae=n(52),oe=n.n(ae),re=n(76),ce=n(66),se=n(17),le=n(18);!function(e){e.type="type",e.name="name",e.use="use",e.minOccurs="minOccurs",e.maxOccurs="maxOccurs",e.value="value",e.base="base"}(X||(X={})),function(e){e.element="xs:element",e.annotation="xs:annotation",e.complexType="xs:complexType",e.choice="xs:choice",e.sequence="xs:sequence",e.attribute="xs:attribute",e.simpleType="xs:simpleType",e.restriction="xs:restriction",e.documentation="xs:documentation",e.path="lx:path",e.label="lx:label",e.transactions="li:transactions",e.enumeration="xs:enumeration",e.target="lx:target",e.references="lx:references"}(Z||(Z={})),function(e){e.element="element",e.complexType="complexType",e.choice="choice",e.sequence="sequence",e.attribute="attribute",e.simpleType="simpleType",e.restriction="restriction",e.annotation="annotation",e.documentation="documentation",e.path="path",e.label="label",e.transactions="transactions",e.enumeration="enumeration"}(q||(q={}));var ue=function(e){return e?{xs:"http://www.w3.org/2001/XMLSchema",lx:"lixi.org.au/schema/appinfo_elements",li:"lixi.org.au/schema/appinfo_instructions"}[e]:null},de=function(){function e(t){Object(se.a)(this,e),this.parsedDoc=void 0,this.parsedDoc=t}return Object(le.a)(e,[{key:"getPathOfAllElements",value:function(){var e,t=[],n=this.parsedDoc.getElementsByTagName(Z.element),i=Object(ce.a)(Array.prototype.fill(n));try{for(i.s();!(e=i.n()).done;){var a=e.value;t.push(a.getElementsByTagName(Z.path)[0].textContent)}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"getPathOfAllItems",value:function(){for(var e=[],t=this.evaluateXpath("//lx:path[text()]/text()",this.parsedDoc),n=null===t||void 0===t?void 0:t.iterateNext();n;)e.push(n.textContent),n=null===t||void 0===t?void 0:t.iterateNext();return e}},{key:"getPathOfAllItemsInATransaction",value:function(e){var t,n=[];if(null===(t=this.getSchemaDetails())||void 0===t?void 0:t.getAttribute("transaction")){for(var i=this.evaluateXpath("//lx:path",this.parsedDoc),a=null===i||void 0===i?void 0:i.iterateNext();a;)n.push(a.textContent),a=null===i||void 0===i?void 0:i.iterateNext();return n}for(var o=this.evaluateXpath("//lx:path/following-sibling::li:transactions",this.parsedDoc),r=null===o||void 0===o?void 0:o.iterateNext();r;){var c,s,l=null===(c=r.textContent)||void 0===c?void 0:c.split(",");if(l&&l.includes(e))n.push(null===(s=r.parentElement)||void 0===s?void 0:s.children[0].textContent);r=null===o||void 0===o?void 0:o.iterateNext()}return n}},{key:"evaluateXpath",value:function(e,t){return t=t||this.parsedDoc,this.parsedDoc.evaluate(e,t,ue,XPathResult.ANY_TYPE,null)}},{key:"getItemByPath",value:function(e){var t,n,i;return null===(t=this.parsedDoc.evaluate("//lx:path[text()='".concat(e,"'][1]"),this.parsedDoc,ue,XPathResult.ANY_UNORDERED_NODE_TYPE,null).singleNodeValue)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(i=n.parentElement)||void 0===i?void 0:i.parentElement}},{key:"getSchemaDetails",value:function(){var e=this.parsedDoc.evaluate("//lx:schemadetail",this.parsedDoc,ue,XPathResult.ANY_UNORDERED_NODE_TYPE,null);if(e.singleNodeValue)return e.singleNodeValue}},{key:"getTransactions",value:function(){var e,t,n,i,a=[],o=null===(e=this.getSchemaDetails())||void 0===e?void 0:e.getAttribute("transaction"),r=null===(t=this.getSchemaDetails())||void 0===t?void 0:t.getAttribute("version");if(o&&r)return a.push({transactionType:o,transactionVersion:r}),a;var c=null===(n=this.getSchemaDetails())||void 0===n||null===(i=n.parentElement)||void 0===i?void 0:i.children;return Array.prototype.map.call(c,(function(e){"subschema"===e.localName&&(null===a||void 0===a||a.push({transactionType:e.getAttribute("transactiontype"),transactionVersion:e.getAttribute("version")}))})),a}}]),e}(),me=function(e){var t=function(t){return new Promise((function(n,i){var a=new de(t);e&&n(a.getItemByPath(e))}))};return function(){var e=Object(re.a)(oe.a.mark((function e(n,i){var o,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:a.SEARCH_ITEM}),e.prev=1,o=i().schema.schema){e.next=6;break}return e.abrupt("return");case 6:return e.next=9,t(o);case 9:r=e.sent,n({type:a.SEARCH_ITEM_SUCCESS,payload:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n({type:a.SEARCH_ITEM_ERROR,payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()},be=function(){return function(e){e({type:a.REST_ITEM})}},he=function(e){return function(t){t({type:a.MARKED_FOR_DELETION,payload:Object(ie.a)(e)})}},je=function(e){return function(t,n){t({type:o.CUSTOMIZE_SUB_SCHEMA,payload:e})}},pe=function(){return function(e,t){e({type:o.RESET_SUB_SCHEMA})}},ve=function(){return function(e,t){e({type:o.RESET_CUSTOMIZATION})}},xe=function(e){var t=function(e){return new Promise((function(t,n){t((new DOMParser).parseFromString(e,"text/xml"))}))};return function(){var n=Object(re.a)(oe.a.mark((function n(i){var a,r;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:o.UPLOAD_CUSTOMIZATION}),n.prev=1,n.next=4,new Promise((function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.onerror=n,i.readAsText(e)}));case 4:if(!(a=n.sent)){n.next=10;break}return n.next=8,t(null===a||void 0===a?void 0:a.toString());case 8:r=n.sent,i({type:o.UPLOAD_CUSTOMIZATION_SUCCESS,payload:{doc:r.getElementsByTagName("Customisations")[0],file:e}});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i({type:o.UPLOAD_CUSTOMIZATION_ERROR,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()},fe=function(e){return function(t){t({type:o.UPDATE_CUSTOMISATION,payload:e})}},Oe=function(e){var t=function(e){return new Promise((function(t,n){t((new DOMParser).parseFromString(e,"text/xml"))}))};return function(){var n=Object(re.a)(oe.a.mark((function n(i,a){var o,c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:r.UPLOAD_SCHEMA}),n.prev=1,n.next=4,new Promise((function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.onerror=n,i.readAsText(e)}));case 4:if(!(o=n.sent)){n.next=10;break}return n.next=8,t(null===o||void 0===o?void 0:o.toString());case 8:c=n.sent,i({type:r.UPLOAD_SCHEMA_SUCCESS,payload:{doc:c,file:e}});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i({type:r.UPLOAD_SCHEMA_ERROR,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,t){return n.apply(this,arguments)}}()},ge=function(){return function(e){try{e({type:r.RESET_SCHEMA})}catch(t){e({type:r.UPLOAD_SCHEMA_ERROR,payload:t.message})}}},ye=function(){var e=Object(V.b)();return Object(W.b)(i,e)},Ce=V.c,Ie=Object(v.a)((function(e){return Object(x.a)({uploadContainer:{maxWidth:"75ch",minWidth:"15rem",alignItems:"center",display:"flex",justifyContent:"flex-start",marginTop:"1rem",padding:"0.2rem 0.5rem",height:"max-content",backgroundColor:"#fffde7"},upload:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"80%",backgroundColor:"#fffde7"},actionsContainer:{margin:e.spacing(1,0,1,0)},nextButton:{marginLeft:"0.5rem"},fileDetailHeaderRow:{backgroundColor:e.palette.primary.main},fileDetailHeaderCell:{color:e.palette.getContrastText(e.palette.primary.main)}})})),Se=n(451),Ee=n(498),Te=n(500),ke=n(497),we=n(499),Ae=n(501),Me=n(496),Ne=n(452),ze=function(e){var t=e.handelNextClicked,n=Ie(),i=ye().uploadBaseSchema,a=Ce((function(e){return e.schema})),o=a.schema,r=a.metaData,c=s.a.useMemo((function(){if(null===r||void 0===r?void 0:r.size){if(0===(null===r||void 0===r?void 0:r.size))return"0 Bytes";var e=Math.floor(Math.log(null===r||void 0===r?void 0:r.size)/Math.log(1024));return parseFloat(((null===r||void 0===r?void 0:r.size)/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}),[null===r||void 0===r?void 0:r.size]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(D.a,{maxWidth:"75ch",children:Object(F.jsx)(M.a,{children:"LIXI base schema must be uploaded."})}),Object(F.jsx)(Se.a,{className:n.uploadContainer,children:Object(F.jsxs)(H.a,{container:!0,alignItems:"center",children:[Object(F.jsx)(H.a,{item:!0,xs:12,sm:12,children:Object(F.jsx)(U,{saveFace:function(e){return i(e)},description:"Click to upload LIXI Base/Transaction Schema"})}),Object(F.jsxs)(Ne.a,{in:!!r,children:[Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsx)(Me.a,{component:Se.a,children:Object(F.jsxs)(ke.a,{"aria-label":"file table",size:"small",children:[Object(F.jsx)("caption",{children:"File Details"}),Object(F.jsx)(Ee.a,{className:n.fileDetailHeaderRow,children:Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Te.a,{className:n.fileDetailHeaderCell,variant:"head",align:"left",children:"Name"}),Object(F.jsx)(Te.a,{className:n.fileDetailHeaderCell,align:"left",children:"Last Modified"}),Object(F.jsx)(Te.a,{className:n.fileDetailHeaderCell,align:"center",children:"Size"}),Object(F.jsx)(Te.a,{className:n.fileDetailHeaderCell,align:"center",children:"Type"})]})}),Object(F.jsx)(Ae.a,{children:Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Te.a,{scope:"row",align:"left",children:null===r||void 0===r?void 0:r.name}),Object(F.jsx)(Te.a,{scope:"row",align:"left",children:(null===r||void 0===r?void 0:r.lastModified)?new Date(null===r||void 0===r?void 0:r.lastModified).toString():void 0}),Object(F.jsx)(Te.a,{scope:"row",align:"center",children:c}),Object(F.jsx)(Te.a,{scope:"row",align:"center",children:null===r||void 0===r?void 0:r.type})]})})]})})}),Object(F.jsx)(H.a,{item:!0,xs:12,sm:2,children:Object(F.jsx)("div",{className:n.actionsContainer,children:Object(F.jsx)(w.a,{size:"small",endIcon:Object(F.jsx)(z.a,{}),variant:"contained",color:"primary",onClick:t,disabled:!o,className:n.nextButton,children:"Next"})})})]})]})})]})},De=n(244),Re=n.n(De),Le=Object(v.a)((function(e){return Object(x.a)({uploadContainer:{maxWidth:"75ch",minWidth:"15rem",alignItems:"center",display:"flex",justifyContent:"flex-start",marginTop:"1rem",padding:"0.2rem 0.5rem",height:"max-content",backgroundColor:"#fffde7"},upload:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"80%",backgroundColor:"#fffde7"},actionsContainer:Object(p.a)({display:"flex",margin:e.spacing(1,0,1,0)},e.breakpoints.down("xs"),{margin:e.spacing(1,1,1,1),flexDirection:"column"}),button:Object(p.a)({marginLeft:"0.1rem"},e.breakpoints.down("xs"),{marginTop:"0.1rem"}),fileDetailHeaderRow:{backgroundColor:e.palette.primary.main},fileDetailHeaderCell:{color:e.palette.getContrastText(e.palette.primary.main)}})})),_e=n(112),Pe=n.n(_e),Be=function(e){var t=e.handelBack,n=(e.handelSkip,e.handelNext,e.activeStep),i=Le(),a=ye().uploadExistingCustomization,o=Ce((function(e){return e.customizer})).metaData,r=s.a.useMemo((function(){if(null===o||void 0===o?void 0:o.size){if(0===(null===o||void 0===o?void 0:o.size))return"0 Bytes";var e=Math.floor(Math.log(null===o||void 0===o?void 0:o.size)/Math.log(1024));return parseFloat(((null===o||void 0===o?void 0:o.size)/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}),[null===o||void 0===o?void 0:o.size]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(D.a,{maxWidth:"75ch",children:Object(F.jsx)(C.a,{children:"If you already have an existing customisation instruction file you can upload it here, otherwise a new customisation instruction file will be created."})}),Object(F.jsx)(Se.a,{className:i.uploadContainer,children:Object(F.jsxs)(Pe.a,{container:!0,alignItems:"center",children:[Object(F.jsx)(Pe.a,{item:!0,xs:12,sm:12,children:Object(F.jsx)(U,{saveFace:function(e){return a(e)},description:"Click to upload an existing customisation file"})}),Object(F.jsx)(Pe.a,{item:!0,xs:12,children:Object(F.jsx)(Ne.a,{in:!!o,children:Object(F.jsx)(Me.a,{component:Se.a,children:Object(F.jsxs)(ke.a,{"aria-label":"file table",size:"small",children:[Object(F.jsx)("caption",{children:"File Details"}),Object(F.jsx)(Ee.a,{className:i.fileDetailHeaderRow,children:Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Te.a,{className:i.fileDetailHeaderCell,variant:"head",align:"left",children:"Name"}),Object(F.jsx)(Te.a,{className:i.fileDetailHeaderCell,align:"left",children:"Last Modified"}),Object(F.jsx)(Te.a,{className:i.fileDetailHeaderCell,align:"center",children:"Size"}),Object(F.jsx)(Te.a,{className:i.fileDetailHeaderCell,align:"center",children:"Type"})]})}),Object(F.jsx)(Ae.a,{children:Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Te.a,{scope:"row",align:"left",children:null===o||void 0===o?void 0:o.name}),Object(F.jsx)(Te.a,{scope:"row",align:"left",children:(null===o||void 0===o?void 0:o.lastModified)?new Date(null===o||void 0===o?void 0:o.lastModified).toString():void 0}),Object(F.jsx)(Te.a,{scope:"row",align:"center",children:r}),Object(F.jsx)(Te.a,{scope:"row",align:"center",children:null===o||void 0===o?void 0:o.type})]})})]})})})}),Object(F.jsx)(Pe.a,{item:!0,children:Object(F.jsx)("div",{className:i.actionsContainer,children:Object(F.jsx)(w.a,{startIcon:Object(F.jsx)(Re.a,{}),size:"small",disabled:0===n,onClick:t,className:i.button,variant:"contained",color:"primary",children:"Back"})})})]})})]})},He=function(){var e={optional:Object(F.jsx)(C.a,{variant:"caption",children:"Optional"})},t=s.a.useState(0),n=Object(b.a)(t,2),i=n[0],a=n[1],o=s.a.useState({}),r=Object(b.a)(o,2),c=r[0],l=r[1],u=k(),h=function(){a((function(e){return e+1}))};return Object(F.jsxs)("div",{className:u.root,children:[Object(F.jsx)(d.a,{}),Object(F.jsxs)(I.a,{className:u.stepper,activeStep:i,orientation:"vertical",children:[Object(F.jsxs)(S.a,{children:[Object(F.jsx)(E.a,{children:"Upload LIXI Base Schema"}),Object(F.jsx)(T.a,{children:Object(F.jsx)(ze,{handelNextClicked:h})})]}),Object(F.jsxs)(S.a,Object(m.a)(Object(m.a)({},c),{},{children:[Object(F.jsx)(E.a,Object(m.a)(Object(m.a)({},e),{},{children:Object(F.jsx)(C.a,{variant:"caption",children:"Upload an existing customisation file"})})),Object(F.jsx)(T.a,{children:Object(F.jsx)(Be,{handelBack:function(){a((function(e){return e-1}))},activeStep:i,handelSkip:function(){l({completed:!1}),h()},handelNext:h})})]}))]})]})},Fe=n(245),Ue=n.n(Fe),Ve=n(246),We={indent:4,newline:"\n"},Ye={tagColor:"#03a9f4",attributeKeyColor:"#fdd835",textColor:"#FFFFFF",attributeValueColor:"#8bc34a",separatorColor:"#03a9f4"},Xe=n(248),Ze=n.n(Xe),qe=n(249),Ge=n.n(qe),Je=Object(v.a)((function(e){return Object(x.a)({container:{position:"relative",overflow:"scroll",backgroundColor:"#444",maxHeight:"100vh",marginTop:"0.5rem",borderRadius:"0.1rem"},header:{position:"sticky",top:"0",right:"0",left:"0",padding:"0.5rem 1rem",display:"flex",justifyContent:"space-between",backgroundColor:"#333",marginBottom:"1rem",borderRadius:"0.1rem",width:"inherit",boxShadow:"0.3rem 0.4rem #555",color:e.palette.getContrastText("#333")},downloadLink:{color:e.palette.secondary.light,textDecoration:"none"}})})),Ke=function(e){var t=e.itemXML,n=e.role,i=Je(),a=new XMLSerializer;if(t){var o=a.serializeToString(t);return Object(F.jsxs)("div",{className:i.container,children:[Object(F.jsxs)("div",{className:i.header,children:[Object(F.jsx)(C.a,{variant:"h5",children:n&&"download"!==n?"Item Instruction":"Customisation Instructions"}),(!n||"download"===n)&&Object(F.jsx)(w.a,{variant:"outlined",color:"secondary",startIcon:Object(F.jsx)(Ge.a,{}),children:Object(F.jsx)("div",{children:Object(F.jsx)(Ze.a,{label:"Download",filename:"customisation.xml",exportFile:function(){return Promise.resolve(o)},style:{color:"pink",textDecoration:"none"}})})})]}),Object(F.jsx)("div",{style:{margin:"1rem"},children:Object(F.jsx)(Ve.a,{xml:Ue()(o,We),theme:Ye})})]})}return Object(F.jsx)(c.Fragment,{})},$e=n(58),Qe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1?arguments[1]:void 0;Object(se.a)(this,e),this.customisation=void 0,this.path=void 0,this.customiseItem=void 0,this.excerpt="",this.documentation="",this.customiseItem=this._customiseItemStub(),n&&(this.path=n),this.customisation=t?t.cloneNode(!0):this._customisationStub()}return Object(le.a)(e,[{key:"itemPath",value:function(){if(this.path){var t=e.docStub().createElement("Path");t.textContent=this.path,this.customiseItem.append(t)}}},{key:"exclude",value:function(){if(!this.ExcludedItem()&&this.path){this.removeCustomisedItem();var t=e.docStub(),n=this._customiseItemStub();n.setAttribute("Exclude","Yes");var i=t.createElement("Path");return i.textContent=this.path,n.append(i),this.customisation.append(n),this.customiseItem}}},{key:"include",value:function(){var e=this.ExcludedItem();e&&e.parentElement&&this.customisation.removeChild(e.parentElement)}},{key:"ExcludedItem",value:function(){var e,t=this,n=Array.from(null===(e=this.customisation)||void 0===e?void 0:e.getElementsByTagName("Path"));return Array.prototype.find.call(n,(function(e){var n;if("Yes"===(null===(n=e.parentElement)||void 0===n?void 0:n.getAttribute("Exclude")))return e.textContent===t.path}))}},{key:"_customiseItemStub",value:function(){return e.docStub().createElement("CustomiseItem")}},{key:"_customisationStub",value:function(){return(new DOMParser).parseFromString('\n    <Customisations \n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n        xsi:noNamespaceSchemaLocation="LIXI-Customisation-By-Restriction.xsd" \n        LIXICode="LIXI" CustomisationCode="" \n        LIXITransactionType="" \n        customHeading="Custom Heading for All Customised Items">\n    </Customisations>',"text/xml").getElementsByTagName("Customisations")[0]}},{key:"getCustomisedItem",value:function(){var e=this,t=Array.from(this.customisation.getElementsByTagName("Path"));return Array.prototype.find.call(t,(function(t){var n;if(!(null===(n=t.parentElement)||void 0===n?void 0:n.getAttribute("Exclude")))return t.textContent===e.path}))}},{key:"getTouchedItem",value:function(){var e=this,t=Array.from(this.customisation.getElementsByTagName("Path"));return Array.prototype.find.call(t,(function(t){return t.textContent===e.path}))}},{key:"removeCustomisedItem",value:function(){var e,t=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(t)return this.customisation.removeChild(t),t}},{key:"customExcerpt",value:function(){if(this.excerpt){var t=e.docStub().createElement("CustomExcerpt");t.textContent=this.excerpt.trim(),this.customiseItem.append(t)}}},{key:"customDocumentation",value:function(){if(this.documentation){var t=e.docStub().createElement("CustomDocumentation");t.textContent=this.documentation.trim(),this.customiseItem.append(t)}}},{key:"affectedDecedents",value:function(){var e;if(null===this||void 0===this?void 0:this.path){var t=this.path,n=Array.from(null===(e=this.customisation)||void 0===e?void 0:e.getElementsByTagName("Path"));return Array.prototype.filter.call(n,(function(e){var n;return null===(n=e.textContent)||void 0===n?void 0:n.startsWith(t||"")}))}}},{key:"removeCustomisation",value:function(e){var t=this,n=Array.from(this.customisation.getElementsByTagName("Path"));Array.prototype.forEach.call(n,(function(n){n&&(null===n||void 0===n?void 0:n.textContent)&&e.includes(null===n||void 0===n?void 0:n.textContent)&&n.parentElement&&t.customisation.removeChild(null===n||void 0===n?void 0:n.parentElement)}))}},{key:"excludeByPath",value:function(e){this.path=e,this.exclude()}},{key:"notExcludeByPath",value:function(e){this.path=e,this.include()}}],[{key:"docStub",value:function(){return(new DOMParser).parseFromString("<root></root>","text/xml")}}]),e}(),et=function(){function e(t){Object(se.a)(this,e),this.element=void 0,this.annotated=void 0,this.element=t.cloneNode(!0),this.annotated=this.element.children[0].localName===q.annotation}return Object(le.a)(e,[{key:"transactions",get:function(){if(this.annotated){var e,t=this.element.children[0],n=null===t||void 0===t?void 0:t.getElementsByTagName(Z.transactions);if(n.length)return null===(e=n[0].textContent)||void 0===e?void 0:e.split(",")}return[]}},{key:"path",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(Z.path)[0].textContent}},{key:"label",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(Z.label)[0].textContent}},{key:"documentation",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(Z.documentation)[0].textContent}},{key:"rootDocument",value:function(){return this.element.ownerDocument}},{key:"references",get:function(){var e=[];if(this.annotated&&"attribute"===this.element.localName&&"referenceType"===this.element.getAttribute("type")){var t=this.element.children[0].getElementsByTagName(Z.target);return Array.prototype.map.call(t,(function(t){e.push(t.textContent)})),e}}},{key:"baseRestriction",get:function(){if("simpleType"===this.element.localName)return this.element.children[1].getAttribute("base")}},{key:"attributes",get:function(){var e=[],t=this.getLixiComplexType();return t&&Array.from(t.children).forEach((function(t){t.localName===q.attribute&&e.push(t)})),e}},{key:"getLixiComplexType",value:function(){var e=[];return Array.from(this.element.children).forEach((function(t){t.localName===q.complexType&&e.push(t)})),e[0]}},{key:"lixiSubElements",get:function(){var e=this.getLixiComplexType(),t={},n=null===e||void 0===e?void 0:e.firstElementChild;return(null===n||void 0===n?void 0:n.localName)===q.sequence?t[q.sequence]=Object(ie.a)(Array.from(n.children)):(null===n||void 0===n?void 0:n.localName)===q.choice&&(t[q.choice]=Object(ie.a)(Array.from(n.children))),Object.keys(t).length,t}},{key:"enumeration",get:function(){if("simpleType"===this.element.localName){var e=this.element.children[1];if("xs:token"===e.getAttribute("base"))return Object(ie.a)(Array.from(e.children))}}}]),e}(),tt=n(512),nt=n(516),it=n(518),at=n(506),ot=n(453),rt=n(263),ct=n.n(rt),st=n(27),lt=n(28),ut=function(e){Object(st.a)(n,e);var t=Object(lt.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(se.a)(this,n),(e=t.call(this,i,a)).object={},e.fixedList=void 0,e.fixedList=!(!(null===o||void 0===o?void 0:o.elements.length)&&!(null===o||void 0===o?void 0:o.attributes.length)),e.object=o||{includeAllElements:!0,excludeAllElements:!1,includeAllAttributes:!0,excludeAllAttributes:!1,elements:[],attributes:[],heading:"",excerpt:"",documentation:"",newMin:"",newMax:""},e}return Object(le.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.includeAllAttributes,n=e.attributes,i=e.includeAllElements,a=e.elements,o=e.newMin,r=e.newMax,c=e.documentation,s=e.excerpt,l=e.heading;t||n.length||i||a.length||r||o||c||l||s?(this.excerpt=s||"",this.documentation=c||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.customMaxOccurs(),this.customMinOccurs(),this.customAttributes(),this.customElements(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"customMinOccurs",value:function(){if(this.object.newMin){this.customiseItem.setAttribute("CustomMinOccurs","Yes");var e=Qe.docStub().createElement("CustomMinOccurs");e.textContent=this.object.newMin.toString(),this.customiseItem.append(e)}}},{key:"customMaxOccurs",value:function(){if(this.object.newMax){this.customiseItem.setAttribute("CustomMaxOccurs","Yes");var e=Qe.docStub().createElement("CustomMaxOccurs");e.textContent=this.object.newMax.toString(),this.customiseItem.append(e)}}},{key:"customAttributes",value:function(){var e=this;if(this.object.attributes.length){var t=Qe.docStub();this.object.attributes.forEach((function(n,i){var a=t.createElement("Attribute");a.textContent=n,e.customiseItem.append(a)}))}}},{key:"customElements",value:function(){var e=this;if(this.object.elements.length){var t=Qe.docStub();this.object.elements.forEach((function(n,i){var a=t.createElement("Element");a.textContent=n,e.customiseItem.append(a)}))}}},{key:"setInLineAttributes",value:function(){if(this.object.heading&&this.customiseItem.setAttribute("customHeading",this.object.heading),(this.object.elements.length||this.object.attributes.length)&&this.customiseItem.setAttribute("Include","Yes"),this.object.elements.length,this.object.attributes.length,this.object.includeAllAttributes||!this.object.attributes.length&&this.object.elements.length&&this.customiseItem.setAttribute("ExcludeAllAttributes","Yes"),this.object.includeAllElements||!this.object.elements.length&&this.object.attributes.length&&this.customiseItem.setAttribute("ExcludeAllElements","Yes"),this.object.elements.length||!this.object.includeAllElements||this.object.attributes.length||!this.object.includeAllAttributes)return this.object.elements.length||this.object.includeAllElements||this.object.attributes.length||this.object.includeAllAttributes||this.object.heading||this.object.documentation||this.object.excerpt?void 0:this.exclude()}},{key:"removeElementsAndAttributes",value:function(){var e,t=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(t){var n,i=t.getAttribute("customHeading");if(Array.prototype.find.call(t.children,(function(e){return["CustomDocumentation","CustomExcerpt"].includes(e.localName)}))||i)Array.prototype.forEach.call(t.children,(function(e){switch(e.localName){case"Element":case"Attribute":t.removeChild(e)}}));else null===(n=t.parentElement)||void 0===n||n.removeChild(t)}}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(!n)return this.object;this.object.excludeAllAttributes="Yes"===n.getAttribute("ExcludeAllAttributes"),this.object.excludeAllElements="Yes"===n.getAttribute("ExcludeAllElements"),this.fixedList=!!n.getAttribute("Include");var i=n.getAttribute("customHeading");return this.object.heading=i||void 0,Array.prototype.forEach.call(n.children,(function(e){var n,i;switch(e.localName){case"CustomMaxOccurs":var a=e.textContent;t.object.newMax=a?parseInt(a):"";break;case"CustomMinOccurs":var o=e.textContent;t.object.newMin=o?parseInt(o):"";break;case"Attribute":var r=e.textContent;if(!r)break;null===(n=t.object.attributes)||void 0===n||n.push(r);break;case"Element":var c=e.textContent;if(!c)break;null===(i=t.object.elements)||void 0===i||i.push(c);break;case"CustomExcerpt":var s=e.textContent;t.object.excerpt=s||"";break;case"CustomDocumentation":var l=e.textContent;t.object.documentation=l||""}})),this.object}}]),n}(Qe);ut.parentCustomised=function(e,t,n){var i,a={},o=e.split("."),r=o.pop(),c=new ut(t,o.join(".")),s=null===(i=c.getTouchedItem())||void 0===i?void 0:i.parentElement;if(c.customisedObject(),s){if(s.getAttribute("Exclude"))return a.included=!1,a.path=o.join("."),a;if(!s.getAttribute("Include"))return a.included=!0,a.path=o.join("."),a;if("element"===n)return s.getAttribute("ExcludeAllElements")?(a.included=!1,a.path=o.join("."),a):r&&c.object.elements.includes(r)?(a.included=!0,a.path=o.join("."),a):(a.included=!1,a.path=o.join("."),a);if("attribute"===n)return s.getAttribute("ExcludeAllAttributes")?(a.included=!1,a.path=o.join("."),a):r&&c.object.attributes.includes(r)?(a.included=!0,a.path=o.join("."),a):(a.included=!1,a.path=o.join("."),a);o.pop()}for(;o.length;){var l,u=o.pop(),d=new ut(t,o.join(".")),m=null===(l=d.getTouchedItem())||void 0===l?void 0:l.parentElement;if(d.customisedObject(),m){if(m.getAttribute("Exclude"))return a.included=!1,a.path=o.join("."),a;if(!m.getAttribute("Include"))return a.included=!0,a.path=o.join("."),a;if(m.getAttribute("ExcludeAllElements"))return a.included=!1,a.path=o.join("."),a;if(u&&d.object.elements.includes(u))return a.included=!0,a.path=o.join("."),a}}};var dt=n(509),mt=n(65),bt=n.n(mt),ht=n(16),jt=n(258),pt=n.n(jt),vt=n(507),xt=n(510),ft=n(155),Ot=n.n(ft),gt=n(83),yt=n.n(gt),Ct=Object(v.a)((function(e){return Object(x.a)({container:{position:"sticky",top:"0rem",backgroundColor:"rgba(255, 248, 225,1)",zIndex:2,"&:hover":{backgroundColor:"rgba(255, 240, 225,01)"}},subItemHeader:{display:"flex",justifyContent:"space-between",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main}})})),It=n(252),St=n.n(It),Et=n(508),Tt=function(e){var t=e.name,n=(e.toggle,e.items),i=e.listName,a=e.selectedItemsLength,o=e.header,r=e.excluded,c=e.included,l=(e.arrayHelper,e.exclusion),u=Ct(),d=s.a.useState(""),m=Object(b.a)(d,2),h=m[0],j=m[1],p=s.a.useState(!0),v=Object(b.a)(p,2),x=v[0],f=v[1],O=s.a.useState(!1),g=Object(b.a)(O,2),y=g[0],I=g[1],S=ye().updateCustomisation,E=Ce((function(e){return e.customizer})).customization,T=Object(ht.e)(),k=T.values,w=T.getFieldHelpers,A=T.submitForm;s.a.useEffect((function(){if(a===n.length)return j(t),void w(t).setValue(!0);w(t).setValue(!1),j("")}),[w,n.length,t,a,h,k]);var M=function(){if(l){var e=new Qe(E);I(!y),n.forEach((function(t,n){var i=null===t||void 0===t?void 0:t.path,a=null===i||void 0===i?void 0:i.split(".").pop();y?i&&a&&r.includes(a)&&e.notExcludeByPath(i):!i||!a||c.includes(a)||r.includes(a)||c.includes(a)||e.excludeByPath(i)})),S(e.customisation)}else{var t=Object(ie.a)(k[i]);if(f(!x),!x)return n.forEach((function(e,n){var i,a=null===e||void 0===e||null===(i=e.path)||void 0===i?void 0:i.split(".").pop();a&&!t.includes(a)&&t.push(a)})),w(i).setValue(t),void A();n.forEach((function(e,n){var a,o=null===e||void 0===e||null===(a=e.path)||void 0===a?void 0:a.split(".").pop();o&&t.includes(o)&&!c.includes(o)&&t.splice(t.indexOf(o),1),w(i).setValue(t)})),A()}};s.a.useEffect((function(){n.length!==a?f(!1):f(!0)}),[n.length,a,f]);var N=function(){return l&&y&&!c.length?Object(F.jsx)(C.a,{color:"secondary",variant:"button",children:Object(F.jsxs)("strong",{children:[" - ","All Excluded"]})}):!l&&x?Object(F.jsx)(C.a,{color:"primary",variant:"button",children:Object(F.jsxs)("strong",{style:{color:"green"},children:[" - ","All Included"]})}):Object(F.jsx)(F.Fragment,{})};return Object(F.jsx)(Se.a,{className:u.container,children:Object(F.jsx)("div",{onClick:function(){return M()},style:{cursor:"pointer"},children:Object(F.jsxs)(at.a,{style:{marginTop:"0",alignItems:"center"},className:u.subItemHeader,children:[!l&&Object(F.jsx)(vt.a,{children:a>0&&a<n.length?Object(F.jsx)(Ot.a,{color:"primary"}):x?Object(F.jsx)(St.a,{style:{color:"green"},fontSize:"default"}):Object(F.jsx)(yt.a,{fontSize:"small",style:{color:"red"}})}),Object(F.jsx)(Et.a,{children:l&&Object(F.jsx)(dt.a,{size:"small",checked:y,onChange:function(e){return M()},inputProps:{"aria-label":"controlled"}})}),Object(F.jsx)(xt.a,{primary:Object(F.jsxs)(F.Fragment,{children:[o,Object(F.jsx)(N,{})]})})]},t)})})},kt=n(253),wt=n.n(kt),At=Object(v.a)((function(e){return Object(x.a)({viewItem:{"&:hover":{color:"#3f51b5"}},tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",fontSize:16},tooltip2:{backgroundColor:"#fff",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(16)}})})),Mt=function(e){var t=e.lixiItem,n=e.placement,i=At();return Object(F.jsx)(L.a,{placement:n,className:i.tooltip2,title:Object(F.jsxs)(s.a.Fragment,{children:[Object(F.jsx)(C.a,{color:"inherit",children:t.label}),t.documentation]}),children:Object(F.jsx)(wt.a,{className:i.viewItem,fontSize:"small"})})},Nt=n(87),zt=n.n(Nt),Dt=n(257),Rt=n.n(Dt),Lt=Object(v.a)((function(e){return Object(x.a)({subItem:{"&:hover":{backgroundColor:"rgba(255, 240, 225,01)",color:e.palette.primary.main}},searchIcon:{"&:hover":{color:"#3f51b5"}}})})),_t=n(535),Pt=n(517),Bt=n(514),Ht=n(515),Ft=n(513),Ut=n(531),Vt=n(533),Wt=n(511),Yt=function(e){var t=e.checked,n=e.label,i=Object($e.a)(e,["checked","label"]),a=Object(ht.d)(i),o=Object(b.a)(a,2),r=o[0],c=o[1];return n?Object(F.jsx)(Wt.a,{error:!(!c.touched||!c.error),children:Object(F.jsx)(tt.a,{style:{padding:0,color:c.touched&&c.error?"red":"inherit"},control:Object(F.jsx)(Vt.a,Object(m.a)(Object(m.a)({checked:t},r),i)),label:n})}):Object(F.jsx)(Vt.a,Object(m.a)(Object(m.a)({checked:t},r),i))},Xt=n(111),Zt=n.n(Xt),qt=Object(v.a)((function(e){return Object(x.a)({root:{backgroundColor:"transparent"},paper:{boxShadow:"1px 1px 3px #BDBDBD",overflow:"hidden",padding:e.spacing(0)},alert:{color:"#c43e00","&:hover":{color:"#ff8f00"}},button:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}}})})),Gt=n(158),Jt=n.n(Gt),Kt=n(22),$t=function(e){var t=e.open,n=e.affected,i=e.handleClose,a=qt(),o=ye().updateCustomisation,r=Ce((function(e){return e.customizer})).customization;return Object(F.jsx)(ht.c,{initialValues:Object(m.a)({agree:!1},n),validationSchema:Kt.c().shape({agree:Kt.a().oneOf([!0])}),enableReinitialize:!0,onSubmit:function(e,t){var a=t.setSubmitting,c=t.resetForm;setTimeout((function(){a(!0);var t=new Qe(r,null===n||void 0===n?void 0:n.path);t.removeCustomisation(Object(ie.a)(e.items||[])),o(t.customisation),a(!1),c(),i()}),400)},children:function(e){var o=e.isSubmitting,r=e.values,c=(e.errors,e.touched,e.resetForm);return Object(F.jsx)("div",{children:Object(F.jsxs)(_t.a,{draggable:!0,BackdropProps:{classes:{root:a.root}},PaperProps:{classes:{root:a.paper,elevation2:"5"}},style:{boxShadow:"none"},open:t,onClose:c,"aria-labelledby":"form-dialog-title",children:[Object(F.jsx)(Jt.a,{}),Object(F.jsx)(Ft.a,{style:{backgroundColor:"cornsilk",padding:0,boxShadow:"1px 1px 1px orange"},id:"form-dialog-title",children:Object(F.jsx)(Ut.a,{style:{width:"100%"},variant:"standard",severity:"warning",action:Object(F.jsx)(L.a,{title:"Cancel",placement:"top",children:Object(F.jsx)(_.a,{onClick:i,"aria-label":"delete",className:a.alert,size:"small",disableRipple:!0,children:Object(F.jsx)(Zt.a,{fontSize:"default"})})}),children:Object(F.jsxs)("em",{children:[Object(F.jsx)("strong",{children:null===n||void 0===n?void 0:n.path.split(".").pop()})," ","Has Customised Descendant(s)!"]})})}),Object(F.jsxs)(Bt.a,{children:[Object(F.jsxs)(C.a,{gutterBottom:!0,variant:"subtitle1",children:["Before excluding/not including"," ",Object(F.jsx)("strong",{children:null===n||void 0===n?void 0:n.path.split(".").pop()}),", following customisation must be deleted to avoid conflicting instructions."]}),null===n||void 0===n?void 0:n.items.map((function(e,t){return Object(F.jsx)("li",{children:"".concat(e)},e)})),Object(F.jsx)(Ht.a,{})]}),Object(F.jsx)(nt.a,{}),Object(F.jsx)(ht.b,{children:Object(F.jsxs)(Pt.a,{style:{justifyContent:"space-between",padding:"0.2rem 1rem"},children:[Object(F.jsx)(Yt,{checked:r.agree,name:"agree",label:"I know what I'm doing",onClick:function(){return r.agree=!r.agree},value:"".concat(null===r||void 0===r?void 0:r.agree)}),Object(F.jsx)(w.a,{type:"submit",variant:"contained",className:a.button,disabled:o,size:"small",color:"primary",children:"Proceed"})]})})]})})}})},Qt=function(e){var t,n,i=e.listName,a=e.element,o=e.included,r=e.excluded,l=(e.touched,e.fixedListItem,e.selectAll),u=e.arrayHelper,d=e.toggleSelectAll,m=(e.includeAll,e.excludeAll),h=e.exclusion,j=Lt(),p=s.a.useState(""),v=Object(b.a)(p,2),x=(v[0],v[1]),f=Ce((function(e){return e.item})).markedForDeletionList,O=Ce((function(e){return e.customizer})).customization,g=ye(),y=g.searchItem,I=g.updateCustomisation,S=Object(ht.e)(),E=S.values,T=S.submitForm,k=s.a.useState(),w=Object(b.a)(k,2),A=w[0],M=w[1],N=s.a.useState(!1),z=Object(b.a)(N,2),D=z[0],R=z[1],L=function(){var e="";return h&&(e=o.includes(P||"")?"customised":r.includes(P||"")?"excluded":"not excluded"),h||(e=o.includes(P||"")?"customised":E[i].includes(P||"")?"included":"not included"),"excluded"===e?Object(F.jsx)(C.a,{variant:"caption",color:"secondary",children:e}):"customised"===e?Object(F.jsx)(C.a,{variant:"button",color:"primary",children:Object(F.jsx)("strong",{children:e})}):Object(F.jsx)("em",{children:e})},P=s.a.useMemo((function(){var e;return null===(e=a.path)||void 0===e?void 0:e.split(".").pop()}),[a.path]),B=s.a.useMemo((function(){var e=null===a||void 0===a?void 0:a.path;if(e)return null===f||void 0===f?void 0:f.find((function(t){return t.startsWith(e)}))}),[null===a||void 0===a?void 0:a.path,f]);s.a.useEffect((function(){P&&(E[m]?x(""):"disable"!==l&&(l||!B&&(r.includes(P)||o.includes(P))||!E[i].includes(P)||u.remove(E[i].indexOf(P))))}),[u,m,r,B,o,P,i,l,E]);var H=s.a.useMemo((function(){var e={};if(a&&a.path){var t=new Qe(O,a.path).affectedDecedents();if((null===t||void 0===t?void 0:t.length)&&(e.path=a.path,e.items=[],t.forEach((function(t){t.textContent&&e.items.push(t.textContent)})),e.items.length))return e}}),[O,a]),U=function(){if(a.path){var e=new Qe(O,null===a||void 0===a?void 0:a.path);if(e.ExcludedItem())return console.log("excluding:",a.path),e.include(),void I(e.customisation);console.log("including:",a.path),e.exclude(),I(e.customisation)}};return Object(F.jsxs)(c.Fragment,{children:[Object(F.jsx)($t,{affected:A,open:D,handleClose:function(){R(!1)}}),Object(F.jsxs)(ot.a,{className:j.subItem,divider:!0,dense:!0,button:!0,onClick:function(){var e;(e=P)&&(!H||B||(M(H),!P||r.includes(P))?("disable"!==l&&d("disable"),E[i].includes(e)||h?(x(""),u.remove(E[i].indexOf(e))):(x(e),u.push(e)),h?U():T()):R(!0))},children:[!h&&Object(F.jsx)(vt.a,{children:P&&E[i].includes(P)?Object(F.jsx)(zt.a,{style:{color:"green"},fontSize:"small"}):Object(F.jsx)(yt.a,{fontSize:"small",style:{color:"red"}})}),Object(F.jsx)(xt.a,{style:{cursor:"pointer"},id:"".concat(null===a||void 0===a||null===(t=a.path)||void 0===t?void 0:t.split(".").pop()),primary:Object(F.jsxs)("div",{children:[Object(F.jsx)(C.a,{style:{alignItems:"center"},component:"span",variant:"body2",children:P}),Object(F.jsxs)(C.a,{variant:"caption",color:"textSecondary",children:["\xa0",Object(F.jsx)(L,{}),Object(F.jsx)(Mt,{lixiItem:a,placement:"top-start"})]})]})}),Object(F.jsx)(Et.a,{children:Object(F.jsx)(_.a,{edge:"end","aria-label":"comments",className:j.searchIcon,value:null===a||void 0===a||null===(n=a.path)||void 0===n?void 0:n.split(".").pop(),onClick:function(e){return y((null===a||void 0===a?void 0:a.path)||"")},children:Object(F.jsx)(Rt.a,{fontSize:"small"})})})]})]})},en=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{zIndex:2,display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"35rem",overflow:"scroll","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.primary.light,outline:"1px solid slategrey"},paddingTop:"0"},viewItem:{"&:hover":{color:"#3f51b5"}}})})),tn=function(e){var t=e.subItems,n=e.header,i=e.name,a=e.fixedListItem,o=e.setExcludedList,r=(e.value,e.exclusion),c=en(),l=s.a.useState({elements:!0,attributes:!0,touched:!1}),u=Object(b.a)(l,2),d=u[0],h=u[1],j=s.a.useState({elements:!1,attributes:!1}),v=Object(b.a)(j,2),x=v[0],f=v[1],O=Ce((function(e){return e.customizer})).customization,g=Ce((function(e){return e.item})).markedForDeletionList,y=Object(ht.e)().values,C=s.a.useMemo((function(){var e=i.replace(new RegExp("^[a-z]"),(function(e){return e.toUpperCase()}));return"includeAll".concat(e)}),[i]),I=s.a.useMemo((function(){var e=i.replace(new RegExp("^[a-z]"),(function(e){return e.toUpperCase()}));return"excludeAll".concat(e)}),[i]),S=s.a.useMemo((function(){if(O){var e=[],n=[],i=[];return null===t||void 0===t||t.forEach((function(t){var a=null===t||void 0===t?void 0:t.path,o=a.split(".").pop(),r=new Qe(O,a).affectedDecedents();null===r||void 0===r||r.forEach((function(t){var a,r;(null===(a=t.textContent)||void 0===a?void 0:a.split(".").pop())===o?(null===t||void 0===t||null===(r=t.parentElement)||void 0===r?void 0:r.getAttribute("Exclude"))&&!e.includes(o)?(e.push(o),n.push(t.textContent)):i.includes(o)||i.push(o):i.includes(o)||i.push(o)}))})),{included:[].concat(i),excluded:[].concat(e),excludedFullPath:[].concat(n)}}}),[O,t]);s.a.useEffect((function(){if(null===S||void 0===S?void 0:S.excludedFullPath){var e=S.excludedFullPath,t=[];e.forEach((function(e){(null===g||void 0===g?void 0:g.includes(e))||t.push(e)})),o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},i,[].concat(t)))}))}}),[S,g,i,o]);var E=s.a.useCallback((function(e){y[I]&&(y[I]=!1),x[i]||f(Object(m.a)(Object(m.a)({},x),{},Object(p.a)({},i,!0))),"disable"!==e?"enable"!==e&&h(Object(m.a)(Object(m.a)({},d),{},Object(p.a)({},i,!d[i]))):h(Object(m.a)(Object(m.a)({},d),{},{elements:"disable",attributes:"disable"}))}),[I,i,d,x,y]);return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(pt.a,{className:c.subItem,children:Object(F.jsx)(ht.a,{name:i,render:function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Tt,{name:C,exclusion:r,header:n,excluded:(null===S||void 0===S?void 0:S.excluded)||[],included:(null===S||void 0===S?void 0:S.included)||[],items:t,arrayHelper:e,selectedItemsLength:y[i].length,listName:i,toggle:E}),null===t||void 0===t?void 0:t.map((function(t,n){return(null===t||void 0===t?void 0:t.path)?Object(F.jsx)(Qt,{exclusion:r,fixedListItem:a,includeAll:C,excludeAll:I,listName:i,element:t,selectAll:d[i],touched:x[i],toggleSelectAll:E,excluded:(null===S||void 0===S?void 0:S.excluded)||[],included:(null===S||void 0===S?void 0:S.included)||[],arrayHelper:e},"".concat(n,"-").concat(t.path)):Object(F.jsx)("p",{})}))]})}})})})},nn=n(528),an=Object(v.a)((function(e){return Object(x.a)({root:{},helperText:{width:"100%",padding:"0.5rem 0.2rem",position:"absolute",background:"#fff8e1",borderColor:e.palette.error.main,borderStyle:"solid",borderWidth:"0.1rem",borderRadius:"0.2rem",zIndex:20,boxSizing:"border-box",marginTop:"2.7rem"}})})),on=function(e){var t=Object.assign({},e),n=Object(ht.d)(t),i=Object(b.a)(n,2),a=i[0],o=i[1],r=an();return Object(F.jsx)(nn.a,Object(m.a)(Object(m.a)(Object(m.a)({FormHelperTextProps:{className:r.helperText}},a),t),{},{error:!(!o.touched||!o.error),helperText:o.error&&o.touched?o.error:void 0}))},rn=function(e){var t=e.children,n=Object(ht.e)().values;return Object(F.jsxs)(H.a,{container:!0,spacing:2,children:[Object(F.jsx)(H.a,{item:!0,xs:12,sm:t?6:12,children:Object(F.jsx)(on,{title:"A custom heading for the documentation",variant:"outlined",multiline:!0,fullWidth:!0,rows:1,name:"heading",value:n.heading,label:"Custom Heading"})}),t,Object(F.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(on,{title:"\n  A short description - explaining the item usage.\n  ",variant:"outlined",multiline:!0,fullWidth:!0,rows:4,name:"excerpt",value:n.excerpt,label:"Custom Excerpt"})}),Object(F.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(on,{title:"\n  An alternative description - explaining the item usage.\n  ",variant:"outlined",multiline:!0,fullWidth:!0,rows:4,name:"documentation",value:n.documentation,label:"Custom Documentation"})})]})},cn=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"12rem",maxHeight:"12rem",overflow:"scroll"},saveMinMax:{width:"100%",margin:"auto",gap:"0.5rem",alignItems:"center"},minMaxContainer:{margin:"auto",display:"flex",justifyContent:"space-between",gap:"0.5rem"},textFieldMinMax:{},saveButton:{display:"flex",justifyContent:"flex-end"},customisationTitleContainer:{display:"flex",justifyContent:"space-between",padding:"0.5rem",backgroundColor:e.palette.primary.main},customisationTitle:{color:e.palette.getContrastText(e.palette.primary.main)},customisationTitleExclusion:{color:e.palette.secondary.main},customisationTitleInclusion:{color:e.palette.getContrastText(e.palette.primary.main)},customisationTooltip:{}})})),sn=function(e){var t=e.lixiItem,n=cn(),i=s.a.useRef(),a=ye().updateCustomisation,o=Ce((function(e){return e.customizer})).customization,r=Ce((function(e){return e.item})).markedForDeletionList,c=s.a.useState({newMin:"",newMax:"",includeAllElements:!0,excludeAllElements:!1,includeAllAttributes:!0,excludeAllAttributes:!1,elements:[],attributes:[],excerpt:"",documentation:"",heading:""}),l=Object(b.a)(c,2),u=l[0],d=l[1],h=s.a.useState(!0),j=Object(b.a)(h,2),p=j[0],v=j[1],x=s.a.useState({}),f=Object(b.a)(x,2),O=f[0],g=f[1],y=s.a.useState([]),I=Object(b.a)(y,2),S=I[0],E=I[1],T=s.a.useState({elements:[],attributes:[]}),k=Object(b.a)(T,2),A=k[0],M=k[1],N=s.a.useState({elements:[],attributes:[]}),z=Object(b.a)(N,2),D=z[0],R=z[1],_=s.a.useState(),P=Object(b.a)(_,2),B=P[0],U=P[1];s.a.useEffect((function(){i.current=Object(m.a)(Object(m.a)({},u),{},{elements:Object(ie.a)(u.elements),attributes:Object(ie.a)(u.attributes)})}),[u]);var V=s.a.useMemo((function(){return null===S||void 0===S?void 0:S.map((function(e,t){var n=new et(e);if(n)return n}))}),[S]),W=s.a.useMemo((function(){var e=[];return null===V||void 0===V||V.forEach((function(t,n){(null===t||void 0===t?void 0:t.path)&&e.push(t.path)})),e}),[V]),Y=s.a.useMemo((function(){var e;return null===(e=O.choice||O.sequence)||void 0===e?void 0:e.map((function(e,t){return new et(e)}))}),[O]),X=s.a.useMemo((function(){var e=[];return null===Y||void 0===Y||Y.forEach((function(t,n){(null===t||void 0===t?void 0:t.path)&&e.push(t.path)})),e}),[Y]),Z=s.a.useCallback((function(){var e,n,r=[].concat(Object(ie.a)(X),Object(ie.a)(W)),c=Object(ie.a)((null===(e=i.current)||void 0===e?void 0:e.attributes)||[]),s=Object(ie.a)((null===(n=i.current)||void 0===n?void 0:n.elements)||[]),l=[].concat(Object(ie.a)(c),Object(ie.a)(s));if(t&&(null===t||void 0===t?void 0:t.path)){var u=new ut(o,null===t||void 0===t?void 0:t.path);u.removeElementsAndAttributes(),r.forEach((function(e,t){var n=null===e||void 0===e?void 0:e.split(".").pop();n&&!l.includes(n)&&u.excludeByPath(e)})),a(u.customisation)}}),[W,o,X,t,a]);s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new ut(o,null===t||void 0===t?void 0:t.path).customisedObject();(e.attributes.length||e.elements.length)&&v(!1),d(e),(e.elements.length||e.attributes.length)&&R({elements:Object(ie.a)(e.elements),attributes:Object(ie.a)(e.attributes)})}}),[o,null===t||void 0===t?void 0:t.path]);s.a.useEffect((function(){var e=null===t||void 0===t?void 0:t.lixiSubElements,n=null===t||void 0===t?void 0:t.attributes;e&&g(e),(null===n||void 0===n?void 0:n.length)&&E(n)}),[t]),s.a.useEffect((function(){var e={min:null===t||void 0===t?void 0:t.element.getAttribute("minOccurs"),max:null===t||void 0===t?void 0:t.element.getAttribute("maxOccurs")};U(e)}),[null===t||void 0===t?void 0:t.element]);var q=function(){if(null===t||void 0===t?void 0:t.path){var e=new ut(o,null===t||void 0===t?void 0:t.path);e.removeCustomisedItem()&&a(e.customisation),d(e.customisedObject()),R({elements:[],attributes:[]})}};return Object(F.jsx)(ht.c,{enableReinitialize:!0,initialValues:u,validationSchema:function(){return function(e,t){var n=e?parseInt(e):0,i=t&&parseInt(t)?parseInt(t):99999;return Kt.c().shape({newMin:Kt.b().moreThan(n).max(i),newMax:Kt.b().max(i-1).test({name:"min",exclusive:!1,message:"Must be greater than new min occurs",params:{},test:function(e){return!e||!this.parent.newMin||e>this.parent.newMin}}),excerpt:Kt.d().max(100),documentation:Kt.d().max(100)},[["newMin","newMax"]])}(null===B||void 0===B?void 0:B.min,null===B||void 0===B?void 0:B.max)},onSubmit:function(e,n){var i=n.setSubmitting;if(i(!0),null===t||void 0===t?void 0:t.path){var c=new ut(o,null===t||void 0===t?void 0:t.path,e),s=A.elements,l=A.attributes;r&&c.removeCustomisation(Object(ie.a)(r)),s.length&&c.removeCustomisation(Object(ie.a)(s)),l.length&&c.removeCustomisation(Object(ie.a)(l)),c.customise(),a(c.customisation),i(!1)}},children:function(e){e.isSubmitting;var t=e.values,i=(e.errors,e.touched,e.submitForm);return Object(F.jsx)(ht.b,{children:Object(F.jsx)(Se.a,{style:{padding:"0rem 0rem 0.5rem"},children:Object(F.jsxs)(H.a,{container:!0,spacing:1,children:[Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsxs)(Se.a,{className:n.customisationTitleContainer,children:[Object(F.jsxs)("div",{children:[Object(F.jsx)(dt.a,{checked:p,onChange:function(e){return function(e,t,n){var i=Object(m.a)(Object(m.a)({},n),{},{elements:Object(ie.a)(n.elements),attributes:Object(ie.a)(n.attributes)});if(d(Object(m.a)(Object(m.a)({},i),{},{elements:[],attributes:[]})),e.target.checked)return Z(),d(Object(m.a)(Object(m.a)({},i),{},{elements:[],attributes:[]})),void v(e.target.checked);if(!e.target.checked){var a=Object(ie.a)(n.attributes);W.forEach((function(e,t){var n=e.split(".").pop();!n||a.includes(n)||A.attributes.includes(e)||a.push(n)})),i.attributes=Object(ie.a)(a);var o=Object(ie.a)(n.elements);X.forEach((function(e,t){var n=e.split(".").pop();!n||o.includes(n)||A.elements.includes(e)||o.push(n)})),i.elements=Object(ie.a)(o),d(i)}t(),v(e.target.checked)}(e,i,t)},inputProps:{"aria-label":"controlled"}}),Object(F.jsxs)(C.a,{variant:"button",className:n.customisationTitle,children:[" ","Customisation by\xa0"]}),p&&Object(F.jsx)(L.a,{title:Object(F.jsxs)("div",{style:{backgroundColor:"#fff",margin:0,color:"#333",padding:"0.5rem 0rem"},children:[Object(F.jsx)(C.a,{color:"primary",variant:"h6",children:Object(F.jsx)("u",{children:"Exclusion Mode"})}),Object(F.jsxs)(C.a,{component:"div",color:"textPrimary",children:["The\xa0",Object(F.jsx)(C.a,{variant:"caption",color:"secondary",children:"excluded"}),"\xa0item(s) will not appear in the customised schema"]})]}),children:Object(F.jsx)(C.a,{variant:"button",className:n.customisationTitleExclusion,children:Object(F.jsx)("u",{children:Object(F.jsx)("em",{children:"Exclusion"})})})}),!p&&Object(F.jsx)(L.a,{title:Object(F.jsxs)("div",{style:{backgroundColor:"#fff",margin:0,color:"#333",padding:"0.5rem 0rem"},children:[Object(F.jsx)(C.a,{color:"primary",variant:"h6",children:Object(F.jsx)("u",{children:"Inclusion Mode"})}),Object(F.jsxs)(C.a,{color:"textPrimary",children:["ONLY the included item(s)\xa0",Object(F.jsx)(zt.a,{style:{color:"green"},fontSize:"small"}),"of the parent element will appear in the customised schema."]})]}),children:Object(F.jsx)(C.a,{variant:"button",className:n.customisationTitleInclusion,children:Object(F.jsx)("u",{children:Object(F.jsx)("em",{children:"Inclusion"})})})})]}),Object(F.jsxs)("div",{className:n.saveButton,children:[Object(F.jsx)(w.a,{size:"small",style:{marginInline:"0.5rem"},onClick:q,variant:"text",color:"secondary",startIcon:Object(F.jsx)(bt.a,{fontSize:"large"}),children:"Delete"}),Object(F.jsx)(w.a,{size:"small",type:"submit",variant:"text",color:"secondary",startIcon:Object(F.jsx)(bt.a,{fontSize:"large"}),children:"Save"})]})]})}),(null===Y||void 0===Y?void 0:Y.length)?Object(F.jsx)(H.a,{item:!0,xs:12,sm:(null===S||void 0===S?void 0:S.length)?6:12,children:Object(F.jsx)(tn,{setExcludedList:M,fixedListItem:D.elements,exclusion:p,value:t.elements,header:"Sub-Elements ".concat(O.choice?"CHOICE":"(SEQUENCE)"),subItems:Y,name:"elements"},"element")}):void 0,(null===V||void 0===V?void 0:V.length)?Object(F.jsx)(H.a,{item:!0,xs:12,sm:(null===Y||void 0===Y?void 0:Y.length)?6:12,children:Object(F.jsx)(tn,{setExcludedList:M,fixedListItem:D.attributes,exclusion:p,value:t.attributes,header:"Attributes",subItems:V,name:"attributes"},"attribute")}):void 0,Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsx)(rn,{children:Object(F.jsx)(H.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)("div",{className:n.saveMinMax,children:Object(F.jsxs)("div",{className:n.minMaxContainer,children:[Object(F.jsx)(on,{name:"newMin",size:"medium",fullWidth:!0,variant:"outlined",label:"New Min Occurs",disabled:"1"===(null===B||void 0===B?void 0:B.min)&&"1"===(null===B||void 0===B?void 0:B.max),value:null===t||void 0===t?void 0:t.newMin}),Object(F.jsx)(on,{name:"newMax",size:"medium",fullWidth:!0,variant:"outlined",label:"New Max Occurs",disabled:"1"===(null===B||void 0===B?void 0:B.max),value:null===t||void 0===t?void 0:t.newMax})]})})})})})]})})})}})},ln=Object(v.a)((function(e){return Object(x.a)({container:{marginTop:"1rem",backgroundColor:"##fafafa",border:"solid #333 0.1rem",borderRadius:"0.3rem"},header:{display:"flex",padding:"0.5rem",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.1rem",alignItems:"center"},subItemHeader:{display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"12rem",maxHeight:"12rem",overflow:"scroll"},itemLabelDescription:Object(p.a)({padding:"0.1rem",margin:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{display:"inline-block"}),attributes:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"inline-block"}),references:{display:"flex",alignItems:"center"},alert:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}},typeAttribute:{cursor:"pointer","&:hover":{color:e.palette.primary.main}},otherAttribute:{cursor:"not-allowed"}})})),un=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.5rem",gap:"0.5rem"},paper:{padding:"0.5rem",margin:"0.5rem 0.2rem"},saveButton:{width:"max-content",height:"max-content"}})})),dn=Kt.c().shape({optionalToMandatory:Kt.a(),minInteger:Kt.b().min(0,"Value must be grater than or equal to zero").typeError("Only an integer value allowed").integer("Only an integer value allowed"),maxInteger:Kt.b().positive("Value must be grater than zero").typeError("Only an integer value allowed").integer("Only an integer value allowed").test({name:"minInteger",exclusive:!1,message:"Value must be grater than the minimum value",params:{},test:function(e){return!e||!this.parent.minInteger||e>this.parent.minInteger}})}),mn=function(e){Object(st.a)(n,e);var t=Object(lt.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(se.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,excerpt:"",heading:"",documentation:"",minInteger:"",maxInteger:""},e}return Object(le.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.documentation,i=e.excerpt,a=e.minInteger,o=e.maxInteger;t||a||o||n||i?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.integerMinMax(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"integerMinMax",value:function(){if(this.object.minInteger||this.object.maxInteger){if(this.object.minInteger){var e=Qe.docStub().createElement("MinInteger");e.textContent=this.object.minInteger.toString().trim(),this.customiseItem.append(e)}if(this.object.maxInteger){var t=Qe.docStub().createElement("MaxInteger");t.textContent=this.object.maxInteger.toString().trim(),this.customiseItem.append(t)}}}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.heading,i=e.minInteger,a=e.maxInteger;n&&this.customiseItem.setAttribute("customHeading",n),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes"),(i||a)&&this.customiseItem.setAttribute("CustomIntegerRange","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a,o;switch(e.localName){case"CustomExcerpt":var r=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=r||"";break;case"CustomDocumentation":var c=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=c||"";break;case"MinInteger":var s=null===(a=e.textContent)||void 0===a?void 0:a.trim();if(!s)return;try{t.object.minInteger=s||void 0}catch(u){}break;case"MaxInteger":var l=null===(o=e.textContent)||void 0===o?void 0:o.trim();if(!l)return;try{t.object.maxInteger=l||void 0}catch(u){}}})),this.object):this.object}}]),n}(Qe),bn=function(e){var t=e.lixiItem,n=un(),i=ye().updateCustomisation,a=Ce((function(e){return e.customizer})).customization,o=s.a.useState({optionalToMandatory:!1,excerpt:"",documentation:"",heading:"",minInteger:"",maxInteger:""}),r=Object(b.a)(o,2),c=r[0],l=r[1];return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new mn(a,null===t||void 0===t?void 0:t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(F.jsx)(ht.c,{initialValues:c,enableReinitialize:!0,validationSchema:dn,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new mn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values;e.errors,e.touched,e.resetForm;return Object(F.jsx)(ht.b,{children:Object(F.jsxs)(Se.a,{style:{padding:"0.5rem"},children:[Object(F.jsx)(Wt.a,{style:{width:"100%"},children:Object(F.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(F.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(F.jsx)(Yt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(F.jsx)(w.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(F.jsx)(bt.a,{fontSize:"large"}),children:"Save"})]})})}),Object(F.jsx)(nt.a,{}),Object(F.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:Object(F.jsx)(Wt.a,{style:{width:"100%"},children:Object(F.jsx)(Se.a,{className:n.paper,children:Object(F.jsxs)("div",{className:n.container,children:[Object(F.jsx)(on,{variant:"outlined",size:"small",label:"Minimum",name:"minInteger",placeholder:"Minimum"}),Object(F.jsx)(on,{variant:"outlined",size:"small",label:"Maximum",name:"maxInteger",placeholder:"Maximum"})]})})})}),Object(F.jsx)(rn,{})]})})}})};bn.defaultProps={type:"integerType"};var hn=function(e){var t=e.children,n=e.switchType,i=/^[a-zA-Z]+List$/;return t.find((function(e){var t=e.props.type;return i.test(n)?"listType"===t:n===t}))||Object(F.jsx)(F.Fragment,{})},jn=Object(v.a)((function(e){return Object(x.a)({root:{},name:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},definition:{marginBottom:12,marginLeft:"2.7rem",width:"75ch"},saveButton:{width:"max-content",height:"max-content"},enumeratedList:{maxHeight:"15rem",width:"100%",overflowY:"scroll"}})})),pn=Kt.c().shape({optionalToMandatory:Kt.a(),stringTo:Kt.d().oneOf(["list","pattern"]),minInteger:Kt.b().min(0,"Value must be grater than or equal to zero").typeError("Only an integer value allowed").integer("Only an integer value allowed"),maxInteger:Kt.b().positive("Value must be grater than zero").typeError("Only an integer value allowed").integer("Only an integer value allowed").test({name:"minInteger",exclusive:!1,message:"Value must be grater than the minimum value",params:{},test:function(e){return!e||!this.parent.minInteger||e>this.parent.minInteger}}),pattern:Kt.c({regex:Kt.d(),definition:Kt.d()}).test({name:"stringTo",exclusive:!1,message:"Must provide a valid regular expression for the pattern",params:{},test:function(e){if("pattern"===this.parent.stringTo){if(console.log("value",e),!e.regex)return!1;try{return!!new RegExp(e.regex)}catch(t){return!1}}return!0}})}),vn=n(519),xn=n(530),fn=function(e){var t=e.label,n=e.onSelect,i=Object($e.a)(e,["label","onSelect"]),a=Object(ht.d)(i),o=Object(b.a)(a,1)[0];return Object(F.jsx)(tt.a,Object(m.a)(Object(m.a)({},o),{},{control:Object(F.jsx)(xn.a,{onSelect:n,color:"primary"}),label:t}))},On=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.5rem",width:"100%"},helperText:{width:"20rem",padding:"0.5rem 0.2rem",position:"absolute",background:"#fff8e1",borderColor:e.palette.error.main,borderStyle:"solid",borderWidth:"0.1rem",borderRadius:"0.2rem",zIndex:20,boxSizing:"border-box"}})})),gn=function(e){var t=e.resetForm,n=On(),i=Object(ht.e)(),a=i.values,o=i.errors,r=i.touched;return Object(F.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(F.jsxs)("div",{className:n.container,children:[Object(F.jsx)(fn,{name:"stringTo",type:"radio",value:"pattern",label:"String To Pattern"}),Object(F.jsxs)(Ne.a,{style:{width:"100%",marginTop:"0.5rem"},onExit:function(){return t({values:Object(m.a)(Object(m.a)({},a),{},{pattern:Object(m.a)(Object(m.a)({},a.pattern),{},{regex:"",definition:""})})})},in:"pattern"===a.stringTo,children:[Object(F.jsxs)("div",{children:[Object(F.jsx)(on,{variant:"outlined",size:"small",label:"Regex Expression",name:"pattern.regex",placeholder:"Regex Expression"}),r.pattern&&o.pattern?Object(F.jsx)(vn.a,{className:n.helperText,error:!!o.pattern,children:o.pattern}):null]}),Object(F.jsx)("div",{style:{marginTop:"0.5rem"},children:Object(F.jsx)(on,{variant:"outlined",size:"small",fullWidth:!0,label:"Regex Definition",name:"pattern.definition",placeholder:"Regex Definition"})})]})]})})},yn=Kt.c().shape({definition:Kt.d().required().matches(/^[a-zA-Z0-9 '"%]*$/,{message:"Only alphanumerical values, % and quotes are allowed"}).min(3),name:Kt.d().required().matches(/^[a-zA-Z0-9 '"%]*$/,{message:"Only alphanumerical values, % and quotes are allowed"}).min(3)}),Cn=n(260),In=n.n(Cn),Sn=n(259),En=n.n(Sn),Tn=Object(v.a)((function(e){return Object(x.a)({root:{error:{position:"fixed"}},header:{display:"flex",padding:e.spacing(.5,1,1.5),justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.1rem",alignItems:"center"},textField:{backgroundColor:"#fff"}})})),kn=n(536),wn=function(){var e=Tn(),t=s.a.useState(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],o=Object(ht.e)(),r=o.getFieldHelpers,c=o.values;return Object(F.jsx)(ht.c,{initialValues:{definition:"",name:"",enumList:[]},onSubmit:function(e,t){var n=t.resetForm;if(c.enumerations.some((function(t){return t.name===e.name})))a(!0);else{var i=Object(ie.a)(c.enumerations);i.push(e),r("enumerations").setValue(i),n()}},validationSchema:yn,children:function(t){return Object(F.jsx)(Se.a,{className:e.header,children:Object(F.jsxs)(H.a,{container:!0,alignItems:"center",spacing:3,children:[Object(F.jsx)(H.a,{item:!0,xs:12,sm:5,children:Object(F.jsx)(on,{className:e.textField,fullWidth:!0,size:"small",variant:"outlined",name:"name",placeholder:"Name",label:"Name"})}),Object(F.jsx)(H.a,{item:!0,xs:12,sm:5,children:Object(F.jsx)(on,{className:e.textField,size:"small",fullWidth:!0,variant:"outlined",name:"definition",placeholder:"Definition",label:"Definition"})}),Object(F.jsx)(H.a,{item:!0,xs:12,sm:2,children:Object(F.jsx)(En.a,{onClick:t.submitForm,color:"primary","aria-label":"delete",children:Object(F.jsx)(In.a,{fontSize:"large"})})}),Object(F.jsx)(kn.a,{anchorOrigin:{horizontal:"right",vertical:"bottom"},open:i,autoHideDuration:2e3,onClose:function(){return a(!1)},children:Object(F.jsxs)(Ut.a,{onClose:function(){return a(!1)},severity:"error",children:[Object(F.jsx)("strong",{children:"Duplicated Name"}),Object(F.jsx)("em",{children:'"'.concat(t.values.name,'"')}),"already exist!"]})})]})})}})},An=n(261),Mn=n.n(An),Nn=Object(v.a)((function(e){return Object(x.a)({name:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},definition:{marginBottom:12,marginLeft:"2.7rem",width:"75ch"},root:{width:"100%"},row:{display:"flex",justifyContent:"flex-start",alignItems:"center"}})})),zn=function(e){var t=e.idx,n=e.remove,i=e.name,a=e.definition,o=Nn();return Object(F.jsxs)("div",{className:o.root,children:[Object(F.jsxs)("div",{className:o.row,children:[Object(F.jsx)(_.a,{onClick:function(){return n(t)},color:"secondary","aria-label":"delete",children:Object(F.jsx)(Mn.a,{fontSize:"default"})}),Object(F.jsx)(C.a,{variant:"h5",component:"h2",children:i})]}),Object(F.jsx)("div",{children:Object(F.jsx)(C.a,{className:o.definition,color:"textSecondary",children:a})}),Object(F.jsx)(nt.a,{})]})},Dn=function(e){Object(st.a)(n,e);var t=Object(lt.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(se.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,pattern:{regex:"",definition:""},stringTo:"",excerpt:"",heading:"",documentation:"",enumerations:[]},e}return Object(le.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.enumerations,n=e.optionalToMandatory,i=e.pattern,a=e.stringTo,o=e.documentation,r=e.excerpt;t.length||i||n||a||o||r?(this.excerpt=r||"",this.documentation=o||"",this.removeCustomisedItem(),this.itemPath(),this.customPattern(),this.setInLineAttributes(),this.customExcerpt(),this.customDocumentation(),this.customEnumeration(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"customEnumeration",value:function(){var e=this;if(this.object.enumerations.length){var t=Qe.docStub();this.object.enumerations.forEach((function(n,i){var a=n.definition,o=n.name,r=t.createElement("Enumeration");r.textContent=o.trim(),r.setAttribute("Definition",a),e.customiseItem.append(r)}))}}},{key:"customPattern",value:function(){if("pattern"===this.object.stringTo){var e=Qe.docStub().createElement("Pattern");if(this.object.pattern){var t=this.object.pattern,n=t.regex,i=t.definition;n&&(e.textContent=null===n||void 0===n?void 0:n.toString()),i&&e.setAttribute("Definition",i)}this.customiseItem.append(e)}}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.stringTo,i=e.enumerations,a=e.heading;a&&this.customiseItem.setAttribute("customHeading",a),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes"),"pattern"!==n?"list"===n&&i.length&&this.customiseItem.setAttribute("StringToList","Yes"):this.customiseItem.setAttribute("StringToPattern","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0;break;case"StringToPattern":t.object.stringTo="pattern";break;case"StringToList":t.object.stringTo="list"}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a,o;switch(e.localName){case"Enumeration":var r=null===(n=e.textContent)||void 0===n?void 0:n.trim(),c=e.getAttribute("Definition");if(!r||!c)return;t.object.enumerations.push({name:r,definition:c});break;case"CustomExcerpt":var s=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.excerpt=s||"";break;case"CustomDocumentation":var l=null===(a=e.textContent)||void 0===a?void 0:a.trim();t.object.documentation=l||"";break;case"Pattern":var u=null===(o=e.textContent)||void 0===o?void 0:o.trim(),d=e.getAttribute("Definition")||"";t.object.pattern={regex:u||"",definition:d}}})),this.object):this.object}}]),n}(Qe),Rn=function(e){var t=e.lixiItem,n=jn(),i=ye().updateCustomisation,a=Ce((function(e){return e.customizer})).customization,o=s.a.useState({optionalToMandatory:!1,pattern:{regex:"",definition:""},stringTo:"",excerpt:"",documentation:"",heading:"",enumerations:[]}),r=Object(b.a)(o,2),c=r[0],l=r[1];return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new Dn(a,null===t||void 0===t?void 0:t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(F.jsx)(ht.c,{initialValues:c,enableReinitialize:!0,validationSchema:pn,onSubmit:function(e,n){var o=n.setSubmitting;if(console.log("values",e),null===t||void 0===t?void 0:t.path){o(!0);var r=new Dn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values,i=(e.errors,e.touched,e.resetForm);return Object(F.jsx)(ht.b,{children:Object(F.jsxs)(Se.a,{style:{padding:"0.5rem"},children:[Object(F.jsx)(Wt.a,{style:{width:"100%"},children:Object(F.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(F.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(F.jsx)(Yt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(F.jsx)(w.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(F.jsx)(bt.a,{fontSize:"large"}),children:"Save"})]})})}),Object(F.jsx)(nt.a,{}),Object(F.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:Object(F.jsxs)(Wt.a,{style:{width:"100%"},children:[Object(F.jsx)(gn,{resetForm:i}),Object(F.jsxs)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:[Object(F.jsx)(fn,{name:"stringTo",type:"radio",value:"list",label:"String To Enumerated List"}),Object(F.jsx)(Ne.a,{onExit:function(){return i({values:Object(m.a)(Object(m.a)({},t),{},{enumerations:[]})})},in:"list"===t.stringTo,children:Object(F.jsxs)("div",{style:{width:"100%"},children:[Object(F.jsx)(wn,{}),Object(F.jsx)(ht.a,{name:"enumerations",children:function(e){return Object(F.jsx)("div",{className:n.enumeratedList,children:t.enumerations.map((function(t,n){return Object(F.jsx)(zn,{idx:n,remove:e.remove,name:t.name,definition:t.definition},"".concat(t.name,"-"))}))})}})]})})]})]})}),Object(F.jsx)(rn,{})]})})}})};Rn.defaultProps={type:"stringType"};var Ln=n(262),_n=n.n(Ln),Pn=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",flexDirection:"column",width:"max-content",alignItems:"right",margin:e.spacing(.5,0,0,0)},attributes:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-end"},e.breakpoints.down("sm"),{display:"inline-block"}),typeAttribute:{cursor:"pointer","&:hover":{color:e.palette.primary.light}},otherAttribute:{cursor:"not-allowed"},table:{width:"max-content"}})})),Bn=function(e){var t=e.lixiItem,n=e.type,i=Pn(),a=ye().searchItem;return Object(F.jsx)("div",{className:i.container,children:Object(F.jsx)("div",{className:i.attributes,children:Object(F.jsx)(Me.a,{component:Se.a,children:Object(F.jsx)(_n.a,{className:i.table,size:"small","aria-label":"a dense table",children:Object(F.jsxs)(Ae.a,{children:[null===t||void 0===t?void 0:t.element.getAttributeNames().map((function(e,o){return Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Te.a,{size:"small",align:"right",children:Object(F.jsx)(C.a,{color:"textSecondary",align:"right",variant:"body1",children:"".concat(e,":")})}),Object(F.jsxs)(Te.a,{size:"small",align:"center",children:[Object(F.jsx)(C.a,{className:"type"===e?i.typeAttribute:i.otherAttribute,color:"textPrimary",align:"left",variant:"body2",onClick:function(){return"type"===e&&n?a(n):void 0},children:Object(F.jsx)("strong",{children:null===t||void 0===t?void 0:t.element.getAttribute(e)})}),Object(F.jsx)(C.a,{variant:"caption",color:"secondary",children:Object(F.jsx)("em",{children:"type"===e&&/^[a-zA-Z]+List$/.test(n||"")?"Customisable":null})})]})]},e)})),(null===t||void 0===t?void 0:t.baseRestriction)?Object(F.jsxs)(we.a,{children:[Object(F.jsx)(Te.a,{size:"small",align:"right",children:Object(F.jsx)(C.a,{color:"textSecondary",align:"right",variant:"body1",children:"base:"})}),Object(F.jsx)(Te.a,{size:"small",align:"center",children:Object(F.jsx)(C.a,{className:i.otherAttribute,color:"textPrimary",align:"left",variant:"body2",children:Object(F.jsx)("strong",{children:null===t||void 0===t?void 0:t.baseRestriction})})})]},null===t||void 0===t?void 0:t.baseRestriction):null]})})})})})},Hn=n(520),Fn=n(542),Un=n(541),Vn=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",flexDirection:"column",width:"max-content",alignItems:"right",margin:e.spacing(1.5,0,0,0)},transactions:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"inline-block"})})})),Wn=function(e){var t,n=e.lixiItem,i=e.subSchema,a=Vn();return Object(F.jsx)("div",{className:a.transactions,children:i&&(null===n||void 0===n||null===(t=n.transactions)||void 0===t?void 0:t.sort().map((function(e,t){return(null===i||void 0===i?void 0:i.transactionType)&&i.transactionType!==e?Object(F.jsx)("span",{style:{paddingInline:"0.1rem"},children:Object(F.jsx)(Un.a,{size:"small",color:"primary",variant:"outlined",label:e})},e):Object(F.jsx)("span",{style:{paddingInline:"0.1rem"},children:Object(F.jsx)(Un.a,{size:"small",color:"primary",variant:"default",label:e,avatar:Object(F.jsx)(Fn.a,{children:e[0]})})},e)})))})},Yn=Object(v.a)((function(e){return Object(x.a)({itemLabel:Object(p.a)({padding:"0.1rem",margin:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{display:"inline-block"}),itemDescription:Object(p.a)({maxWidth:"75ch",marginBottom:"1rem"},e.breakpoints.down("sm"),{width:"100%"})})})),Xn=function(e){var t=e.lixiItem,n=e.localName,i=e.subSchema,a=Yn();return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:a.itemLabel,children:Object(F.jsx)(Hn.a,{color:"primary",badgeContent:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(F.jsx)(C.a,{color:"primary",variant:"h4",children:null===t||void 0===t?void 0:t.label})})}),Object(F.jsxs)("div",{className:a.itemDescription,children:[Object(F.jsx)(C.a,{style:{padding:"0.1rem 1rem"},color:"textPrimary",variant:"body1",children:null===t||void 0===t?void 0:t.documentation}),Object(F.jsx)(nt.a,{}),Object(F.jsx)(Wn,{lixiItem:t,subSchema:i})]})]})},Zn=Object(v.a)((function(e){return Object(x.a)({container:{},saveButton:{width:"max-content",height:"max-content"}})})),qn=function(e){Object(st.a)(n,e);var t=Object(lt.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(se.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,excerpt:"",heading:"",documentation:""},e}return Object(le.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.documentation,i=e.excerpt,a=e.minInteger,o=e.maxInteger;t||a||o||n||i?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.heading;n&&this.customiseItem.setAttribute("customHeading",n),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0}})),Array.prototype.forEach.call(n.children,(function(e){var n,i;switch(e.localName){case"CustomExcerpt":var a=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=a||"";break;case"CustomDocumentation":var o=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=o||""}})),this.object):this.object}}]),n}(Qe),Gn=function(e){var t=e.lixiItem,n=Zn(),i=ye().updateCustomisation,a=Ce((function(e){return e.customizer})).customization,o=s.a.useState({optionalToMandatory:!1,excerpt:"",documentation:"",heading:""}),r=Object(b.a)(o,2),c=r[0],l=r[1];return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new qn(a,null===t||void 0===t?void 0:t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(F.jsx)(ht.c,{initialValues:c,enableReinitialize:!0,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new qn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values;e.errors,e.touched,e.resetForm;return Object(F.jsx)(ht.b,{children:Object(F.jsxs)(Se.a,{style:{padding:"0.5rem"},children:[Object(F.jsx)(Wt.a,{style:{width:"100%"},children:Object(F.jsx)(Se.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(F.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(F.jsx)(Yt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(F.jsx)(w.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(F.jsx)(bt.a,{fontSize:"large"}),children:"Save"})]})})}),Object(F.jsx)(nt.a,{}),Object(F.jsx)(rn,{})]})})}})};Gn.defaultProps={type:"listType"};var Jn=n(11),Kn=Object(v.a)((function(e){return Object(x.a)({container:{},list:{height:"40vh",overflowY:"scroll",width:"100%",margin:e.spacing("0.5rem",0),paddingTop:"0"},subItemHeader:{zIndex:2,display:"flex",width:"100%",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main,cursor:"pointer","&:hover":{backgroundColor:Object(Jn.a)("#fff8e1",.1),color:e.palette.text.primary}},item:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover,color:e.palette.primary.dark}},selectAllText:{}})})),$n=function(e){Object(st.a)(n,e);var t=Object(lt.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(se.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{tokens:[]},e}return Object(le.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.tokens,n=e.documentation,i=e.excerpt,a=e.heading;t.length||n||i||a?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.tokens(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.tokens,n=e.heading;n&&this.customiseItem.setAttribute("customHeading",n),t.length&&this.customiseItem.setAttribute("Include","Yes")}},{key:"tokens",value:function(){var e=this;this.object.tokens.length&&this.object.tokens.forEach((function(t,n){var i=Qe.docStub().createElement("Enumeration");i.textContent=t,e.customiseItem.append(i)}))}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||""}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a;switch(e.localName){case"CustomExcerpt":var o=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=o||"";break;case"CustomDocumentation":var r=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=r||"";break;case"Enumeration":var c=null===(a=e.textContent)||void 0===a?void 0:a.trim();c&&t.object.tokens.push(c)}})),this.object):this.object}}]),n}(Qe),Qn=function(e){var t=e.lixiItem,n=Kn(),i=ye().updateCustomisation,a=Ce((function(e){return e.customizer})).customization,o=s.a.useState({tokens:[]}),r=Object(b.a)(o,2),c=r[0],l=r[1],u=s.a.useMemo((function(){var e;if(null===t||void 0===t||null===(e=t.enumeration)||void 0===e?void 0:e.length){var n=[];return t.enumeration.forEach((function(e){if(e){var t,i=null===(t=new et(e).path)||void 0===t?void 0:t.split(".").pop();if(!i)return;n.push(i)}})),n}}),[null===t||void 0===t?void 0:t.enumeration]),d=function(){Object(ie.a)(c.tokens).length?l((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:[]})})):(null===u||void 0===u?void 0:u.length)&&l((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:Object(ie.a)(u)})}))};return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new $n(a,t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(F.jsx)(ht.c,{initialValues:c,enableReinitialize:!0,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new $n(a,t.path,e);r.customise(),i(r.customisation)}},children:function(e){var t=e.values;return Object(F.jsx)(ht.b,{children:Object(F.jsx)(Se.a,{style:{padding:"0.5rem"},children:Object(F.jsxs)(H.a,{container:!0,spacing:1,children:[Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsx)(Se.a,{children:Object(F.jsxs)(it.a,{dense:!0,className:n.list,children:[Object(F.jsxs)(at.a,{title:"Click To Select All Items",className:n.subItemHeader,style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(F.jsx)(vt.a,{children:Object(F.jsx)(Yt,{name:"allSelected",checked:t.tokens.length===(null===u||void 0===u?void 0:u.length),value:t.tokens.length===(null===u||void 0===u?void 0:u.length)?"all":"",disableRipple:!0,onClick:function(){return d()},checkedIcon:Object(F.jsx)(zt.a,{style:{color:"green"}}),icon:Object(F.jsx)(yt.a,{style:{color:"red"}}),indeterminateIcon:Object(F.jsx)(Ot.a,{color:"primary"}),indeterminate:c.tokens.length>0&&c.tokens.length<((null===u||void 0===u?void 0:u.length)||0)})}),Object(F.jsx)(xt.a,{onClick:function(){return d()},primary:"Select All Enumerations"}),Object(F.jsx)(w.a,{style:{alignItems:"flex-end"},variant:"contained",size:"small",color:"primary",type:"submit",children:"save"})]}),Object(F.jsx)(ht.a,{name:"tokens",render:function(e){return(null===u||void 0===u?void 0:u.length)?null===u||void 0===u?void 0:u.map((function(e){return e?Object(F.jsxs)(ot.a,{className:n.item,divider:!0,onClick:function(){return function(e){if(console.log(c),e){var t=Object(ie.a)(c.tokens);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:t.sort()})}))}}(e)},children:[Object(F.jsx)(vt.a,{children:Object(F.jsx)(Yt,{name:"tokens",checked:null===t||void 0===t?void 0:t.tokens.includes(e),disableRipple:!0,value:(null===t||void 0===t?void 0:t.tokens.includes(e))?e:"",checkedIcon:Object(F.jsx)(zt.a,{style:{color:"green"},fontSize:"small"}),icon:Object(F.jsx)(yt.a,{fontSize:"small",style:{color:"red"}})})}),Object(F.jsx)(xt.a,{children:e})]},e):Object(F.jsx)(F.Fragment,{})})):Object(F.jsx)(F.Fragment,{})}})]})})}),Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsx)(rn,{})}),Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsx)(D.a,{style:{display:"flex",justifyContent:"flex-end",margin:"0.5rem"}})})]})})})}})};Qn.defaultProps={baseRestriction:"xs:token"};var ei=function(e){var t=e.children,n=e.switchBase;return t.find((function(e){var t=e.props.baseRestriction;return n===t}))||Object(F.jsx)(F.Fragment,{})},ti=function(e){var t=e.item,n=ln(),i=Object(c.useState)(!1),a=Object(b.a)(i,2),o=a[0],r=a[1],l=Object(c.useState)(),u=Object(b.a)(l,2),d=u[0],m=u[1],h=Object(c.useState)(),j=Object(b.a)(h,2),p=j[0],v=j[1],x=Object(c.useState)(!1),f=Object(b.a)(x,2),O=f[0],g=f[1],y=Ce((function(e){return e.customizer})),I=y.customization,S=y.subSchema,E=ye(),T=E.searchItem,k=E.updateCustomisation,A=s.a.useMemo((function(){var e;return null===p||void 0===p||null===(e=p.element)||void 0===e?void 0:e.localName}),[p]),M=s.a.useMemo((function(){var e;return(null===p||void 0===p||null===(e=p.element)||void 0===e?void 0:e.getAttribute("type"))||""}),[p]),N=s.a.useMemo((function(){return(null===p||void 0===p?void 0:p.baseRestriction)||""}),[p]);Object(c.useEffect)((function(){if(t){var e=new et(t);v(e)}else;}),[t,I]);Object(c.useEffect)((function(){"Package"===(null===p||void 0===p?void 0:p.path)&&r(!0)}),[null===p||void 0===p?void 0:p.path]),Object(c.useEffect)((function(){if(!O&&(null===p||void 0===p?void 0:p.path)){var e=new Qe(I,null===p||void 0===p?void 0:p.path);g(!!e.ExcludedItem())}}),[I,null===p||void 0===p?void 0:p.path,O]),Object(c.useEffect)((function(){if((null===p||void 0===p?void 0:p.element.localName)&&(null===p||void 0===p?void 0:p.path)&&I){var e=ut.parentCustomised(null===p||void 0===p?void 0:p.path,I,p.element.localName),t=new ut(I,null===p||void 0===p?void 0:p.path).getCustomisedItem();console.log(t),e&&m(e),console.log(e)}}),[I,null===p||void 0===p?void 0:p.path,null===p||void 0===p?void 0:p.element.localName]);return Object(F.jsxs)(H.a,{container:!0,spacing:2,children:[Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsxs)(Se.a,{style:{marginTop:"0.5rem",padding:"0rem 0rem 0.5rem"},children:[Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsx)(Se.a,{children:!d||(null===d||void 0===d?void 0:d.included)?Object(F.jsxs)("div",{className:n.header,children:[Object(F.jsx)(tt.a,{control:Object(F.jsx)(dt.a,{onChange:function(){if(null===p||void 0===p?void 0:p.path){var e=!O;g(e);var t=new Qe(I,null===p||void 0===p?void 0:p.path);e?t.exclude():t.include(),k(t.customisation)}},checked:O,disabled:!0}),label:""}),Object(F.jsx)(w.a,{disabled:O,style:{height:"max-content",width:"min-content"},onClick:function(){return r((function(e){return!e}))},startIcon:Object(F.jsx)(ct.a,{}),variant:"contained",color:"primary",size:"small",children:"Customise"})]}):Object(F.jsxs)(Ut.a,{variant:"standard",severity:"warning",action:Object(F.jsx)(w.a,{className:n.alert,variant:"contained",size:"small",onClick:function(){return T((null===d||void 0===d?void 0:d.path)||"")},children:"see parent"}),children:["This item specifically not included via its parent/ancestors:"," ",Object(F.jsx)("em",{children:Object(F.jsx)("strong",{children:null===d||void 0===d?void 0:d.path.split(".").pop()})})]})})}),Object(F.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"center"},children:[Object(F.jsx)(Xn,{lixiItem:p,localName:null===t||void 0===t?void 0:t.localName,subSchema:S}),Object(F.jsx)(Bn,{lixiItem:p,type:M})]}),(null===p||void 0===p?void 0:p.references)?Object(F.jsxs)("div",{children:[Object(F.jsx)(nt.a,{}),Object(F.jsxs)(it.a,{dense:!0,subheader:Object(F.jsx)(at.a,{children:"References"}),children:[Object(F.jsx)(nt.a,{}),p.references.map((function(e,t){return Object(F.jsx)(c.Fragment,{children:Object(F.jsx)(ot.a,{component:"li",children:Object(F.jsx)(C.a,{variant:"body1",children:e})})},"".concat(t,"_").concat(e))}))]})]}):void 0]})}),Object(F.jsx)(H.a,{item:!0,xs:12,children:Object(F.jsxs)(Ne.a,{in:!O&&o,children:["element"===A?Object(F.jsx)(sn,{lixiItem:p}):void 0,"attribute"===A?Object(F.jsxs)(hn,{switchType:M,children:[Object(F.jsx)(bn,{lixiItem:p}),Object(F.jsx)(Rn,{lixiItem:p}),Object(F.jsx)(Gn,{lixiItem:p})]}):null,"simpleType"===A?Object(F.jsxs)(ei,{switchBase:N,children:[Object(F.jsx)("div",{}),Object(F.jsx)(Qn,{lixiItem:p})]}):null]})})]})},ni=n(523),ii=n(522),ai=n(538),oi=n(537),ri=Object(v.a)((function(e){return Object(x.a)({root:{paddingLeft:"0.5rem",borderLeft:"solid 0.5rem #3f51b5",borderRadius:"0.2rem"},link:{display:"flex",cursor:"pointer",color:e.palette.primary.dark,"&:hover":{backgroundColor:"#fff8e1",borderBottom:"solid 0.1rem #3f51b5"}},icon:{marginRight:e.spacing(.25),color:e.palette.primary.dark,width:20,height:20},leafLink:{color:e.palette.primary.main,"&:hover":{backgroundColor:"#fff8e1"}}})})),ci=n(264),si=n.n(ci),li=function(e){var t,n=ri(),i=ye().searchItem;return Object(F.jsx)(Se.a,{className:n.root,children:Object(F.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(F.jsxs)(oi.a,{separator:Object(F.jsx)(z.a,{className:n.icon}),"aria-label":"breadcrumb",children:[null===(t=e.pathSections)||void 0===t?void 0:t.map((function(t,a){return Object(F.jsx)(C.a,{onClick:function(t){return function(t){var n;if(t.preventDefault(),null===(n=e.pathSections)||void 0===n?void 0:n.length){var a=Object(ie.a)(e.pathSections),o=e.pathSections.indexOf(t.currentTarget.innerHTML);if(0!==o){if(o){for(var r=a.length;r>o+1;r--)null===a||void 0===a||a.pop();i(null===a||void 0===a?void 0:a.join("."))}}else i("Package")}}(t)},color:"textSecondary",className:n.link,children:t},a)})),Object(F.jsx)(_.a,{onClick:e.iconClickHandler,"aria-label":"delete",className:n.leafLink,size:"medium",children:Object(F.jsx)(si.a,{fontSize:"inherit"})})]})})})},ui=n(39),di=n(521),mi=n(269);function bi(e){var t=e.data,n=e.index,i=e.style;return s.a.cloneElement(t[n],{style:Object(m.a)(Object(m.a)({},i),{},{top:i.top+8})})}var hi=s.a.createContext({}),ji=s.a.forwardRef((function(e,t){var n=s.a.useContext(hi);return Object(F.jsx)("div",Object(m.a)(Object(m.a)({ref:t},e),n))}));var pi=s.a.forwardRef((function(e,t){var n=e.children,i=Object($e.a)(e,["children"]),a=s.a.Children.toArray(n),o=Object(ui.a)(),r=Object(di.a)(o.breakpoints.up("sm"),{noSsr:!0}),c=a.length,l=r?36:48,u=function(e){return s.a.isValidElement(e)&&e.type===at.a?48:l},d=function(e){var t=s.a.useRef(null);return s.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(c);return Object(F.jsx)("div",{ref:t,children:Object(F.jsx)(hi.Provider,{value:i,children:Object(F.jsx)(mi.a,{itemData:a,height:(c>8?8*l:a.map(u).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:d,outerElementType:ji,innerElementType:"ul",itemSize:function(e){return u(a[e])},overscanCount:5,itemCount:c,children:bi})})})})),vi=Object(v.a)((function(e){return Object(x.a)({listbox:{boxSizing:"border-box","& ul":{padding:0,margin:0,"& li:hover":{borderBottom:"solid #444 0.05rem",backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText}}},root:{display:"flex",alignItems:"center",width:"100%",marginTop:"0rem"}})})),xi=function(){var e=vi(),t=ye().searchItem,n=Object(c.useState)([]),i=Object(b.a)(n,2),a=i[0],o=i[1],r=Object(c.useState)(!0),l=Object(b.a)(r,2),u=l[0],d=l[1],h=Ce((function(e){return e.schema})).schema,j=Ce((function(e){return e.item})),p=j.data,v=j.loading,x=Ce((function(e){return e.customizer})).subSchema,f=Object(c.useState)(0),O=Object(b.a)(f,2),g=O[0],y=O[1],I=v||0===(null===a||void 0===a?void 0:a.length),S=s.a.useMemo((function(){if(p){var e=new et(p);return null===e||void 0===e?void 0:e.path}}),[p]);s.a.useEffect((function(){p||v||!h||t("Package")}),[p,v,h,t]),Object(c.useEffect)((function(){p&&d(!1)}),[p]),Object(c.useEffect)((function(){Object(re.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o([]),e.next=3,new Promise((function(e,t){if(h){var n=new de(h);(null===x||void 0===x?void 0:x.transactionType)&&e(n.getPathOfAllItemsInATransaction(x.transactionType))}}));case 3:t=e.sent,y(t.length),o(t);case 6:case"end":return e.stop()}}),e)})))()}),[null===x||void 0===x?void 0:x.transactionType,h]);return Object(F.jsx)("div",{children:Object(F.jsx)("div",{children:!p||u?Object(F.jsx)(ii.a,Object(m.a)(Object(m.a)({in:u,mountOnEnter:!0,unmountOnExit:!0},u?{timeout:500}:{}),{},{children:Object(F.jsx)(Se.a,{className:e.root,children:Object(F.jsx)(ai.a,{id:"virtualize-demo",onChange:function(e,n){return function(e,n){e.preventDefault(),n&&(t(n),d(!1))}(e,n)},disableListWrap:!0,classes:e,autoComplete:!0,includeInputInList:!0,loading:I,ListboxComponent:pi,options:a||[],renderInput:function(e){return Object(F.jsx)(nn.a,Object(m.a)(Object(m.a)({},e),{},{style:{alignItems:"center"},variant:"outlined",label:"LIXI Item Path",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{fullWidth:!0,endAdornment:Object(F.jsxs)(s.a.Fragment,{children:[Object(F.jsx)(C.a,{color:"textSecondary",children:Object(F.jsx)("em",{children:"".concat(g," Paths")})}),v?Object(F.jsx)(ni.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},renderOption:function(e){return Object(F.jsx)(C.a,{noWrap:!0,children:e})}})})})):Object(F.jsx)(li,{iconClickHandler:function(){return d(!0)},pathSections:null===S||void 0===S?void 0:S.split(".")})})})},fi=function(e){e.children;var t=e.value,n=e.index,i=Object($e.a)(e,["children","value","index"]),a=Ce((function(e){return e.item})).data,o=s.a.useState(),r=Object(b.a)(o,2),c=r[0],l=r[1],u=Ce((function(e){return e.customizer})).customization;return s.a.useEffect((function(){var e;if(a){var t=null===(e=new et(a))||void 0===e?void 0:e.path;if(t){var n,i=new Qe(u,t),o=null===i||void 0===i||null===(n=i.getCustomisedItem())||void 0===n?void 0:n.parentElement;if(!o)return void l(void 0);l(o)}}}),[u,a]),Object(F.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:t===n&&Object(F.jsx)(D.a,{p:3,children:Object(F.jsxs)(C.a,{component:"div",children:[Object(F.jsx)(xi,{}),Object(F.jsx)(Ne.a,{in:!!a,children:a?Object(F.jsx)(ti,{item:a}):void 0},"lixiItem"),Object(F.jsx)(Ne.a,{in:!!c,children:Object(F.jsx)(Ke,{role:"view",itemXML:c})},"lixiItemXML")]})})}))},Oi=n(526),gi=function(e){var t=f(),n=e.children,i=e.value,a=e.index,o=Object($e.a)(e,["children","value","index"]);return Object(F.jsx)("div",Object(m.a)(Object(m.a)({className:t.root,role:"tabpanel",hidden:i!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},o),{},{children:i===a&&Object(F.jsx)(D.a,{className:t.tabPanelChildren,children:Object(F.jsx)(C.a,{component:"div",children:n})})}))},yi=n(268),Ci=n(524),Ii=n(265),Si=n.n(Ii),Ei=Object(v.a)((function(e){return Object(x.a)({menuButton:{minWidth:"10rem",height:"inherit",marginLeft:"0.05rem",display:"flex",justifyContent:"space-between"}})})),Ti=function(e){var t=e.transactionList,n=Ei(),i=ye(),a=i.customizeSubSchema,o=i.resetCustomization,r=i.resetItem,l=Ce((function(e){return e.customizer})).subSchema,u=s.a.useState(null),d=Object(b.a)(u,2),m=d[0],h=d[1],j=Object(c.useMemo)((function(){return null===t||void 0===t?void 0:t.sort((function(e,t){return e&&t&&e.transactionType&&t.transactionType?(null===e||void 0===e?void 0:e.transactionType)>(null===t||void 0===t?void 0:t.transactionType)?1:-1:0}))}),[t]),p=function(e){var t=e.currentTarget.innerText.split(" "),n={transactionType:t[0],transactionVersion:t[1]};a(n),o(),r(),h(null)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(w.a,{className:n.menuButton,color:"primary","aria-controls":"simple-menu",fullWidth:!0,"aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},variant:"contained",disabled:!t.length,endIcon:Object(F.jsx)(Si.a,{}),children:(null===l||void 0===l?void 0:l.transactionType)&&(null===l||void 0===l?void 0:l.transactionVersion)?"".concat(l.transactionType," ").concat(l.transactionVersion):"Transaction"}),Object(F.jsx)(yi.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:p,children:j.map((function(e){var t=e.transactionType,n=e.transactionVersion;return Object(F.jsx)(Ci.a,{id:"".concat(t,"_").concat(n),onClick:p,children:"".concat(t," ").concat(n)},"".concat(t,"_").concat(n))}))})]})},ki=Object(v.a)((function(e){return Object(x.a)({root:{backgroundColor:"transparent"},paper:{boxShadow:"1px 1px 3px #BDBDBD",overflow:"hidden",padding:e.spacing(0)},alert:{color:"#c43e00","&:hover":{color:"#ff8f00"}},button:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}}})})),wi=function(e){var t=e.open,n=e.transactionList,i=e.handleClose,a=ki(),o=Ce((function(e){return e.customizer})).subSchema,r=s.a.useState(o),c=Object(b.a)(r,2),l=c[0],u=c[1];return s.a.useEffect((function(){(null===o||void 0===o?void 0:o.transactionType)!==(null===l||void 0===l?void 0:l.transactionType)&&(u(o),i())}),[i,null===l||void 0===l?void 0:l.transactionType,o,null===o||void 0===o?void 0:o.transactionType]),Object(F.jsx)(ht.c,{initialValues:{agree:!1},validationSchema:Kt.c().shape({agree:Kt.a().oneOf([!0])}),enableReinitialize:!0,onSubmit:function(e,t){var n=t.setSubmitting;t.resetForm;setTimeout((function(){n(!0),alert(JSON.stringify(e,null,2)),n(!1),i()}),400)},children:function(e){e.isSubmitting,e.values,e.errors,e.touched;var r=e.resetForm;return Object(F.jsx)("div",{children:Object(F.jsxs)(_t.a,{draggable:!0,BackdropProps:{classes:{root:a.root}},PaperProps:{classes:{root:a.paper,elevation2:"5"}},style:{boxShadow:"none"},open:t,onClose:r,"aria-labelledby":"form-dialog-title",children:[Object(F.jsx)(Jt.a,{}),Object(F.jsx)(Ft.a,{style:{backgroundColor:"cornsilk",padding:0,boxShadow:"0.1rem 0.1rem 0.1rem orange"},id:"form-dialog-title",children:(null===o||void 0===o?void 0:o.transactionType)?Object(F.jsx)(Ut.a,{style:{width:"100%"},variant:"standard",severity:"warning",action:Object(F.jsx)(L.a,{title:"Cancel",placement:"top",children:Object(F.jsx)(_.a,{onClick:i,"aria-label":"delete",className:a.alert,size:"small",disableRipple:!0,children:Object(F.jsx)(Zt.a,{fontSize:"default"})})}),children:"Changing the transaction will reset the customisation file"}):Object(F.jsx)(Ut.a,{style:{width:"100%"},variant:"standard",severity:"info",action:Object(F.jsx)(L.a,{title:"Cancel",placement:"top",children:Object(F.jsx)(_.a,{onClick:i,"aria-label":"delete",className:a.alert,size:"small",disableRipple:!0,children:Object(F.jsx)(Zt.a,{fontSize:"default"})})}),children:"Target transaction schema must be selected."})}),Object(F.jsxs)(Bt.a,{children:[Object(F.jsx)(C.a,{variant:"subtitle1",children:"Select the transaction from the dropdown list"}),Object(F.jsx)(Ht.a,{})]}),Object(F.jsx)(nt.a,{}),Object(F.jsx)(ht.b,{children:Object(F.jsx)(Pt.a,{children:Object(F.jsx)(Ti,{transactionList:n})})})]})})}})};function Ai(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Mi=function(){var e=f(),t=s.a.useState(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],o=s.a.useState(0),r=Object(b.a)(o,2),c=r[0],l=r[1],u=s.a.useState(),d=Object(b.a)(u,2),p=d[0],v=d[1],x=Ce((function(e){return e.customizer})),g=x.customization,I=x.subSchema,S=ye(),E=S.customizeSubSchema,T=S.resetCustomization,k=S.resetItem,w=Ce((function(e){return e.schema})).schema,A=s.a.useMemo((function(){if(w)return new de(w).getTransactions()}),[w]);return s.a.useEffect((function(){if(A&&1===(null===A||void 0===A?void 0:A.length)){if(!(null===I||void 0===I?void 0:I.transactionType))return E(A[0]),T(),void k();if(A[0].transactionType!==(null===p||void 0===p?void 0:p.transactionType))return T(),k(),E(A[0]),void v(A[0])}(null===I||void 0===I?void 0:I.transactionType)||!w||i||a(!0)}),[E,i,null===p||void 0===p?void 0:p.transactionType,T,k,w,null===I||void 0===I?void 0:I.transactionType,A]),Object(F.jsxs)("div",{className:e.root,children:[(null===A||void 0===A?void 0:A.length)&&Object(F.jsx)(wi,{transactionList:A,open:i,handleClose:function(){a(!1)}}),Object(F.jsx)(O.a,{className:e.appBar,position:"sticky",children:Object(F.jsxs)(Oi.a,{style:{alignItems:"center",alignContent:"center"},children:[Object(F.jsx)("img",{style:{flexGrow:1,maxWidth:40,marginRight:"1em"},src:"https://cdn.lixi.org.au/assets/lixi-logo-white-mac-smaller.gif",alt:"LIXI"}),(null===I||void 0===I?void 0:I.transactionType)?Object(F.jsx)(C.a,{onClick:function(){return A&&(null===A||void 0===A?void 0:A.length)>1?a(!0):void 0},noWrap:!0,variant:"h6",style:{flexGrow:1,cursor:"pointer"},children:Object(F.jsx)("em",{children:"".concat(null===I||void 0===I?void 0:I.transactionType," - ").concat(null===I||void 0===I?void 0:I.transactionVersion)})}):Object(F.jsx)(C.a,{onClick:function(){return A&&(null===A||void 0===A?void 0:A.length)>1?a(!0):void 0},noWrap:!0,color:"secondary",variant:"h6",style:{flexGrow:1,cursor:"pointer"},children:"Transaction?"}),Object(F.jsxs)(h.a,{centered:!0,value:c,onChange:function(e,t){l(t)},"aria-label":"simple tabs example",children:[Object(F.jsx)(j.a,Object(m.a)({label:"Instruction set up"},Ai(0))),Object(F.jsx)(j.a,Object(m.a)({label:"Create Instruction"},Ai(1))),Object(F.jsx)(j.a,Object(m.a)({label:"View Instruction"},Ai(2)))]})]})}),Object(F.jsx)(gi,{value:c,index:0,children:Object(F.jsx)(y.a,{children:Object(F.jsx)(He,{})})}),Object(F.jsx)(fi,{value:c,index:1}),Object(F.jsx)(gi,{value:c,index:2,children:Object(F.jsx)(Ke,{itemXML:g})})]})},Ni=Object(v.a)((function(e){var t;return Object(x.a)({root:Object(p.a)({width:"100%",minHeight:"100vh",backgroundColor:"#333",padding:"1rem"},e.breakpoints.down("xs"),{padding:"0.5"}),main:(t={backgroundColor:"#fff",width:"50%",margin:"auto"},Object(p.a)(t,e.breakpoints.down("sm"),{width:"100%",margin:"0"}),Object(p.a)(t,e.breakpoints.up("md"),{width:"70%"}),t)})}));var zi=function(){var e=Ni();return Object(F.jsx)("div",{className:e.root,children:Object(F.jsxs)("div",{className:e.main,children:[Object(F.jsx)(d.a,{}),Object(F.jsx)(Mi,{})]})})},Di=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,543)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))},Ri=n(495),Li=n(267);var _i={lightTheme:Object(Li.a)({palette:{type:"light"}}),darkTheme:Object(Li.a)({palette:{type:"dark"}})},Pi=s.a.createContext((function(e){})),Bi=function(e){var t=Object(c.useState)("lightTheme"),n=Object(b.a)(t,2),i=n[0],a=n[1],o=function(e){return _i[e]}(i);return Object(F.jsx)(Pi.Provider,{value:a,children:Object(F.jsx)(Ri.a,{theme:o,children:e.children})})};u.a.render(Object(F.jsx)(Bi,{children:Object(F.jsx)(s.a.StrictMode,{children:Object(F.jsx)(V.a,{store:ne,children:Object(F.jsx)(zi,{})})})}),document.getElementById("root")),Di()}},[[443,1,2]]]);
//# sourceMappingURL=main.14837c2b.chunk.js.map