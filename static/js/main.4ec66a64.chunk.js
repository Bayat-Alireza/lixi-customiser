(this["webpackJsonplixi-customiser"]=this["webpackJsonplixi-customiser"]||[]).push([[0],{329:function(e,t){},331:function(e,t){},442:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"searchItem",(function(){return je})),n.d(i,"resetItem",(function(){return he})),n.d(i,"markedForDeletion",(function(){return pe})),n.d(i,"customizeSubSchema",(function(){return ve})),n.d(i,"resetCustomizeSubSchema",(function(){return xe})),n.d(i,"uploadExistingCustomization",(function(){return fe})),n.d(i,"updateCustomisation",(function(){return Oe})),n.d(i,"uploadBaseSchema",(function(){return ge})),n.d(i,"resetBaseSchema",(function(){return ye}));var a,o,r,c=n(0),s=n.n(c),l=n(21),u=n.n(l),d=n(503),m=n(7),b=n(10),j=n(529),h=n(527),p=n(24),v=n(489),x=n(491),f=Object(v.a)((function(e){return Object(x.a)({root:{flexGrow:1},tabPanelChildren:Object(p.a)({padding:e.spacing(3)},e.breakpoints.down("xs"),{padding:e.spacing(0)})})})),O=n(525),g=n(266),y=n.n(g),C=n(89),I=n(540),S=n(504),E=n(532),T=n(505),w=Object(v.a)((function(e){return Object(x.a)({root:{width:"100%",padding:0,margin:0},stepper:Object(p.a)({padding:"0.5rem",margin:"0.5rem"},e.breakpoints.down("xs"),{padding:"0.2rem",margin:"0.2rem"}),button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(0,2,2)},customisationContainer:{padding:e.spacing(2,2,2),margin:e.spacing(1,0,1)}})})),k=n(502),A=n(244),M=n.n(A),N=n(150),D=n.n(N),z=n(539),R=Object(v.a)((function(e){return Object(x.a)({root:{width:"inherit","& > *":{margin:e.spacing(1)}},input:{display:"none"},findPageIcon:{color:e.palette.primary.light},loadIcon:{color:e.palette.primary.main},fileName:{backgroundColor:e.palette.primary.light,width:"max-content",color:e.palette.getContrastText(e.palette.primary.light),padding:e.spacing(.75),borderRadius:"0.2rem","&:hover":{cursor:"pointer"}},label:{display:"flex",alignItems:"center"},uploadButton:{marginLeft:e.spacing(1),minWidth:"7rem"}})})),_=n(493),L=n(449),P=n(240),B=n.n(P),H=n(239),F=n.n(H),U=n(492),V=n(1),Y=function(e){var t=e.saveFace,n=(e.description,R()),i=c.useState(),a=Object(b.a)(i,2),o=a[0],r=a[1];return Object(V.jsxs)("div",{style:{width:"100%"},children:[Object(V.jsx)("input",{accept:".xml,.xsd",className:n.input,id:"document",type:"file",onChange:function(e){var t=e.target;r(t.files[0])}}),Object(V.jsxs)(U.a,{wrap:"nowrap",alignContent:"flex-start",container:!0,spacing:1,alignItems:"center",children:[Object(V.jsx)(U.a,{item:!0,children:Object(V.jsx)(_.a,{title:"",children:Object(V.jsxs)("label",{className:n.label,htmlFor:"document",children:[Object(V.jsx)(L.a,{className:n.findPageIcon,color:"primary","aria-label":"upload picture",component:"span",title:"Browse",children:Object(V.jsx)(F.a,{fontSize:"large"})}),Object(V.jsx)(C.a,{variant:"body2",className:n.fileName,noWrap:!0,children:"Choose the file"})]})})}),Object(V.jsx)(U.a,{item:!0,children:(null===o||void 0===o?void 0:o.name)?Object(V.jsx)(L.a,{className:n.loadIcon,onClick:function(){t(o)},color:"primary","aria-label":"upload file",component:"span",title:"Load",children:Object(V.jsx)(B.a,{fontSize:"large"})}):void 0})]})]})},W=n(100),X=n(65),Z=n(243);!function(e){e.SEARCH_ITEM="search_item",e.SEARCH_ITEM_SUCCESS="search_item_success",e.SEARCH_ITEM_ERROR="search_item_error",e.REST_ITEM="resetItem",e.MARKED_FOR_DELETION="markedForDeletion"}(a||(a={})),function(e){e.EXCLUDE="exclude",e.INCLUDE="include",e.CUSTOMISE_ELEMENT="customiseElement",e.UPLOAD_CUSTOMIZATION="uploadCustomization",e.UPLOAD_CUSTOMIZATION_SUCCESS="uploadCustomizationSuccess",e.UPLOAD_CUSTOMIZATION_ERROR="uploadCustomizationError",e.RESET_CUSTOMIZATION="resetCustomization",e.CUSTOMIZE_SUB_SCHEMA="customizeSubSchema",e.RESET_SUB_SCHEMA="resetSubSchema",e.OPTIONAL_TO_MANDATORY="optionalToMandatory",e.CUSTOM_HEADING="customHeading",e.CUSTOM_MAX_OCCURS="customMaxOccurs",e.CUSTOM_MIN_OCCURS="customMinOccurs",e.STRING_TO_LIST="stringToList",e.CUSTOM_DEFINITION="definition",e.STRING_TO_PATTERN="stringToPattern",e.EXCLUDE_SUB_ELEMENTS="excludeSubElements",e.REMOVE_DESCENDENT_CUSTOMISATION="removeDescendentCustomisation",e.UPDATE_CUSTOMISATION="updateCustomisation"}(o||(o={})),function(e){e.UPLOAD_SCHEMA="uploadSchema",e.UPLOAD_SCHEMA_SUCCESS="uploadSchemaSuccess",e.UPLOAD_SCHEMA_ERROR="uploadSchemaError",e.RESET_SCHEMA="reset"}(r||(r={}));var q,G,J,K={data:null,error:null,loading:!1,markedForDeletionList:void 0},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SEARCH_ITEM:return{loading:!0,error:null,data:null,markedForDeletionList:void 0};case a.SEARCH_ITEM_SUCCESS:return{loading:!1,error:null,data:t.payload,markedForDeletionList:void 0};case a.SEARCH_ITEM_ERROR:return{loading:!1,error:t.payload,data:null,markedForDeletionList:void 0};case a.REST_ITEM:return{loading:!1,error:null,data:null,markedForDeletionList:void 0};case a.MARKED_FOR_DELETION:return Object(m.a)(Object(m.a)({},e),{},{markedForDeletionList:t.payload});default:return e}},Q={customization:void 0,subSchema:{transactionType:void 0,transactionVersion:void 0},error:null,loading:!1,metaData:void 0},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.UPLOAD_CUSTOMIZATION:return Object(m.a)(Object(m.a)({},e),{},{customization:void 0,loading:!0,error:null});case o.UPLOAD_CUSTOMIZATION_SUCCESS:return Object(m.a)(Object(m.a)({},e),{},{customization:t.payload.doc,metaData:t.payload.file,loading:!1,error:null});case o.UPLOAD_CUSTOMIZATION_ERROR:return Object(m.a)(Object(m.a)({},e),{},{customization:void 0,metaData:void 0,loading:!1,error:t.payload});case o.CUSTOMIZE_SUB_SCHEMA:return Object(m.a)(Object(m.a)({},e),{},{subSchema:t.payload});case o.RESET_SUB_SCHEMA:return Object(m.a)(Object(m.a)({},e),{},{subSchema:void 0,customization:void 0});case o.UPDATE_CUSTOMISATION:return Object(m.a)(Object(m.a)({},e),{},{customization:t.payload});default:return e}},te={error:null,loading:!1,schema:void 0,metaData:void 0},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.UPLOAD_SCHEMA:return{loading:!0,schema:void 0,metaData:void 0,error:null};case r.UPLOAD_SCHEMA_SUCCESS:return{loading:!1,error:null,metaData:t.payload.file,schema:t.payload.doc};case r.UPLOAD_SCHEMA_ERROR:return{loading:!1,schema:void 0,metaData:void 0,error:t.payload};case r.RESET_SCHEMA:return{loading:!1,schema:void 0,metaData:void 0,error:null};default:return e}},ie=Object(X.c)({item:$,customizer:ee,schema:ne}),ae=Object(X.d)(ie,{},Object(X.a)(Z.a)),oe=n(16),re=n(42),ce=n.n(re),se=n(58),le=n(69),ue=n(17),de=n(18);!function(e){e.type="type",e.name="name",e.use="use",e.minOccurs="minOccurs",e.maxOccurs="maxOccurs",e.value="value",e.base="base"}(q||(q={})),function(e){e.element="xs:element",e.annotation="xs:annotation",e.complexType="xs:complexType",e.choice="xs:choice",e.sequence="xs:sequence",e.attribute="xs:attribute",e.simpleType="xs:simpleType",e.restriction="xs:restriction",e.documentation="xs:documentation",e.path="lx:path",e.label="lx:label",e.transactions="li:transactions",e.enumeration="xs:enumeration",e.target="lx:target",e.references="lx:references"}(G||(G={})),function(e){e.element="element",e.complexType="complexType",e.choice="choice",e.sequence="sequence",e.attribute="attribute",e.simpleType="simpleType",e.restriction="restriction",e.annotation="annotation",e.documentation="documentation",e.path="path",e.label="label",e.transactions="transactions",e.enumeration="enumeration"}(J||(J={}));var me=function(e){return e?{xs:"http://www.w3.org/2001/XMLSchema",lx:"lixi.org.au/schema/appinfo_elements",li:"lixi.org.au/schema/appinfo_instructions"}[e]:null},be=function(){function e(t){Object(ue.a)(this,e),this.parsedDoc=void 0,this.parsedDoc=t}return Object(de.a)(e,[{key:"getPathOfAllElements",value:function(){var e,t=[],n=this.parsedDoc.getElementsByTagName(G.element),i=Object(le.a)(Array.prototype.fill(n));try{for(i.s();!(e=i.n()).done;){var a=e.value;t.push(a.getElementsByTagName(G.path)[0].textContent)}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"getPathOfAllItems",value:function(){for(var e=[],t=this.evaluateXpath("//lx:path[text()]/text()",this.parsedDoc),n=null===t||void 0===t?void 0:t.iterateNext();n;)e.push(n.textContent),n=null===t||void 0===t?void 0:t.iterateNext();return e}},{key:"getPathOfAllItemsInATransaction",value:function(e){for(var t=[],n=this.evaluateXpath("//lx:path/following-sibling::li:transactions",this.parsedDoc),i=null===n||void 0===n?void 0:n.iterateNext();i;){var a,o,r=null===(a=i.textContent)||void 0===a?void 0:a.split(",");if(r&&r.includes(e))t.push(null===(o=i.parentElement)||void 0===o?void 0:o.children[0].textContent);i=null===n||void 0===n?void 0:n.iterateNext()}return t}},{key:"evaluateXpath",value:function(e,t){return t=t||this.parsedDoc,this.parsedDoc.evaluate(e,t,me,XPathResult.ANY_TYPE,null)}},{key:"getItemByPath",value:function(e){var t,n,i;return null===(t=this.parsedDoc.evaluate("//lx:path[text()='".concat(e,"'][1]"),this.parsedDoc,me,XPathResult.ANY_UNORDERED_NODE_TYPE,null).singleNodeValue)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(i=n.parentElement)||void 0===i?void 0:i.parentElement}},{key:"getSchemaDetails",value:function(){var e,t;return null===(e=this.parsedDoc.evaluate("//lx:schemadetail",this.parsedDoc,me,XPathResult.ANY_UNORDERED_NODE_TYPE,null).singleNodeValue)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.children[0]}},{key:"getTransactions",value:function(){var e,t,n=null===(e=this.parsedDoc.evaluate("//lx:schemadetail",this.parsedDoc,me,XPathResult.ANY_UNORDERED_NODE_TYPE,null).singleNodeValue)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.children,i=[];return Array.prototype.map.call(n,(function(e){"subschema"===e.localName&&(null===i||void 0===i||i.push({transactionType:e.getAttribute("transactiontype"),transactionVersion:e.getAttribute("version")}))})),i}}]),e}(),je=function(e){var t=function(t){return new Promise((function(n,i){var a=new be(t);e&&n(a.getItemByPath(e))}))};return function(){var e=Object(se.a)(ce.a.mark((function e(n,i){var o,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:a.SEARCH_ITEM}),e.prev=1,o=i().schema.schema){e.next=6;break}return e.abrupt("return");case 6:return e.next=9,t(o);case 9:r=e.sent,n({type:a.SEARCH_ITEM_SUCCESS,payload:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n({type:a.SEARCH_ITEM_ERROR,payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()},he=function(){return function(e){e({type:a.REST_ITEM})}},pe=function(e){return function(t){t({type:a.MARKED_FOR_DELETION,payload:Object(oe.a)(e)})}},ve=function(e){return function(t,n){t({type:o.CUSTOMIZE_SUB_SCHEMA,payload:e})}},xe=function(){return function(e,t){e({type:o.RESET_SUB_SCHEMA})}},fe=function(e){var t=function(e){return new Promise((function(t,n){t((new DOMParser).parseFromString(e,"text/xml"))}))};return function(){var n=Object(se.a)(ce.a.mark((function n(i){var a,r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:o.UPLOAD_CUSTOMIZATION}),n.prev=1,n.next=4,new Promise((function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.onerror=n,i.readAsText(e)}));case 4:if(!(a=n.sent)){n.next=10;break}return n.next=8,t(null===a||void 0===a?void 0:a.toString());case 8:r=n.sent,i({type:o.UPLOAD_CUSTOMIZATION_SUCCESS,payload:{doc:r.getElementsByTagName("Customisations")[0],file:e}});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i({type:o.UPLOAD_CUSTOMIZATION_ERROR,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()},Oe=function(e){return function(t){t({type:o.UPDATE_CUSTOMISATION,payload:e})}},ge=function(e){var t=function(e){return new Promise((function(t,n){t((new DOMParser).parseFromString(e,"text/xml"))}))};return function(){var n=Object(se.a)(ce.a.mark((function n(i,a){var o,c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:r.UPLOAD_SCHEMA}),n.prev=1,n.next=4,new Promise((function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.onerror=n,i.readAsText(e)}));case 4:if(!(o=n.sent)){n.next=10;break}return n.next=8,t(null===o||void 0===o?void 0:o.toString());case 8:c=n.sent,i({type:r.UPLOAD_SCHEMA_SUCCESS,payload:{doc:c,file:e}});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),i({type:r.UPLOAD_SCHEMA_ERROR,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,t){return n.apply(this,arguments)}}()},ye=function(){return function(e){try{e({type:r.RESET_SCHEMA})}catch(t){e({type:r.UPLOAD_SCHEMA_ERROR,payload:t.message})}}},Ce=function(){var e=Object(W.b)();return Object(X.b)(i,e)},Ie=W.c,Se=Object(v.a)((function(e){return Object(x.a)({uploadContainer:{maxWidth:"75ch",minWidth:"15rem",alignItems:"center",display:"flex",justifyContent:"flex-start",marginTop:"1rem",padding:"0.2rem 0.5rem",height:"max-content",backgroundColor:"#fffde7"},upload:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"80%",backgroundColor:"#fffde7"},actionsContainer:{margin:e.spacing(1,0,1,0)},nextButton:{marginLeft:"0.5rem"},fileDetailHeaderRow:{backgroundColor:e.palette.primary.main},fileDetailHeaderCell:{color:e.palette.getContrastText(e.palette.primary.main)}})})),Ee=n(450),Te=n(498),we=n(500),ke=n(497),Ae=n(499),Me=n(501),Ne=n(496),De=n(451),ze=function(e){var t=e.handelNextClicked,n=Se(),i=Ce().uploadBaseSchema,a=Ie((function(e){return e.schema})),o=a.schema,r=a.metaData,c=s.a.useMemo((function(){if(null===r||void 0===r?void 0:r.size){if(0===(null===r||void 0===r?void 0:r.size))return"0 Bytes";var e=Math.floor(Math.log(null===r||void 0===r?void 0:r.size)/Math.log(1024));return parseFloat(((null===r||void 0===r?void 0:r.size)/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}),[null===r||void 0===r?void 0:r.size]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(z.a,{maxWidth:"75ch",children:Object(V.jsx)(M.a,{children:"LIXI base schema must be uploaded."})}),Object(V.jsx)(Ee.a,{className:n.uploadContainer,children:Object(V.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(V.jsx)(Y,{saveFace:function(e){return i(e)},description:"Click to upload LIXI Base/Transaction Schema"})}),Object(V.jsxs)(De.a,{in:!!r,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(Ne.a,{component:Ee.a,children:Object(V.jsxs)(ke.a,{"aria-label":"file table",size:"small",children:[Object(V.jsx)("caption",{children:"File Details"}),Object(V.jsx)(Te.a,{className:n.fileDetailHeaderRow,children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(we.a,{className:n.fileDetailHeaderCell,variant:"head",align:"left",children:"Name"}),Object(V.jsx)(we.a,{className:n.fileDetailHeaderCell,align:"left",children:"Last Modified"}),Object(V.jsx)(we.a,{className:n.fileDetailHeaderCell,align:"center",children:"Size"}),Object(V.jsx)(we.a,{className:n.fileDetailHeaderCell,align:"center",children:"Type"})]})}),Object(V.jsx)(Me.a,{children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(we.a,{scope:"row",align:"left",children:null===r||void 0===r?void 0:r.name}),Object(V.jsx)(we.a,{scope:"row",align:"left",children:(null===r||void 0===r?void 0:r.lastModified)?new Date(null===r||void 0===r?void 0:r.lastModified).toString():void 0}),Object(V.jsx)(we.a,{scope:"row",align:"center",children:c}),Object(V.jsx)(we.a,{scope:"row",align:"center",children:null===r||void 0===r?void 0:r.type})]})})]})})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:2,children:Object(V.jsx)("div",{className:n.actionsContainer,children:Object(V.jsx)(k.a,{size:"small",endIcon:Object(V.jsx)(D.a,{}),variant:"contained",color:"primary",onClick:t,disabled:!o,className:n.nextButton,children:"Next"})})})]})]})})]})},Re=n(245),_e=n.n(Re),Le=Object(v.a)((function(e){return Object(x.a)({uploadContainer:{maxWidth:"75ch",minWidth:"15rem",alignItems:"center",display:"flex",justifyContent:"flex-start",marginTop:"1rem",padding:"0.2rem 0.5rem",height:"max-content",backgroundColor:"#fffde7"},upload:{alignItems:"center",display:"flex",justifyContent:"space-between",width:"80%",backgroundColor:"#fffde7"},actionsContainer:Object(p.a)({display:"flex",margin:e.spacing(1,0,1,0)},e.breakpoints.down("xs"),{margin:e.spacing(1,1,1,1),flexDirection:"column"}),button:Object(p.a)({marginLeft:"0.1rem"},e.breakpoints.down("xs"),{marginTop:"0.1rem"}),fileDetailHeaderRow:{backgroundColor:e.palette.primary.main},fileDetailHeaderCell:{color:e.palette.getContrastText(e.palette.primary.main)}})})),Pe=n(112),Be=n.n(Pe),He=function(e){var t=e.handelBack,n=(e.handelSkip,e.handelNext,e.activeStep),i=Le(),a=Ce().uploadExistingCustomization,o=Ie((function(e){return e.customizer})).metaData,r=s.a.useMemo((function(){if(null===o||void 0===o?void 0:o.size){if(0===(null===o||void 0===o?void 0:o.size))return"0 Bytes";var e=Math.floor(Math.log(null===o||void 0===o?void 0:o.size)/Math.log(1024));return parseFloat(((null===o||void 0===o?void 0:o.size)/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}),[null===o||void 0===o?void 0:o.size]);return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(z.a,{maxWidth:"75ch",children:Object(V.jsx)(C.a,{children:"If you already have an existing customisation instruction file you can upload it here, otherwise a new customisation instruction file will be created."})}),Object(V.jsx)(Ee.a,{className:i.uploadContainer,children:Object(V.jsxs)(Be.a,{container:!0,alignItems:"center",children:[Object(V.jsx)(Be.a,{item:!0,xs:12,sm:12,children:Object(V.jsx)(Y,{saveFace:function(e){return a(e)},description:"Click to upload an existing customisation file"})}),Object(V.jsx)(Be.a,{item:!0,xs:12,children:Object(V.jsx)(De.a,{in:!!o,children:Object(V.jsx)(Ne.a,{component:Ee.a,children:Object(V.jsxs)(ke.a,{"aria-label":"file table",size:"small",children:[Object(V.jsx)("caption",{children:"File Details"}),Object(V.jsx)(Te.a,{className:i.fileDetailHeaderRow,children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(we.a,{className:i.fileDetailHeaderCell,variant:"head",align:"left",children:"Name"}),Object(V.jsx)(we.a,{className:i.fileDetailHeaderCell,align:"left",children:"Last Modified"}),Object(V.jsx)(we.a,{className:i.fileDetailHeaderCell,align:"center",children:"Size"}),Object(V.jsx)(we.a,{className:i.fileDetailHeaderCell,align:"center",children:"Type"})]})}),Object(V.jsx)(Me.a,{children:Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(we.a,{scope:"row",align:"left",children:null===o||void 0===o?void 0:o.name}),Object(V.jsx)(we.a,{scope:"row",align:"left",children:(null===o||void 0===o?void 0:o.lastModified)?new Date(null===o||void 0===o?void 0:o.lastModified).toString():void 0}),Object(V.jsx)(we.a,{scope:"row",align:"center",children:r}),Object(V.jsx)(we.a,{scope:"row",align:"center",children:null===o||void 0===o?void 0:o.type})]})})]})})})}),Object(V.jsx)(Be.a,{item:!0,children:Object(V.jsx)("div",{className:i.actionsContainer,children:Object(V.jsx)(k.a,{startIcon:Object(V.jsx)(_e.a,{}),size:"small",disabled:0===n,onClick:t,className:i.button,variant:"contained",color:"primary",children:"Back"})})})]})})]})},Fe=function(){var e={optional:Object(V.jsx)(C.a,{variant:"caption",children:"Optional"})},t=s.a.useState(0),n=Object(b.a)(t,2),i=n[0],a=n[1],o=s.a.useState({}),r=Object(b.a)(o,2),c=r[0],l=r[1],u=w(),j=function(){a((function(e){return e+1}))};return Object(V.jsxs)("div",{className:u.root,children:[Object(V.jsx)(d.a,{}),Object(V.jsxs)(I.a,{className:u.stepper,activeStep:i,orientation:"vertical",children:[Object(V.jsxs)(S.a,{children:[Object(V.jsx)(E.a,{children:"Upload LIXI Base Schema"}),Object(V.jsx)(T.a,{children:Object(V.jsx)(ze,{handelNextClicked:j})})]}),Object(V.jsxs)(S.a,Object(m.a)(Object(m.a)({},c),{},{children:[Object(V.jsx)(E.a,Object(m.a)(Object(m.a)({},e),{},{children:Object(V.jsx)(C.a,{variant:"caption",children:"Upload an existing customisation file"})})),Object(V.jsx)(T.a,{children:Object(V.jsx)(He,{handelBack:function(){a((function(e){return e-1}))},activeStep:i,handelSkip:function(){l({completed:!1}),j()},handelNext:j})})]}))]})]})},Ue=n(246),Ve=n.n(Ue),Ye=n(247),We={indent:4,newline:"\n"},Xe={tagColor:"#03a9f4",attributeKeyColor:"#fdd835",textColor:"#FFFFFF",attributeValueColor:"#8bc34a",separatorColor:"#03a9f4"},Ze=n(249),qe=n.n(Ze),Ge=n(250),Je=n.n(Ge),Ke=Object(v.a)((function(e){return Object(x.a)({container:{position:"relative",overflow:"scroll",backgroundColor:"#444",maxHeight:"100vh",marginTop:"0.5rem",borderRadius:"0.1rem"},header:{position:"sticky",top:"0",right:"0",left:"0",padding:"0.5rem 1rem",display:"flex",justifyContent:"space-between",backgroundColor:"#333",marginBottom:"1rem",borderRadius:"0.1rem",width:"inherit",boxShadow:"0.3rem 0.4rem #555",color:e.palette.getContrastText("#333")},downloadLink:{color:e.palette.secondary.light,textDecoration:"none"}})})),$e=function(e){var t=e.itemXML,n=e.role,i=Ke(),a=new XMLSerializer;if(t){var o=a.serializeToString(t);return Object(V.jsxs)("div",{className:i.container,children:[Object(V.jsxs)("div",{className:i.header,children:[Object(V.jsx)(C.a,{variant:"h5",children:n&&"download"!==n?"Item Instruction":"Customisation Instructions"}),(!n||"download"===n)&&Object(V.jsx)(k.a,{variant:"outlined",color:"secondary",startIcon:Object(V.jsx)(Je.a,{}),children:Object(V.jsx)("div",{children:Object(V.jsx)(qe.a,{label:"Download",filename:"customisation.xml",exportFile:function(){return Promise.resolve(o)},style:{color:"pink",textDecoration:"none"}})})})]}),Object(V.jsx)("div",{style:{margin:"1rem"},children:Object(V.jsx)(Ye.a,{xml:Ve()(o,We),theme:Xe})})]})}return Object(V.jsx)(c.Fragment,{})},Qe=n(59),et=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1?arguments[1]:void 0;Object(ue.a)(this,e),this.customisation=void 0,this.path=void 0,this.customiseItem=void 0,this.excerpt="",this.documentation="",this.customiseItem=this._customiseItemStub(),n&&(this.path=n),this.customisation=t?t.cloneNode(!0):this._customisationStub()}return Object(de.a)(e,[{key:"itemPath",value:function(){if(this.path){var t=e.docStub().createElement("Path");t.textContent=this.path,this.customiseItem.append(t)}}},{key:"exclude",value:function(){if(!this.ExcludedItem()&&this.path){this.removeCustomisedItem();var t=e.docStub();this.customiseItem.setAttribute("Exclude","Yes");var n=t.createElement("Path");return n.textContent=this.path,this.customiseItem.append(n),this.customisation.append(this.customiseItem),this.customiseItem}}},{key:"include",value:function(){var e=this.ExcludedItem();e&&e.parentElement&&this.customisation.removeChild(e.parentElement)}},{key:"ExcludedItem",value:function(){var e,t=this,n=Array.from(null===(e=this.customisation)||void 0===e?void 0:e.getElementsByTagName("Path"));return Array.prototype.find.call(n,(function(e){var n;if("Yes"===(null===(n=e.parentElement)||void 0===n?void 0:n.getAttribute("Exclude")))return e.textContent===t.path}))}},{key:"_customiseItemStub",value:function(){return e.docStub().createElement("CustomiseItem")}},{key:"_customisationStub",value:function(){return(new DOMParser).parseFromString('\n    <Customisations \n        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n        xsi:noNamespaceSchemaLocation="LIXI-Customisation-By-Restriction.xsd" \n        LIXICode="LIXI" CustomisationCode="" \n        LIXITransactionType="" \n        customHeading="Custom Heading for All Customised Items">\n    </Customisations>',"text/xml").getElementsByTagName("Customisations")[0]}},{key:"getCustomisedItem",value:function(){var e=this,t=Array.from(this.customisation.getElementsByTagName("Path"));return Array.prototype.find.call(t,(function(t){var n;if(!(null===(n=t.parentElement)||void 0===n?void 0:n.getAttribute("Exclude")))return t.textContent===e.path}))}},{key:"getTouchedItem",value:function(){var e=this,t=Array.from(this.customisation.getElementsByTagName("Path"));return Array.prototype.find.call(t,(function(t){return t.textContent===e.path}))}},{key:"removeCustomisedItem",value:function(){var e,t=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(t)return this.customisation.removeChild(t),t}},{key:"customExcerpt",value:function(){if(this.excerpt){var t=e.docStub().createElement("CustomExcerpt");t.textContent=this.excerpt.trim(),this.customiseItem.append(t)}}},{key:"customDocumentation",value:function(){if(this.documentation){var t=e.docStub().createElement("CustomDocumentation");t.textContent=this.documentation.trim(),this.customiseItem.append(t)}}},{key:"affectedDecedents",value:function(){var e;if(null===this||void 0===this?void 0:this.path){var t=this.path,n=Array.from(null===(e=this.customisation)||void 0===e?void 0:e.getElementsByTagName("Path"));return Array.prototype.filter.call(n,(function(e){var n;return null===(n=e.textContent)||void 0===n?void 0:n.startsWith(t||"")}))}}},{key:"removeCustomisation",value:function(e){var t=this;console.log("paths:",e);var n=Array.from(this.customisation.getElementsByTagName("Path"));Array.prototype.forEach.call(n,(function(n){console.log("path:",n.textContent),n&&(null===n||void 0===n?void 0:n.textContent)&&e.includes(null===n||void 0===n?void 0:n.textContent)&&n.parentElement&&t.customisation.removeChild(null===n||void 0===n?void 0:n.parentElement)}))}}],[{key:"docStub",value:function(){return(new DOMParser).parseFromString("<root></root>","text/xml")}}]),e}(),tt=function(){function e(t){Object(ue.a)(this,e),this.element=void 0,this.annotated=void 0,this.element=t.cloneNode(!0),this.annotated=this.element.children[0].localName===J.annotation}return Object(de.a)(e,[{key:"transactions",get:function(){var e;return this.annotated?null===(e=this.element.children[0].getElementsByTagName(G.transactions)[0].textContent)||void 0===e?void 0:e.split(","):[]}},{key:"path",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(G.path)[0].textContent}},{key:"label",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(G.label)[0].textContent}},{key:"documentation",get:function(){if(this.annotated)return this.element.children[0].getElementsByTagName(G.documentation)[0].textContent}},{key:"rootDocument",value:function(){return this.element.ownerDocument}},{key:"references",get:function(){var e=[];if(this.annotated&&"attribute"===this.element.localName&&"referenceType"===this.element.getAttribute("type")){var t=this.element.children[0].getElementsByTagName(G.target);return Array.prototype.map.call(t,(function(t){e.push(t.textContent)})),e}}},{key:"baseRestriction",get:function(){if("simpleType"===this.element.localName)return this.element.children[1].getAttribute("base")}},{key:"attributes",get:function(){var e=[],t=this.getLixiComplexType();return t&&Array.from(t.children).forEach((function(t){t.localName===J.attribute&&e.push(t)})),e}},{key:"getLixiComplexType",value:function(){var e=[];return Array.from(this.element.children).forEach((function(t){t.localName===J.complexType&&e.push(t)})),e[0]}},{key:"lixiSubElements",get:function(){var e=this.getLixiComplexType(),t={},n=null===e||void 0===e?void 0:e.firstElementChild;return(null===n||void 0===n?void 0:n.localName)===J.sequence?t[J.sequence]=Object(oe.a)(Array.from(n.children)):(null===n||void 0===n?void 0:n.localName)===J.choice&&(t[J.choice]=Object(oe.a)(Array.from(n.children))),Object.keys(t).length,t}},{key:"enumeration",get:function(){if("simpleType"===this.element.localName){var e=this.element.children[1];if("xs:token"===e.getAttribute("base"))return Object(oe.a)(Array.from(e.children))}}}]),e}(),nt=n(511),it=n(533),at=n(515),ot=n(518),rt=n(506),ct=n(452),st=n(67),lt=n.n(st),ut=n(66),dt=n.n(ut),mt=n(263),bt=n.n(mt),jt=n(27),ht=n(28),pt=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.fixedList=void 0,e.fixedList=!(!(null===o||void 0===o?void 0:o.elements.length)&&!(null===o||void 0===o?void 0:o.attributes.length)),e.object=o||{includeAllElements:!0,excludeAllElements:!1,includeAllAttributes:!0,excludeAllAttributes:!1,elements:[],attributes:[],heading:"",excerpt:"",documentation:"",newMin:"",newMax:""},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.includeAllAttributes,n=e.attributes,i=e.includeAllElements,a=e.elements,o=e.newMin,r=e.newMax,c=e.documentation,s=e.excerpt,l=e.heading;t||n.length||i||a.length||r||o||c||l||s?(this.excerpt=s||"",this.documentation=c||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.customMaxOccurs(),this.customMinOccurs(),this.customAttributes(),this.customElements(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"customMinOccurs",value:function(){if(this.object.newMin){this.customiseItem.setAttribute("CustomMinOccurs","Yes");var e=et.docStub().createElement("CustomMinOccurs");e.textContent=this.object.newMin.toString(),this.customiseItem.append(e)}}},{key:"customMaxOccurs",value:function(){if(this.object.newMax){this.customiseItem.setAttribute("CustomMaxOccurs","Yes");var e=et.docStub().createElement("CustomMaxOccurs");e.textContent=this.object.newMax.toString(),this.customiseItem.append(e)}}},{key:"customAttributes",value:function(){var e=this;if(this.object.attributes.length){var t=et.docStub();this.object.attributes.forEach((function(n,i){var a=t.createElement("Attribute");a.textContent=n,e.customiseItem.append(a)}))}}},{key:"customElements",value:function(){var e=this;if(this.object.elements.length){var t=et.docStub();this.object.elements.forEach((function(n,i){var a=t.createElement("Element");a.textContent=n,e.customiseItem.append(a)}))}}},{key:"setInLineAttributes",value:function(){if(this.object.heading&&this.customiseItem.setAttribute("customHeading",this.object.heading),(this.object.elements.length||this.object.attributes.length)&&this.customiseItem.setAttribute("Include","Yes"),this.object.elements.length,this.object.attributes.length,this.object.includeAllAttributes||!this.object.attributes.length&&this.object.elements.length&&this.customiseItem.setAttribute("ExcludeAllAttributes","Yes"),this.object.includeAllElements||!this.object.elements.length&&this.object.attributes.length&&this.customiseItem.setAttribute("ExcludeAllElements","Yes"),this.object.elements.length||!this.object.includeAllElements||this.object.attributes.length||!this.object.includeAllAttributes)return this.object.elements.length||this.object.includeAllElements||this.object.attributes.length||this.object.includeAllAttributes||this.object.heading||this.object.documentation||this.object.excerpt?void 0:this.exclude()}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;if(!n)return this.object;this.object.excludeAllAttributes="Yes"===n.getAttribute("ExcludeAllAttributes"),this.object.excludeAllElements="Yes"===n.getAttribute("ExcludeAllElements"),this.fixedList=!!n.getAttribute("Include");var i=n.getAttribute("customHeading");return this.object.heading=i||void 0,Array.prototype.forEach.call(n.children,(function(e){var n,i;switch(e.localName){case"CustomMaxOccurs":var a=e.textContent;t.object.newMax=a?parseInt(a):"";break;case"CustomMinOccurs":var o=e.textContent;t.object.newMin=o?parseInt(o):"";break;case"Attribute":var r=e.textContent;if(!r)break;null===(n=t.object.attributes)||void 0===n||n.push(r);break;case"Element":var c=e.textContent;if(!c)break;null===(i=t.object.elements)||void 0===i||i.push(c);break;case"CustomExcerpt":var s=e.textContent;t.object.excerpt=s||"";break;case"CustomDocumentation":var l=e.textContent;t.object.documentation=l||""}})),this.object}}]),n}(et);pt.parentCustomised=function(e,t,n){var i,a={},o=e.split("."),r=o.pop(),c=new pt(t,o.join(".")),s=null===(i=c.getTouchedItem())||void 0===i?void 0:i.parentElement;if(c.customisedObject(),s){if(s.getAttribute("Exclude"))return a.included=!1,a.path=o.join("."),a;if(!s.getAttribute("Include"))return a.included=!0,a.path=o.join("."),a;if("element"===n)return s.getAttribute("ExcludeAllElements")?(a.included=!1,a.path=o.join("."),a):r&&c.object.elements.includes(r)?(a.included=!0,a.path=o.join("."),a):(a.included=!1,a.path=o.join("."),a);if("attribute"===n)return s.getAttribute("ExcludeAllAttributes")?(a.included=!1,a.path=o.join("."),a):r&&c.object.attributes.includes(r)?(a.included=!0,a.path=o.join("."),a):(a.included=!1,a.path=o.join("."),a);o.pop()}for(;o.length;){var l,u=o.pop(),d=new pt(t,o.join(".")),m=null===(l=d.getTouchedItem())||void 0===l?void 0:l.parentElement;if(d.customisedObject(),m){if(m.getAttribute("Exclude"))return a.included=!1,a.path=o.join("."),a;if(!m.getAttribute("Include"))return a.included=!0,a.path=o.join("."),a;if(m.getAttribute("ExcludeAllElements"))return a.included=!1,a.path=o.join("."),a;if(u&&d.object.elements.includes(u))return a.included=!0,a.path=o.join("."),a}}};var vt=n(508),xt=n(68),ft=n.n(xt),Ot=n(15),gt=n(258),yt=n.n(gt),Ct=n(507),It=n(509),St=n(155),Et=n.n(St),Tt=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{zIndex:2,display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},viewItem:{"&:hover":{color:"#3f51b5"}}})})),wt=function(e){var t=e.name,n=(e.toggle,e.items),i=e.listName,a=e.selectedItemsLength,o=e.header,r=(e.excluded,e.included),c=(e.arrayHelper,e.exclusion),l=Tt(),u=s.a.useState(""),d=Object(b.a)(u,2),m=d[0],j=d[1],h=s.a.useState(!0),p=Object(b.a)(h,2),v=p[0],x=p[1],f=Object(Ot.e)(),O=f.values,g=f.getFieldHelpers,y=f.submitForm,C=s.a.useMemo((function(){if(!c){if(O[t])return"".concat(o," - included");if(!a)return"".concat(o," - not included")}return"".concat(o)}),[c,o,t,a,O]);s.a.useEffect((function(){if(a===n.length)return j(t),void g(t).setValue(!0);g(t).setValue(!1),j("")}),[g,n.length,t,a,m,O]);return Object(V.jsx)(Ee.a,{children:Object(V.jsx)("div",{onClick:function(){return function(){if(!c){var e=Object(oe.a)(O[i]);if(v)return n.forEach((function(t,n){var i,a=null===t||void 0===t||null===(i=t.path)||void 0===i?void 0:i.split(".").pop();a&&!e.includes(a)&&e.push(a)})),g(i).setValue(e),x(!1),void y();n.forEach((function(t,n){var a,o=null===t||void 0===t||null===(a=t.path)||void 0===a?void 0:a.split(".").pop();o&&e.includes(o)&&!r.includes(o)&&e.splice(e.indexOf(o),1),g(i).setValue(e)})),x(!0),y()}}()},style:{cursor:"pointer"},children:Object(V.jsxs)(rt.a,{style:{marginTop:"0",alignItems:"center"},className:l.subItemHeader,children:[Object(V.jsxs)(Ct.a,{children:[!c&&(a>0&&a<n.length?Object(V.jsx)(Et.a,{color:"primary"}):m?Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}):Object(V.jsx)(lt.a,{fontSize:"small",style:{color:"red"}})),c&&Object(V.jsx)(vt.a,{size:"small",checked:!!m,inputProps:{"aria-label":"controlled"}})]}),Object(V.jsx)(It.a,{primary:C})]},t)})})},kt=n(517),At=n(253),Mt=n.n(At),Nt=Object(v.a)((function(e){return Object(x.a)({viewItem:{"&:hover":{color:"#3f51b5"}},tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",fontSize:16},tooltip2:{backgroundColor:"#fff",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(16)}})})),Dt=function(e){var t=e.lixiItem,n=e.placement,i=Nt();return Object(V.jsx)(_.a,{placement:n,className:i.tooltip2,title:Object(V.jsxs)(s.a.Fragment,{children:[Object(V.jsx)(C.a,{color:"inherit",children:t.label}),t.documentation]}),children:Object(V.jsx)(Mt.a,{className:i.viewItem,fontSize:"small"})})},zt=n(257),Rt=n.n(zt),_t=Object(v.a)((function(e){return Object(x.a)({subItem:{height:"16rem",overflow:"scroll"},viewItem:{"&:hover":{color:"#3f51b5"}}})})),Lt=n(535),Pt=n(516),Bt=n(513),Ht=n(514),Ft=n(512),Ut=n(531),Vt=n(510),Yt=function(e){var t=e.checked,n=e.label,i=Object(Qe.a)(e,["checked","label"]),a=Object(Ot.d)(i),o=Object(b.a)(a,2),r=o[0],c=o[1];return n?Object(V.jsx)(Vt.a,{error:!(!c.touched||!c.error),children:Object(V.jsx)(nt.a,{style:{padding:0,color:c.touched&&c.error?"red":"inherit"},control:Object(V.jsx)(it.a,Object(m.a)(Object(m.a)({checked:t},r),i)),label:n})}):Object(V.jsx)(it.a,Object(m.a)(Object(m.a)({checked:t},r),i))},Wt=n(111),Xt=n.n(Wt),Zt=Object(v.a)((function(e){return Object(x.a)({root:{backgroundColor:"transparent"},paper:{boxShadow:"1px 1px 3px #BDBDBD",overflow:"hidden",padding:e.spacing(0)},alert:{color:"#c43e00","&:hover":{color:"#ff8f00"}},button:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}}})})),qt=n(158),Gt=n.n(qt),Jt=n(22),Kt=function(e){var t=e.open,n=e.affected,i=e.handleClose,a=Zt(),o=Ce().markedForDeletion,r=Ie((function(e){return e.item})).markedForDeletionList;return Object(V.jsx)(Ot.c,{initialValues:Object(m.a)({agree:!1},n),validationSchema:Jt.c().shape({agree:Jt.a().oneOf([!0])}),enableReinitialize:!0,onSubmit:function(e,t){var n=t.setSubmitting,a=t.resetForm;setTimeout((function(){n(!0);var t=r?Object(oe.a)(r):[];e.items.forEach((function(e){(null===r||void 0===r?void 0:r.includes(e))||t.push(e)})),o(Object(oe.a)(t)),n(!1),a(),i()}),400)},children:function(e){var o=e.isSubmitting,r=e.values,c=(e.errors,e.touched,e.resetForm);return Object(V.jsx)("div",{children:Object(V.jsxs)(Lt.a,{draggable:!0,BackdropProps:{classes:{root:a.root}},PaperProps:{classes:{root:a.paper,elevation2:"5"}},style:{boxShadow:"none"},open:t,onClose:c,"aria-labelledby":"form-dialog-title",children:[Object(V.jsx)(Gt.a,{}),Object(V.jsx)(Ft.a,{style:{backgroundColor:"cornsilk",padding:0,boxShadow:"1px 1px 1px orange"},id:"form-dialog-title",children:Object(V.jsxs)(Ut.a,{style:{width:"100%"},variant:"standard",severity:"warning",action:Object(V.jsx)(_.a,{title:"Cancel",placement:"top",children:Object(V.jsx)(L.a,{onClick:i,"aria-label":"delete",className:a.alert,size:"small",disableRipple:!0,children:Object(V.jsx)(Xt.a,{fontSize:"default"})})}),children:["Excluding"," ",Object(V.jsx)("em",{children:Object(V.jsx)("strong",{children:null===n||void 0===n?void 0:n.path.split(".").pop()})})," ","will delete all of its customised descendants"]})}),Object(V.jsxs)(Bt.a,{children:[Object(V.jsx)(C.a,{variant:"subtitle1",children:"Following customisation will be lost."}),null===n||void 0===n?void 0:n.items.map((function(e,t){return Object(V.jsx)("li",{children:"".concat(e)},e)})),Object(V.jsx)(Ht.a,{})]}),Object(V.jsx)(at.a,{}),Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Pt.a,{style:{justifyContent:"space-between",padding:"0.2rem 1rem"},children:[Object(V.jsx)(Yt,{checked:r.agree,name:"agree",label:"I know what I'm doing",onClick:function(){return r.agree=!r.agree},value:"".concat(null===r||void 0===r?void 0:r.agree)}),Object(V.jsx)(k.a,{type:"submit",variant:"contained",className:a.button,disabled:o,size:"small",color:"primary",children:"Exclude"})]})})]})})}})},$t=function(e){var t,n,i=e.listName,a=e.element,o=e.included,r=e.excluded,l=(e.touched,e.fixedListItem,e.selectAll),u=e.arrayHelper,d=e.toggleSelectAll,m=(e.includeAll,e.excludeAll),j=e.exclusion,h=_t(),p=s.a.useState(""),v=Object(b.a)(p,2),x=(v[0],v[1]),f=s.a.useState([]),O=Object(b.a)(f,2),g=(O[0],O[1],Ie((function(e){return e.item})).markedForDeletionList),y=Ie((function(e){return e.customizer})).customization,I=Ce(),S=I.searchItem,E=I.updateCustomisation,T=Object(Ot.e)(),w=T.values,k=T.submitForm,A=s.a.useState(),M=Object(b.a)(A,2),N=M[0],D=M[1],z=s.a.useState(!1),R=Object(b.a)(z,2),_=R[0],P=R[1],B=s.a.useMemo((function(){var e;return null===(e=a.path)||void 0===e?void 0:e.split(".").pop()}),[a.path]),H=s.a.useMemo((function(){var e=null===a||void 0===a?void 0:a.path;if(e)return null===g||void 0===g?void 0:g.find((function(t){return t.startsWith(e)}))}),[null===a||void 0===a?void 0:a.path,g]);s.a.useEffect((function(){B&&(w[m]?x(""):"disable"!==l&&(l||!H&&(r.includes(B)||o.includes(B))||!w[i].includes(B)||u.remove(w[i].indexOf(B))))}),[u,m,r,H,o,B,i,l,w]);var F=s.a.useMemo((function(){var e={};if(a&&a.path){var t=new et(y,a.path).affectedDecedents();if((null===t||void 0===t?void 0:t.length)&&(e.path=a.path,e.items=[],t.forEach((function(t){t.textContent&&e.items.push(t.textContent)})),e.items.length))return e}}),[y,a]),U=function(){if(a.path){var e=new et(y,null===a||void 0===a?void 0:a.path);if(e.ExcludedItem())return console.log("excluding:",a.path),e.include(),void E(e.customisation);console.log("including:",a.path),e.exclude(),E(e.customisation)}};return Object(V.jsxs)(c.Fragment,{children:[Object(V.jsx)(Kt,{affected:N,open:_,handleClose:function(){P(!1)}}),Object(V.jsxs)(ct.a,{divider:!0,dense:!0,button:!0,onClick:function(){var e;(e=B)&&(!F||H||(D(F),!B||r.includes(B))?("disable"!==l&&d("disable"),w[i].includes(e)?(x(""),u.remove(w[i].indexOf(e))):(x(e),u.push(e)),j?U():k()):P(!0))},children:[Object(V.jsxs)(Ct.a,{children:[!j&&(B&&w[i].includes(B)?Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}):Object(V.jsx)(lt.a,{fontSize:"small",style:{color:"red"}})),j&&Object(V.jsx)(vt.a,{size:"small",checked:B&&w[i].includes(B)||!1,inputProps:{"aria-label":"controlled"}})]}),Object(V.jsx)(It.a,{style:{cursor:"pointer"},id:"".concat(null===a||void 0===a||null===(t=a.path)||void 0===t?void 0:t.split(".").pop()),primary:Object(V.jsxs)("div",{children:[Object(V.jsx)(C.a,{style:{alignItems:"center"},component:"span",variant:"body2",color:"textPrimary",children:B}),Object(V.jsxs)(C.a,{variant:"caption",color:"textSecondary",children:["\xa0",Object(V.jsxs)("em",{children:[j&&(o.includes(B||"")?"- customised.":r.includes(B||"")?"- excluded":"- not excluded"),!j&&(o.includes(B||"")?"- customised.":w[i].includes(B||"")?"- included":"- not included")]}),Object(V.jsx)(Dt,{lixiItem:a,placement:"top-start"})]})]})}),Object(V.jsx)(kt.a,{children:Object(V.jsx)(L.a,{edge:"end","aria-label":"comments",className:h.viewItem,value:null===a||void 0===a||null===(n=a.path)||void 0===n?void 0:n.split(".").pop(),onClick:function(e){return S((null===a||void 0===a?void 0:a.path)||"")},children:Object(V.jsx)(Rt.a,{fontSize:"small"})})})]})]})},Qt=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{zIndex:2,display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"35rem",overflow:"scroll",paddingTop:"0"},viewItem:{"&:hover":{color:"#3f51b5"}}})})),en=function(e){var t=e.subItems,n=e.header,i=e.name,a=e.fixedListItem,o=e.setExcludedList,r=(e.value,e.exclusion),c=Qt(),l=s.a.useState({elements:!0,attributes:!0,touched:!1}),u=Object(b.a)(l,2),d=u[0],j=u[1],h=s.a.useState({elements:!1,attributes:!1}),v=Object(b.a)(h,2),x=v[0],f=v[1],O=Ie((function(e){return e.customizer})).customization,g=Ie((function(e){return e.item})).markedForDeletionList,y=Object(Ot.e)(),C=y.values,I=(y.submitForm,s.a.useMemo((function(){var e=i.replace(new RegExp("^[a-z]"),(function(e){return e.toUpperCase()}));return"includeAll".concat(e)}),[i])),S=s.a.useMemo((function(){var e=i.replace(new RegExp("^[a-z]"),(function(e){return e.toUpperCase()}));return"excludeAll".concat(e)}),[i]),E=s.a.useMemo((function(){if(O){var e=[],n=[],i=[];return null===t||void 0===t||t.forEach((function(t){var a=null===t||void 0===t?void 0:t.path,o=a.split(".").pop(),r=new et(O,a).affectedDecedents();null===r||void 0===r||r.forEach((function(t){var a,r;(null===(a=t.textContent)||void 0===a?void 0:a.split(".").pop())===o?(null===t||void 0===t||null===(r=t.parentElement)||void 0===r?void 0:r.getAttribute("Exclude"))&&!e.includes(o)?(e.push(o),n.push(t.textContent)):i.includes(o)||i.push(o):i.includes(o)||i.push(o)}))})),{included:[].concat(i),excluded:[].concat(e),excludedFullPath:[].concat(n)}}}),[O,t]);s.a.useEffect((function(){if(null===E||void 0===E?void 0:E.excludedFullPath.length){var e=E.excludedFullPath,t=[];e.forEach((function(e){(null===g||void 0===g?void 0:g.includes(e))||t.push(e)})),o((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},i,[].concat(t)))}))}}),[E,g,i,o]);var T=s.a.useCallback((function(e){C[S]&&(C[S]=!1),x[i]||f(Object(m.a)(Object(m.a)({},x),{},Object(p.a)({},i,!0))),"disable"!==e?"enable"!==e&&j(Object(m.a)(Object(m.a)({},d),{},Object(p.a)({},i,!d[i]))):j(Object(m.a)(Object(m.a)({},d),{},{elements:"disable",attributes:"disable"}))}),[S,i,d,x,C]);return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(yt.a,{className:c.subItem,children:Object(V.jsx)(Ot.a,{name:i,render:function(e){return Object(V.jsxs)("div",{children:[Object(V.jsx)(wt,{name:I,exclusion:r,header:n,excluded:(null===E||void 0===E?void 0:E.excluded)||[],included:(null===E||void 0===E?void 0:E.included)||[],items:t,arrayHelper:e,selectedItemsLength:C[i].length,listName:i,toggle:T}),null===t||void 0===t?void 0:t.map((function(t,n){return(null===t||void 0===t?void 0:t.path)?Object(V.jsx)($t,{exclusion:r,fixedListItem:a,includeAll:I,excludeAll:S,listName:i,element:t,selectAll:d[i],touched:x[i],toggleSelectAll:T,excluded:(null===E||void 0===E?void 0:E.excluded)||[],included:(null===E||void 0===E?void 0:E.included)||[],arrayHelper:e},"".concat(n,"-").concat(t.path)):Object(V.jsx)("p",{})}))]})}})})})},tn=n(528),nn=Object(v.a)((function(e){return Object(x.a)({root:{},helperText:{width:"100%",padding:"0.5rem 0.2rem",position:"absolute",background:"#fff8e1",borderColor:e.palette.error.main,borderStyle:"solid",borderWidth:"0.1rem",borderRadius:"0.2rem",zIndex:20,boxSizing:"border-box",marginTop:"2.7rem"}})})),an=function(e){var t=Object.assign({},e),n=Object(Ot.d)(t),i=Object(b.a)(n,2),a=i[0],o=i[1],r=nn();return Object(V.jsx)(tn.a,Object(m.a)(Object(m.a)(Object(m.a)({FormHelperTextProps:{className:r.helperText}},a),t),{},{error:!(!o.touched||!o.error),helperText:o.error&&o.touched?o.error:void 0}))},on=function(e){var t=e.children,n=Object(Ot.e)().values;return Object(V.jsxs)(U.a,{container:!0,spacing:2,children:[Object(V.jsx)(U.a,{item:!0,xs:12,sm:t?6:12,children:Object(V.jsx)(an,{title:"A custom heading for the documentation",variant:"outlined",multiline:!0,fullWidth:!0,rows:1,name:"heading",value:n.heading,label:"Custom Heading"})}),t,Object(V.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(an,{title:"\n  A short description - explaining the item usage.\n  ",variant:"outlined",multiline:!0,fullWidth:!0,rows:4,name:"excerpt",value:n.excerpt,label:"Custom Excerpt"})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)(an,{title:"\n  An alternative description - explaining the item usage.\n  ",variant:"outlined",multiline:!0,fullWidth:!0,rows:4,name:"documentation",value:n.documentation,label:"Custom Documentation"})})]})},rn=Object(v.a)((function(e){return Object(x.a)({subItemHeader:{display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"12rem",maxHeight:"12rem",overflow:"scroll"},saveMinMax:{width:"100%",margin:"auto",gap:"0.5rem",alignItems:"center"},minMaxContainer:{margin:"auto",display:"flex",justifyContent:"space-between",gap:"0.5rem"},textFieldMinMax:{},saveButton:{display:"flex",justifyContent:"flex-end"},customisationTitleContainer:{display:"flex",justifyContent:"space-between",padding:"0.5rem",backgroundColor:e.palette.primary.main},customisationTitle:{color:e.palette.getContrastText(e.palette.primary.main)},customisationTitleExclusion:{color:e.palette.secondary.main},customisationTitleInclusion:{color:e.palette.getContrastText(e.palette.primary.main)},customisationTooltip:{}})})),cn=function(e){var t=e.lixiItem,n=rn(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=Ie((function(e){return e.item})).markedForDeletionList,r=s.a.useState({newMin:"",newMax:"",includeAllElements:!0,excludeAllElements:!1,includeAllAttributes:!0,excludeAllAttributes:!1,elements:[],attributes:[],excerpt:"",documentation:"",heading:""}),c=Object(b.a)(r,2),l=c[0],u=c[1],d=s.a.useState(!0),j=Object(b.a)(d,2),h=j[0],p=j[1],v=s.a.useState({}),x=Object(b.a)(v,2),f=x[0],O=x[1],g=s.a.useState([]),y=Object(b.a)(g,2),I=y[0],S=y[1],E=s.a.useState({elements:[],attributes:[]}),T=Object(b.a)(E,2),w=T[0],A=T[1],M=s.a.useState({elements:[],attributes:[]}),N=Object(b.a)(M,2),D=N[0],z=N[1],R=s.a.useState(),L=Object(b.a)(R,2),P=L[0],B=L[1],H=s.a.useMemo((function(){return null===I||void 0===I?void 0:I.map((function(e,t){var n=new tt(e);if(n)return n}))}),[I]),F=s.a.useMemo((function(){var e;return null===(e=f.choice||f.sequence)||void 0===e?void 0:e.map((function(e,t){return new tt(e)}))}),[f]);s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new pt(a,null===t||void 0===t?void 0:t.path).customisedObject();u(e),(e.elements.length||e.attributes.length)&&z({elements:Object(oe.a)(e.elements),attributes:Object(oe.a)(e.attributes)})}}),[a,null===t||void 0===t?void 0:t.path]);s.a.useEffect((function(){var e=null===t||void 0===t?void 0:t.lixiSubElements,n=null===t||void 0===t?void 0:t.attributes;e&&O(e),(null===n||void 0===n?void 0:n.length)&&S(n)}),[t]),s.a.useEffect((function(){var e={min:null===t||void 0===t?void 0:t.element.getAttribute("minOccurs"),max:null===t||void 0===t?void 0:t.element.getAttribute("maxOccurs")};B(e)}),[null===t||void 0===t?void 0:t.element]);var Y=function(){if(null===t||void 0===t?void 0:t.path){var e=new pt(a,null===t||void 0===t?void 0:t.path);e.removeCustomisedItem()&&i(e.customisation),u(e.customisedObject()),z({elements:[],attributes:[]})}};return Object(V.jsx)(Ot.c,{enableReinitialize:!0,initialValues:l,validationSchema:function(){return function(e,t){var n=e?parseInt(e):0,i=t&&parseInt(t)?parseInt(t):99999;return Jt.c().shape({newMin:Jt.b().moreThan(n).max(i),newMax:Jt.b().max(i-1).test({name:"min",exclusive:!1,message:"Must be greater than new min occurs",params:{},test:function(e){return!e||!this.parent.newMin||e>this.parent.newMin}}),excerpt:Jt.d().max(100),documentation:Jt.d().max(100)},[["newMin","newMax"]])}(null===P||void 0===P?void 0:P.min,null===P||void 0===P?void 0:P.max)},onSubmit:function(e,n){var r=n.setSubmitting;if(r(!0),null===t||void 0===t?void 0:t.path){var c=new pt(a,null===t||void 0===t?void 0:t.path,e),s=w.elements,l=w.attributes;o&&c.removeCustomisation(Object(oe.a)(o)),s.length&&c.removeCustomisation(Object(oe.a)(s)),l.length&&c.removeCustomisation(Object(oe.a)(l)),c.customise(),i(c.customisation),r(!1)}},children:function(e){e.isSubmitting;var t=e.values,i=(e.errors,e.touched,e.submitForm);return Object(V.jsxs)(Ot.b,{children:[Object(V.jsx)(Ee.a,{style:{padding:"0.5rem"},children:Object(V.jsxs)(U.a,{container:!0,spacing:1,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsxs)(Ee.a,{className:n.customisationTitleContainer,children:[Object(V.jsxs)("div",{children:[Object(V.jsx)(vt.a,{checked:h,onChange:function(e){return function(e,t,n){var i=Object(m.a)(Object(m.a)({},n),{},{elements:Object(oe.a)(n.elements),attribute:Object(oe.a)(n.attributes)});if(!e.target.checked){var a=Object(oe.a)(n.attributes);I.forEach((function(e,t){var n,i,o=null===(n=new tt(e))||void 0===n||null===(i=n.path)||void 0===i?void 0:i.split(".").pop();o&&!a.includes(o)&&a.push(o)})),console.log(a),i.attributes=Object(oe.a)(a);var o=Object(oe.a)(n.elements);Object(oe.a)(f.choice||f.sequence).forEach((function(e,t){var n,i,a=null===(n=new tt(e))||void 0===n||null===(i=n.path)||void 0===i?void 0:i.split(".").pop();a&&!o.includes(a)&&o.push(a)})),i.elements=Object(oe.a)(o)}u(i),t(),p(e.target.checked)}(e,i,t)},inputProps:{"aria-label":"controlled"}}),Object(V.jsx)(C.a,{variant:"button",className:n.customisationTitle,children:" Customisation by\xa0"}),h&&Object(V.jsx)(_.a,{title:Object(V.jsxs)("div",{style:{backgroundColor:"#fff",margin:0,color:"#333",padding:"0.5rem"},children:[Object(V.jsx)(C.a,{color:"primary",variant:"h6",children:Object(V.jsx)("u",{children:"Exclusion Mode"})}),Object(V.jsx)(C.a,{color:"textPrimary",children:"The Excluded item(s) will not appear in the customised schema"})]}),children:Object(V.jsx)(C.a,{variant:"button",className:n.customisationTitleExclusion,children:Object(V.jsx)("u",{children:Object(V.jsx)("em",{children:"Exclusion"})})})}),!h&&Object(V.jsx)(_.a,{title:Object(V.jsxs)("div",{style:{backgroundColor:"#fff",margin:0,color:"#333",padding:"0.5rem"},children:[Object(V.jsx)(C.a,{color:"primary",variant:"h6",children:Object(V.jsx)("u",{children:"Inclusion Mode"})}),Object(V.jsx)(C.a,{color:"textPrimary",children:"ONLY the included item(s) of the parent element will appear in the customised schema."})]}),children:Object(V.jsx)(C.a,{variant:"button",className:n.customisationTitleInclusion,children:Object(V.jsx)("u",{children:Object(V.jsx)("em",{children:"Inclusion"})})})})]}),Object(V.jsxs)("div",{className:n.saveButton,children:[Object(V.jsx)(k.a,{size:"small",style:{marginInline:"0.5rem"},onClick:Y,variant:"text",color:"secondary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Delete"}),Object(V.jsx)(k.a,{size:"small",type:"submit",variant:"text",color:"secondary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})]})}),(null===F||void 0===F?void 0:F.length)?Object(V.jsx)(U.a,{item:!0,xs:12,sm:(null===I||void 0===I?void 0:I.length)?6:12,children:Object(V.jsx)(en,{setExcludedList:A,fixedListItem:D.elements,exclusion:h,value:t.elements,header:"Sub-Elements ".concat(f.choice?"CHOICE":"(SEQUENCE)"),subItems:F,name:"elements"},"element")}):void 0,(null===H||void 0===H?void 0:H.length)?Object(V.jsx)(U.a,{item:!0,xs:12,sm:(null===F||void 0===F?void 0:F.length)?6:12,children:Object(V.jsx)(en,{setExcludedList:A,fixedListItem:D.attributes,exclusion:h,value:t.attributes,header:"Attributes",subItems:H,name:"attributes"},"attribute")}):void 0,Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(on,{children:Object(V.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(V.jsx)("div",{className:n.saveMinMax,children:Object(V.jsxs)("div",{className:n.minMaxContainer,children:[Object(V.jsx)(an,{name:"newMin",size:"medium",fullWidth:!0,variant:"outlined",label:"New Min Occurs",disabled:"1"===(null===P||void 0===P?void 0:P.min)&&"1"===(null===P||void 0===P?void 0:P.max),value:null===t||void 0===t?void 0:t.newMin}),Object(V.jsx)(an,{name:"newMax",size:"medium",fullWidth:!0,variant:"outlined",label:"New Max Occurs",disabled:"1"===(null===P||void 0===P?void 0:P.max),value:null===t||void 0===t?void 0:t.newMax})]})})})})})]})}),Object(V.jsx)("pre",{children:JSON.stringify(t,null,2)})]})}})},sn=Object(v.a)((function(e){return Object(x.a)({container:{marginTop:"1rem",backgroundColor:"##fafafa",border:"solid #333 0.1rem",borderRadius:"0.3rem"},header:{display:"flex",padding:"0.5rem",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.1rem",alignItems:"center"},subItemHeader:{display:"flex",justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main},subItem:{height:"12rem",maxHeight:"12rem",overflow:"scroll"},itemLabelDescription:Object(p.a)({padding:"0.1rem",margin:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{display:"inline-block"}),attributes:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"inline-block"}),references:{display:"flex",alignItems:"center"},alert:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}},typeAttribute:{cursor:"pointer","&:hover":{color:e.palette.primary.main}},otherAttribute:{cursor:"not-allowed"}})})),ln=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.5rem",gap:"0.5rem"},paper:{padding:"0.5rem",margin:"0.5rem 0.2rem"},saveButton:{width:"max-content",height:"max-content"}})})),un=Jt.c().shape({optionalToMandatory:Jt.a(),minInteger:Jt.b().min(0,"Value must be grater than or equal to zero").typeError("Only an integer value allowed").integer("Only an integer value allowed"),maxInteger:Jt.b().positive("Value must be grater than zero").typeError("Only an integer value allowed").integer("Only an integer value allowed").test({name:"minInteger",exclusive:!1,message:"Value must be grater than the minimum value",params:{},test:function(e){return!e||!this.parent.minInteger||e>this.parent.minInteger}})}),dn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,excerpt:"",heading:"",documentation:"",minInteger:"",maxInteger:""},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.documentation,i=e.excerpt,a=e.minInteger,o=e.maxInteger;t||a||o||n||i?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.integerMinMax(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"integerMinMax",value:function(){if(this.object.minInteger||this.object.maxInteger){if(this.object.minInteger){var e=et.docStub().createElement("MinInteger");e.textContent=this.object.minInteger.toString().trim(),this.customiseItem.append(e)}if(this.object.maxInteger){var t=et.docStub().createElement("MaxInteger");t.textContent=this.object.maxInteger.toString().trim(),this.customiseItem.append(t)}}}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.heading,i=e.minInteger,a=e.maxInteger;n&&this.customiseItem.setAttribute("customHeading",n),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes"),(i||a)&&this.customiseItem.setAttribute("CustomIntegerRange","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a,o;switch(e.localName){case"CustomExcerpt":var r=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=r||"";break;case"CustomDocumentation":var c=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=c||"";break;case"MinInteger":var s=null===(a=e.textContent)||void 0===a?void 0:a.trim();if(!s)return;try{t.object.minInteger=s||void 0}catch(u){}break;case"MaxInteger":var l=null===(o=e.textContent)||void 0===o?void 0:o.trim();if(!l)return;try{t.object.maxInteger=l||void 0}catch(u){}}})),this.object):this.object}}]),n}(et),mn=function(e){var t=e.lixiItem,n=ln(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=s.a.useState({optionalToMandatory:!1,excerpt:"",documentation:"",heading:"",minInteger:"",maxInteger:""}),r=Object(b.a)(o,2),c=r[0],l=r[1];return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new dn(a,null===t||void 0===t?void 0:t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,validationSchema:un,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new dn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values;e.errors,e.touched,e.resetForm;return Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Ee.a,{style:{padding:"0.5rem"},children:[Object(V.jsx)(Vt.a,{style:{width:"100%"},children:Object(V.jsx)(Ee.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(V.jsx)(Yt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(V.jsx)(k.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})})}),Object(V.jsx)(at.a,{}),Object(V.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:Object(V.jsx)(Vt.a,{style:{width:"100%"},children:Object(V.jsx)(Ee.a,{className:n.paper,children:Object(V.jsxs)("div",{className:n.container,children:[Object(V.jsx)(an,{variant:"outlined",size:"small",label:"Minimum",name:"minInteger",placeholder:"Minimum"}),Object(V.jsx)(an,{variant:"outlined",size:"small",label:"Maximum",name:"maxInteger",placeholder:"Maximum"})]})})})}),Object(V.jsx)(on,{})]})})}})};mn.defaultProps={type:"integerType"};var bn=function(e){var t=e.children,n=e.switchType,i=/^[a-zA-Z]+List$/;return t.find((function(e){var t=e.props.type;return i.test(n)?"listType"===t:n===t}))||Object(V.jsx)(V.Fragment,{})},jn=Object(v.a)((function(e){return Object(x.a)({root:{},name:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},definition:{marginBottom:12,marginLeft:"2.7rem",width:"75ch"},saveButton:{width:"max-content",height:"max-content"},enumeratedList:{maxHeight:"15rem",width:"100%",overflowY:"scroll"}})})),hn=Jt.c().shape({optionalToMandatory:Jt.a(),stringTo:Jt.d().oneOf(["list","pattern"]),minInteger:Jt.b().min(0,"Value must be grater than or equal to zero").typeError("Only an integer value allowed").integer("Only an integer value allowed"),maxInteger:Jt.b().positive("Value must be grater than zero").typeError("Only an integer value allowed").integer("Only an integer value allowed").test({name:"minInteger",exclusive:!1,message:"Value must be grater than the minimum value",params:{},test:function(e){return!e||!this.parent.minInteger||e>this.parent.minInteger}}),pattern:Jt.c({regex:Jt.d(),definition:Jt.d()}).test({name:"stringTo",exclusive:!1,message:"Must provide a valid regular expression for the pattern",params:{},test:function(e){if("pattern"===this.parent.stringTo){if(console.log("value",e),!e.regex)return!1;try{return!!new RegExp(e.regex)}catch(t){return!1}}return!0}})}),pn=n(519),vn=n(530),xn=function(e){var t=e.label,n=e.onSelect,i=Object(Qe.a)(e,["label","onSelect"]),a=Object(Ot.d)(i),o=Object(b.a)(a,1)[0];return Object(V.jsx)(nt.a,Object(m.a)(Object(m.a)({},o),{},{control:Object(V.jsx)(vn.a,{onSelect:n,color:"primary"}),label:t}))},fn=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.5rem",width:"100%"},helperText:{width:"20rem",padding:"0.5rem 0.2rem",position:"absolute",background:"#fff8e1",borderColor:e.palette.error.main,borderStyle:"solid",borderWidth:"0.1rem",borderRadius:"0.2rem",zIndex:20,boxSizing:"border-box"}})})),On=function(e){var t=e.resetForm,n=fn(),i=Object(Ot.e)(),a=i.values,o=i.errors,r=i.touched;return Object(V.jsx)(Ee.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{className:n.container,children:[Object(V.jsx)(xn,{name:"stringTo",type:"radio",value:"pattern",label:"String To Pattern"}),Object(V.jsxs)(De.a,{style:{width:"100%",marginTop:"0.5rem"},onExit:function(){return t({values:Object(m.a)(Object(m.a)({},a),{},{pattern:Object(m.a)(Object(m.a)({},a.pattern),{},{regex:"",definition:""})})})},in:"pattern"===a.stringTo,children:[Object(V.jsxs)("div",{children:[Object(V.jsx)(an,{variant:"outlined",size:"small",label:"Regex Expression",name:"pattern.regex",placeholder:"Regex Expression"}),r.pattern&&o.pattern?Object(V.jsx)(pn.a,{className:n.helperText,error:!!o.pattern,children:o.pattern}):null]}),Object(V.jsx)("div",{style:{marginTop:"0.5rem"},children:Object(V.jsx)(an,{variant:"outlined",size:"small",fullWidth:!0,label:"Regex Definition",name:"pattern.definition",placeholder:"Regex Definition"})})]})]})})},gn=Jt.c().shape({definition:Jt.d().required().matches(/^[a-zA-Z0-9 '"%]*$/,{message:"Only alphanumerical values, % and quotes are allowed"}).min(3),name:Jt.d().required().matches(/^[a-zA-Z0-9 '"%]*$/,{message:"Only alphanumerical values, % and quotes are allowed"}).min(3)}),yn=n(260),Cn=n.n(yn),In=n(259),Sn=n.n(In),En=Object(v.a)((function(e){return Object(x.a)({root:{error:{position:"fixed"}},header:{display:"flex",padding:e.spacing(.5,1,1.5),justifyContent:"space-between",backgroundColor:"#fff8e1",marginBottom:"0.2rem",borderRadius:"0.1rem",alignItems:"center"},textField:{backgroundColor:"#fff"}})})),Tn=n(536),wn=function(){var e=En(),t=s.a.useState(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],o=Object(Ot.e)(),r=o.getFieldHelpers,c=o.values;return Object(V.jsx)(Ot.c,{initialValues:{definition:"",name:"",enumList:[]},onSubmit:function(e,t){var n=t.resetForm;if(c.enumerations.some((function(t){return t.name===e.name})))a(!0);else{var i=Object(oe.a)(c.enumerations);i.push(e),r("enumerations").setValue(i),n()}},validationSchema:gn,children:function(t){return Object(V.jsx)(Ee.a,{className:e.header,children:Object(V.jsxs)(U.a,{container:!0,alignItems:"center",spacing:3,children:[Object(V.jsx)(U.a,{item:!0,xs:12,sm:5,children:Object(V.jsx)(an,{className:e.textField,fullWidth:!0,size:"small",variant:"outlined",name:"name",placeholder:"Name",label:"Name"})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:5,children:Object(V.jsx)(an,{className:e.textField,size:"small",fullWidth:!0,variant:"outlined",name:"definition",placeholder:"Definition",label:"Definition"})}),Object(V.jsx)(U.a,{item:!0,xs:12,sm:2,children:Object(V.jsx)(Sn.a,{onClick:t.submitForm,color:"primary","aria-label":"delete",children:Object(V.jsx)(Cn.a,{fontSize:"large"})})}),Object(V.jsx)(Tn.a,{anchorOrigin:{horizontal:"right",vertical:"bottom"},open:i,autoHideDuration:2e3,onClose:function(){return a(!1)},children:Object(V.jsxs)(Ut.a,{onClose:function(){return a(!1)},severity:"error",children:[Object(V.jsx)("strong",{children:"Duplicated Name"}),Object(V.jsx)("em",{children:'"'.concat(t.values.name,'"')}),"already exist!"]})})]})})}})},kn=n(261),An=n.n(kn),Mn=Object(v.a)((function(e){return Object(x.a)({name:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},definition:{marginBottom:12,marginLeft:"2.7rem",width:"75ch"},root:{width:"100%"},row:{display:"flex",justifyContent:"flex-start",alignItems:"center"}})})),Nn=function(e){var t=e.idx,n=e.remove,i=e.name,a=e.definition,o=Mn();return Object(V.jsxs)("div",{className:o.root,children:[Object(V.jsxs)("div",{className:o.row,children:[Object(V.jsx)(L.a,{onClick:function(){return n(t)},color:"secondary","aria-label":"delete",children:Object(V.jsx)(An.a,{fontSize:"default"})}),Object(V.jsx)(C.a,{variant:"h5",component:"h2",children:i})]}),Object(V.jsx)("div",{children:Object(V.jsx)(C.a,{className:o.definition,color:"textSecondary",children:a})}),Object(V.jsx)(at.a,{})]})},Dn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,pattern:{regex:"",definition:""},stringTo:"",excerpt:"",heading:"",documentation:"",enumerations:[]},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.enumerations,n=e.optionalToMandatory,i=e.pattern,a=e.stringTo,o=e.documentation,r=e.excerpt;t.length||i||n||a||o||r?(this.excerpt=r||"",this.documentation=o||"",this.removeCustomisedItem(),this.itemPath(),this.customPattern(),this.setInLineAttributes(),this.customExcerpt(),this.customDocumentation(),this.customEnumeration(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"customEnumeration",value:function(){var e=this;if(this.object.enumerations.length){var t=et.docStub();this.object.enumerations.forEach((function(n,i){var a=n.definition,o=n.name,r=t.createElement("Enumeration");r.textContent=o.trim(),r.setAttribute("Definition",a),e.customiseItem.append(r)}))}}},{key:"customPattern",value:function(){if("pattern"===this.object.stringTo){var e=et.docStub().createElement("Pattern");if(this.object.pattern){var t=this.object.pattern,n=t.regex,i=t.definition;n&&(e.textContent=null===n||void 0===n?void 0:n.toString()),i&&e.setAttribute("Definition",i)}this.customiseItem.append(e)}}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.stringTo,i=e.enumerations,a=e.heading;a&&this.customiseItem.setAttribute("customHeading",a),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes"),"pattern"!==n?"list"===n&&i.length&&this.customiseItem.setAttribute("StringToList","Yes"):this.customiseItem.setAttribute("StringToPattern","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0;break;case"StringToPattern":t.object.stringTo="pattern";break;case"StringToList":t.object.stringTo="list"}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a,o;switch(e.localName){case"Enumeration":var r=null===(n=e.textContent)||void 0===n?void 0:n.trim(),c=e.getAttribute("Definition");if(!r||!c)return;t.object.enumerations.push({name:r,definition:c});break;case"CustomExcerpt":var s=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.excerpt=s||"";break;case"CustomDocumentation":var l=null===(a=e.textContent)||void 0===a?void 0:a.trim();t.object.documentation=l||"";break;case"Pattern":var u=null===(o=e.textContent)||void 0===o?void 0:o.trim(),d=e.getAttribute("Definition")||"";t.object.pattern={regex:u||"",definition:d}}})),this.object):this.object}}]),n}(et),zn=function(e){var t=e.lixiItem,n=jn(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=s.a.useState({optionalToMandatory:!1,pattern:{regex:"",definition:""},stringTo:"",excerpt:"",documentation:"",heading:"",enumerations:[]}),r=Object(b.a)(o,2),c=r[0],l=r[1];return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new Dn(a,null===t||void 0===t?void 0:t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,validationSchema:hn,onSubmit:function(e,n){var o=n.setSubmitting;if(console.log("values",e),null===t||void 0===t?void 0:t.path){o(!0);var r=new Dn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values,i=(e.errors,e.touched,e.resetForm);return Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Ee.a,{style:{padding:"0.5rem"},children:[Object(V.jsx)(Vt.a,{style:{width:"100%"},children:Object(V.jsx)(Ee.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(V.jsx)(Yt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(V.jsx)(k.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})})}),Object(V.jsx)(at.a,{}),Object(V.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",width:"100%"},children:Object(V.jsxs)(Vt.a,{style:{width:"100%"},children:[Object(V.jsx)(On,{resetForm:i}),Object(V.jsxs)(Ee.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:[Object(V.jsx)(xn,{name:"stringTo",type:"radio",value:"list",label:"String To Enumerated List"}),Object(V.jsx)(De.a,{onExit:function(){return i({values:Object(m.a)(Object(m.a)({},t),{},{enumerations:[]})})},in:"list"===t.stringTo,children:Object(V.jsxs)("div",{style:{width:"100%"},children:[Object(V.jsx)(wn,{}),Object(V.jsx)(Ot.a,{name:"enumerations",children:function(e){return Object(V.jsx)("div",{className:n.enumeratedList,children:t.enumerations.map((function(t,n){return Object(V.jsx)(Nn,{idx:n,remove:e.remove,name:t.name,definition:t.definition},"".concat(t.name,"-"))}))})}})]})})]})]})}),Object(V.jsx)(on,{})]})})}})};zn.defaultProps={type:"stringType"};var Rn=n(262),_n=n.n(Rn),Ln=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",flexDirection:"column",width:"max-content",alignItems:"right",margin:e.spacing(.5,0,0,0)},attributes:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-end"},e.breakpoints.down("sm"),{display:"inline-block"}),typeAttribute:{cursor:"pointer","&:hover":{color:e.palette.primary.light}},otherAttribute:{cursor:"not-allowed"},table:{width:"max-content"}})})),Pn=function(e){var t=e.lixiItem,n=e.type,i=Ln(),a=Ce().searchItem;return Object(V.jsx)("div",{className:i.container,children:Object(V.jsx)("div",{className:i.attributes,children:Object(V.jsx)(Ne.a,{component:Ee.a,children:Object(V.jsx)(_n.a,{className:i.table,size:"small","aria-label":"a dense table",children:Object(V.jsxs)(Me.a,{children:[null===t||void 0===t?void 0:t.element.getAttributeNames().map((function(e,o){return Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(we.a,{size:"small",align:"right",children:Object(V.jsx)(C.a,{color:"textSecondary",align:"right",variant:"body1",children:"".concat(e,":")})}),Object(V.jsxs)(we.a,{size:"small",align:"center",children:[Object(V.jsx)(C.a,{className:"type"===e?i.typeAttribute:i.otherAttribute,color:"textPrimary",align:"left",variant:"body2",onClick:function(){return"type"===e&&n?a(n):void 0},children:Object(V.jsx)("strong",{children:null===t||void 0===t?void 0:t.element.getAttribute(e)})}),Object(V.jsx)(C.a,{variant:"caption",color:"secondary",children:Object(V.jsx)("em",{children:"type"===e&&/^[a-zA-Z]+List$/.test(n||"")?"Customisable":null})})]})]},e)})),(null===t||void 0===t?void 0:t.baseRestriction)?Object(V.jsxs)(Ae.a,{children:[Object(V.jsx)(we.a,{size:"small",align:"right",children:Object(V.jsx)(C.a,{color:"textSecondary",align:"right",variant:"body1",children:"base:"})}),Object(V.jsx)(we.a,{size:"small",align:"center",children:Object(V.jsx)(C.a,{className:i.otherAttribute,color:"textPrimary",align:"left",variant:"body2",children:Object(V.jsx)("strong",{children:null===t||void 0===t?void 0:t.baseRestriction})})})]},null===t||void 0===t?void 0:t.baseRestriction):null]})})})})})},Bn=n(520),Hn=n(542),Fn=n(541),Un=Object(v.a)((function(e){return Object(x.a)({container:{display:"flex",flexDirection:"column",width:"max-content",alignItems:"right",margin:e.spacing(1.5,0,0,0)},transactions:Object(p.a)({margin:e.spacing(1.5,0,0,0),padding:"0.1rem 1rem",display:"flex",justifyContent:"flex-start"},e.breakpoints.down("sm"),{display:"inline-block"})})})),Vn=function(e){var t,n=e.lixiItem,i=e.subSchema,a=Un();return Object(V.jsx)("div",{className:a.transactions,children:i&&(null===n||void 0===n||null===(t=n.transactions)||void 0===t?void 0:t.sort().map((function(e,t){return(null===i||void 0===i?void 0:i.transactionType)&&i.transactionType!==e?Object(V.jsx)("span",{style:{paddingInline:"0.1rem"},children:Object(V.jsx)(Fn.a,{size:"small",color:"primary",variant:"outlined",clickable:!0,label:e})},e):Object(V.jsx)("span",{style:{paddingInline:"0.1rem"},children:Object(V.jsx)(Fn.a,{size:"small",color:"primary",variant:"default",clickable:!0,label:e,avatar:Object(V.jsx)(Hn.a,{children:e[0]})})},e)})))})},Yn=Object(v.a)((function(e){return Object(x.a)({itemLabel:Object(p.a)({padding:"0.1rem",margin:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{display:"inline-block"}),itemDescription:Object(p.a)({maxWidth:"75ch",marginBottom:"1rem"},e.breakpoints.down("sm"),{width:"100%"})})})),Wn=function(e){var t=e.lixiItem,n=e.localName,i=e.subSchema,a=Yn();return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:a.itemLabel,children:Object(V.jsx)(Bn.a,{color:"primary",badgeContent:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(V.jsx)(C.a,{color:"primary",variant:"h4",children:null===t||void 0===t?void 0:t.label})})}),Object(V.jsxs)("div",{className:a.itemDescription,children:[Object(V.jsx)(C.a,{style:{padding:"0.1rem 1rem"},color:"textPrimary",variant:"body1",children:null===t||void 0===t?void 0:t.documentation}),Object(V.jsx)(at.a,{}),Object(V.jsx)(Vn,{lixiItem:t,subSchema:i})]})]})},Xn=Object(v.a)((function(e){return Object(x.a)({container:{},saveButton:{width:"max-content",height:"max-content"}})})),Zn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{optionalToMandatory:!1,excerpt:"",heading:"",documentation:""},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.documentation,i=e.excerpt,a=e.minInteger,o=e.maxInteger;t||a||o||n||i?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.optionalToMandatory,n=e.heading;n&&this.customiseItem.setAttribute("customHeading",n),t&&this.customiseItem.setAttribute("OptionalToMandatory","Yes")}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||"";break;case"OptionalToMandatory":t.object.optionalToMandatory=!0}})),Array.prototype.forEach.call(n.children,(function(e){var n,i;switch(e.localName){case"CustomExcerpt":var a=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=a||"";break;case"CustomDocumentation":var o=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=o||""}})),this.object):this.object}}]),n}(et),qn=function(e){var t=e.lixiItem,n=Xn(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=s.a.useState({optionalToMandatory:!1,excerpt:"",documentation:"",heading:""}),r=Object(b.a)(o,2),c=r[0],l=r[1];return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new Zn(a,null===t||void 0===t?void 0:t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new Zn(a,null===t||void 0===t?void 0:t.path,e);r.customise(),i(r.customisation),setTimeout((function(){alert(JSON.stringify(e,null,2)),o(!1)}),400)}},children:function(e){e.isSubmitting;var t=e.values;e.errors,e.touched,e.resetForm;return Object(V.jsx)(Ot.b,{children:Object(V.jsxs)(Ee.a,{style:{padding:"0.5rem"},children:[Object(V.jsx)(Vt.a,{style:{width:"100%"},children:Object(V.jsx)(Ee.a,{style:{padding:"0.5rem",margin:"0.5rem 0.2rem"},children:Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[Object(V.jsx)(Yt,{name:"optionalToMandatory",color:"primary",size:"medium",label:"Optional To Mandatory",checked:null===t||void 0===t?void 0:t.optionalToMandatory}),Object(V.jsx)(k.a,{className:n.saveButton,size:"small",type:"submit",variant:"contained",color:"primary",startIcon:Object(V.jsx)(ft.a,{fontSize:"large"}),children:"Save"})]})})}),Object(V.jsx)(at.a,{}),Object(V.jsx)(on,{})]})})}})};qn.defaultProps={type:"listType"};var Gn=n(11),Jn=Object(v.a)((function(e){return Object(x.a)({container:{},list:{height:"40vh",overflowY:"scroll",width:"100%",margin:e.spacing("0.5rem",0),paddingTop:"0"},subItemHeader:{zIndex:2,display:"flex",width:"100%",justifyContent:"space-between",backgroundColor:"#fff8e1",borderRadius:"0.2rem",maxHeight:"5rem",color:e.palette.primary.main,cursor:"pointer","&:hover":{backgroundColor:Object(Gn.a)("#fff8e1",.1),color:e.palette.text.primary}},item:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover,color:e.palette.primary.dark}},selectAllText:{}})})),Kn=function(e){Object(jt.a)(n,e);var t=Object(ht.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(ue.a)(this,n),(e=t.call(this,i,a)).object={},e.object=o||{tokens:[]},e}return Object(de.a)(n,[{key:"customise",value:function(){var e=this.object,t=e.tokens,n=e.documentation,i=e.excerpt,a=e.heading;t.length||n||i||a?(this.excerpt=i||"",this.documentation=n||"",this.removeCustomisedItem(),this.itemPath(),this.setInLineAttributes(),this.tokens(),this.customExcerpt(),this.customDocumentation(),this.customisation.append(this.customiseItem)):this.removeCustomisedItem()}},{key:"setInLineAttributes",value:function(){var e=this.object,t=e.tokens,n=e.heading;n&&this.customiseItem.setAttribute("customHeading",n),t.length&&this.customiseItem.setAttribute("Include","Yes")}},{key:"tokens",value:function(){var e=this;this.object.tokens.length&&this.object.tokens.forEach((function(t,n){var i=et.docStub().createElement("Enumeration");i.textContent=t,e.customiseItem.append(i)}))}},{key:"customisedObject",value:function(){var e,t=this,n=null===(e=this.getCustomisedItem())||void 0===e?void 0:e.parentElement;return n?(n.getAttributeNames().forEach((function(e,i){switch(e){case"customHeading":t.object.heading=n.getAttribute("customHeading")||""}})),Array.prototype.forEach.call(n.children,(function(e){var n,i,a;switch(e.localName){case"CustomExcerpt":var o=null===(n=e.textContent)||void 0===n?void 0:n.trim();t.object.excerpt=o||"";break;case"CustomDocumentation":var r=null===(i=e.textContent)||void 0===i?void 0:i.trim();t.object.documentation=r||"";break;case"Enumeration":var c=null===(a=e.textContent)||void 0===a?void 0:a.trim();c&&t.object.tokens.push(c)}})),this.object):this.object}}]),n}(et),$n=function(e){var t=e.lixiItem,n=Jn(),i=Ce().updateCustomisation,a=Ie((function(e){return e.customizer})).customization,o=s.a.useState({tokens:[]}),r=Object(b.a)(o,2),c=r[0],l=r[1],u=s.a.useMemo((function(){var e;if(null===t||void 0===t||null===(e=t.enumeration)||void 0===e?void 0:e.length){var n=[];return t.enumeration.forEach((function(e){if(e){var t,i=null===(t=new tt(e).path)||void 0===t?void 0:t.split(".").pop();if(!i)return;n.push(i)}})),n}}),[null===t||void 0===t?void 0:t.enumeration]),d=function(){Object(oe.a)(c.tokens).length?l((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:[]})})):(null===u||void 0===u?void 0:u.length)&&l((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:Object(oe.a)(u)})}))};return s.a.useEffect((function(){if(null===t||void 0===t?void 0:t.path){var e=new Kn(a,t.path).customisedObject();l(e)}}),[a,null===t||void 0===t?void 0:t.path]),Object(V.jsx)(Ot.c,{initialValues:c,enableReinitialize:!0,onSubmit:function(e,n){var o=n.setSubmitting;if(null===t||void 0===t?void 0:t.path){o(!0);var r=new Kn(a,t.path,e);r.customise(),i(r.customisation)}},children:function(e){var t=e.values;return Object(V.jsx)(Ot.b,{children:Object(V.jsx)(Ee.a,{style:{padding:"0.5rem"},children:Object(V.jsxs)(U.a,{container:!0,spacing:1,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(Ee.a,{children:Object(V.jsxs)(ot.a,{dense:!0,className:n.list,children:[Object(V.jsxs)(rt.a,{title:"Click To Select All Items",className:n.subItemHeader,style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(V.jsx)(Ct.a,{children:Object(V.jsx)(Yt,{name:"allSelected",checked:t.tokens.length===(null===u||void 0===u?void 0:u.length),value:t.tokens.length===(null===u||void 0===u?void 0:u.length)?"all":"",disableRipple:!0,onClick:function(){return d()},checkedIcon:Object(V.jsx)(dt.a,{style:{color:"green"}}),icon:Object(V.jsx)(lt.a,{style:{color:"red"}}),indeterminateIcon:Object(V.jsx)(Et.a,{color:"primary"}),indeterminate:c.tokens.length>0&&c.tokens.length<((null===u||void 0===u?void 0:u.length)||0)})}),Object(V.jsx)(It.a,{onClick:function(){return d()},primary:"Select All Enumerations"}),Object(V.jsx)(k.a,{style:{alignItems:"flex-end"},variant:"contained",size:"small",color:"primary",type:"submit",children:"save"})]}),Object(V.jsx)(Ot.a,{name:"tokens",render:function(e){return(null===u||void 0===u?void 0:u.length)?null===u||void 0===u?void 0:u.map((function(e){return e?Object(V.jsxs)(ct.a,{className:n.item,divider:!0,onClick:function(){return function(e){if(console.log(c),e){var t=Object(oe.a)(c.tokens);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{tokens:t.sort()})}))}}(e)},children:[Object(V.jsx)(Ct.a,{children:Object(V.jsx)(Yt,{name:"tokens",checked:null===t||void 0===t?void 0:t.tokens.includes(e),disableRipple:!0,value:(null===t||void 0===t?void 0:t.tokens.includes(e))?e:"",checkedIcon:Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}),icon:Object(V.jsx)(lt.a,{fontSize:"small",style:{color:"red"}})})}),Object(V.jsx)(It.a,{children:e})]},e):Object(V.jsx)(V.Fragment,{})})):Object(V.jsx)(V.Fragment,{})}})]})})}),Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(on,{})}),Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(z.a,{style:{display:"flex",justifyContent:"flex-end",margin:"0.5rem"}})})]})})})}})};$n.defaultProps={baseRestriction:"xs:token"};var Qn=function(e){var t=e.children,n=e.switchBase;return t.find((function(e){var t=e.props.baseRestriction;return n===t}))||Object(V.jsx)(V.Fragment,{})},ei=function(e){var t=e.item,n=sn(),i=Object(c.useState)(!1),a=Object(b.a)(i,2),o=a[0],r=a[1],l=Object(c.useState)(),u=Object(b.a)(l,2),d=u[0],m=u[1],j=Object(c.useState)(),h=Object(b.a)(j,2),p=h[0],v=h[1],x=Object(c.useState)(!1),f=Object(b.a)(x,2),O=f[0],g=f[1],y=Ie((function(e){return e.customizer})),I=y.customization,S=y.subSchema,E=Ce(),T=E.searchItem,w=E.updateCustomisation,A=s.a.useMemo((function(){var e;return null===p||void 0===p||null===(e=p.element)||void 0===e?void 0:e.localName}),[p]),M=s.a.useMemo((function(){var e;return(null===p||void 0===p||null===(e=p.element)||void 0===e?void 0:e.getAttribute("type"))||""}),[p]),N=s.a.useMemo((function(){return(null===p||void 0===p?void 0:p.baseRestriction)||""}),[p]);Object(c.useEffect)((function(){if(t){var e=new tt(t);v(e)}else;}),[t,I]);return Object(c.useEffect)((function(){"Package"===(null===p||void 0===p?void 0:p.path)&&r(!0)}),[null===p||void 0===p?void 0:p.path]),Object(c.useEffect)((function(){if(!O&&(null===p||void 0===p?void 0:p.path)){var e=new et(I,null===p||void 0===p?void 0:p.path);g(!!e.ExcludedItem())}}),[I,null===p||void 0===p?void 0:p.path,O]),Object(c.useEffect)((function(){if((null===p||void 0===p?void 0:p.element.localName)&&(null===p||void 0===p?void 0:p.path)&&I){var e=pt.parentCustomised(null===p||void 0===p?void 0:p.path,I,p.element.localName);e&&m(e)}}),[I,null===p||void 0===p?void 0:p.path,null===p||void 0===p?void 0:p.element.localName]),Object(V.jsxs)(U.a,{container:!0,spacing:2,children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsxs)(Ee.a,{style:{marginTop:"0.5rem",padding:"0.5rem 0.5rem"},children:[Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsx)(Ee.a,{children:!d||(null===d||void 0===d?void 0:d.included)?Object(V.jsxs)("div",{className:n.header,children:[Object(V.jsx)(nt.a,{control:Object(V.jsx)(it.a,{icon:Object(V.jsx)(dt.a,{style:{color:"green"},fontSize:"small"}),checkedIcon:Object(V.jsx)(lt.a,{fontSize:"small"}),onChange:function(){if(null===p||void 0===p?void 0:p.path){var e=!O;g(e);var t=new et(I,null===p||void 0===p?void 0:p.path);e?t.exclude():t.include(),w(t.customisation)}},checked:O,disabled:null===d||void 0===d?void 0:d.included,name:"checkedI"}),label:O?"Excluded":"Include"}),Object(V.jsx)(k.a,{disabled:O,style:{height:"max-content",width:"min-content"},onClick:function(){return r((function(e){return!e}))},startIcon:Object(V.jsx)(bt.a,{}),variant:"contained",color:"primary",size:"small",children:"Customise"})]}):Object(V.jsxs)(Ut.a,{variant:"standard",severity:"warning",action:Object(V.jsx)(k.a,{className:n.alert,variant:"contained",size:"small",onClick:function(){return T((null===d||void 0===d?void 0:d.path)||"")},children:"see parent"}),children:["This item excluded via its parent:"," ",Object(V.jsx)("em",{children:Object(V.jsx)("strong",{children:null===d||void 0===d?void 0:d.path.split(".").pop()})})]})})}),Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignContent:"center"},children:[Object(V.jsx)(Wn,{lixiItem:p,localName:null===t||void 0===t?void 0:t.localName,subSchema:S}),Object(V.jsx)(Pn,{lixiItem:p,type:M})]}),(null===p||void 0===p?void 0:p.references)?Object(V.jsxs)("div",{children:[Object(V.jsx)(at.a,{}),Object(V.jsxs)(ot.a,{dense:!0,subheader:Object(V.jsx)(rt.a,{children:"References"}),children:[Object(V.jsx)(at.a,{}),p.references.map((function(e,t){return Object(V.jsx)(c.Fragment,{children:Object(V.jsx)(ct.a,{component:"li",children:Object(V.jsx)(C.a,{variant:"body1",children:e})})},"".concat(t,"_").concat(e))}))]})]}):void 0]})}),Object(V.jsx)(U.a,{item:!0,xs:12,children:Object(V.jsxs)(De.a,{in:!O&&o,children:["element"===A?Object(V.jsx)(cn,{lixiItem:p}):void 0,"attribute"===A?Object(V.jsxs)(bn,{switchType:M,children:[Object(V.jsx)(mn,{lixiItem:p}),Object(V.jsx)(zn,{lixiItem:p}),Object(V.jsx)(qn,{lixiItem:p})]}):null,"simpleType"===A?Object(V.jsxs)(Qn,{switchBase:N,children:[Object(V.jsx)("div",{}),Object(V.jsx)($n,{lixiItem:p})]}):null]})})]})},ti=n(523),ni=n(522),ii=n(538),ai=n(537),oi=Object(v.a)((function(e){return Object(x.a)({root:{paddingLeft:"0.5rem",borderLeft:"solid 0.5rem #3f51b5",borderRadius:"0.2rem"},link:{display:"flex",cursor:"pointer",color:e.palette.primary.dark,"&:hover":{backgroundColor:"#fff8e1",borderBottom:"solid 0.1rem #3f51b5"}},icon:{marginRight:e.spacing(.25),color:e.palette.primary.dark,width:20,height:20},leafLink:{color:e.palette.primary.main,"&:hover":{backgroundColor:"#fff8e1"}}})})),ri=n(264),ci=n.n(ri),si=function(e){var t,n=oi(),i=Ce().searchItem;return Object(V.jsx)(Ee.a,{className:n.root,children:Object(V.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(V.jsxs)(ai.a,{separator:Object(V.jsx)(D.a,{className:n.icon}),"aria-label":"breadcrumb",children:[null===(t=e.pathSections)||void 0===t?void 0:t.map((function(t,a){return Object(V.jsx)(C.a,{onClick:function(t){return function(t){var n;if(t.preventDefault(),null===(n=e.pathSections)||void 0===n?void 0:n.length){var a=Object(oe.a)(e.pathSections),o=e.pathSections.indexOf(t.currentTarget.innerHTML);if(0!==o){if(o){for(var r=a.length;r>o+1;r--)null===a||void 0===a||a.pop();i(null===a||void 0===a?void 0:a.join("."))}}else i("Package")}}(t)},color:"textSecondary",className:n.link,children:t},a)})),Object(V.jsx)(L.a,{onClick:e.iconClickHandler,"aria-label":"delete",className:n.leafLink,size:"medium",children:Object(V.jsx)(ci.a,{fontSize:"inherit"})})]})})})},li=n(39),ui=n(521),di=n(269);function mi(e){var t=e.data,n=e.index,i=e.style;return s.a.cloneElement(t[n],{style:Object(m.a)(Object(m.a)({},i),{},{top:i.top+8})})}var bi=s.a.createContext({}),ji=s.a.forwardRef((function(e,t){var n=s.a.useContext(bi);return Object(V.jsx)("div",Object(m.a)(Object(m.a)({ref:t},e),n))}));var hi=s.a.forwardRef((function(e,t){var n=e.children,i=Object(Qe.a)(e,["children"]),a=s.a.Children.toArray(n),o=Object(li.a)(),r=Object(ui.a)(o.breakpoints.up("sm"),{noSsr:!0}),c=a.length,l=r?36:48,u=function(e){return s.a.isValidElement(e)&&e.type===rt.a?48:l},d=function(e){var t=s.a.useRef(null);return s.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(c);return Object(V.jsx)("div",{ref:t,children:Object(V.jsx)(bi.Provider,{value:i,children:Object(V.jsx)(di.a,{itemData:a,height:(c>8?8*l:a.map(u).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:d,outerElementType:ji,innerElementType:"ul",itemSize:function(e){return u(a[e])},overscanCount:5,itemCount:c,children:mi})})})})),pi=Object(v.a)((function(e){return Object(x.a)({listbox:{boxSizing:"border-box","& ul":{padding:0,margin:0,"& li:hover":{borderBottom:"solid #444 0.05rem",backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText}}},root:{display:"flex",alignItems:"center",width:"100%",marginTop:"0rem"}})})),vi=function(){var e=pi(),t=Ce().searchItem,n=Object(c.useState)([]),i=Object(b.a)(n,2),a=i[0],o=i[1],r=Object(c.useState)(!0),l=Object(b.a)(r,2),u=l[0],d=l[1],j=Ie((function(e){return e.schema})).schema,h=Ie((function(e){return e.item})),p=h.data,v=h.loading,x=Ie((function(e){return e.customizer})).subSchema,f=Object(c.useState)(0),O=Object(b.a)(f,2),g=O[0],y=O[1],I=v||0===(null===a||void 0===a?void 0:a.length),S=s.a.useMemo((function(){if(p){var e=new tt(p);return null===e||void 0===e?void 0:e.path}}),[p]);s.a.useEffect((function(){p||v||!j||t("Package")}),[p,v,j,t]),Object(c.useEffect)((function(){p&&d(!1)}),[p]),Object(c.useEffect)((function(){Object(se.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o([]),e.next=3,new Promise((function(e,t){if(j){var n=new be(j);(null===x||void 0===x?void 0:x.transactionType)&&e(n.getPathOfAllItemsInATransaction(x.transactionType))}}));case 3:t=e.sent,y(t.length),o(t);case 6:case"end":return e.stop()}}),e)})))()}),[null===x||void 0===x?void 0:x.transactionType,j]);return Object(V.jsx)("div",{children:Object(V.jsx)("div",{children:!p||u?Object(V.jsx)(ni.a,Object(m.a)(Object(m.a)({direction:"down",in:u,mountOnEnter:!0,unmountOnExit:!0},u?{timeout:500}:{}),{},{children:Object(V.jsx)(Ee.a,{className:e.root,children:Object(V.jsx)(ii.a,{id:"virtualize-demo",onChange:function(e,n){return function(e,n){e.preventDefault(),n&&(t(n),d(!1))}(e,n)},disableListWrap:!0,classes:e,autoComplete:!0,includeInputInList:!0,loading:I,ListboxComponent:hi,options:a||[],renderInput:function(e){return Object(V.jsx)(tn.a,Object(m.a)(Object(m.a)({},e),{},{style:{alignItems:"center"},variant:"outlined",label:"LIXI Item Path",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{fullWidth:!0,endAdornment:Object(V.jsxs)(s.a.Fragment,{children:[Object(V.jsx)(C.a,{color:"textSecondary",children:Object(V.jsx)("em",{children:"".concat(g," Paths")})}),v?Object(V.jsx)(ti.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},renderOption:function(e){return Object(V.jsx)(C.a,{noWrap:!0,children:e})}})})})):Object(V.jsx)(si,{iconClickHandler:function(){return d(!0)},pathSections:null===S||void 0===S?void 0:S.split(".")})})})},xi=function(e){e.children;var t=e.value,n=e.index,i=Object(Qe.a)(e,["children","value","index"]),a=Ie((function(e){return e.item})).data,o=s.a.useState(),r=Object(b.a)(o,2),c=r[0],l=r[1],u=Ie((function(e){return e.customizer})).customization;return s.a.useEffect((function(){var e;if(a){var t=null===(e=new tt(a))||void 0===e?void 0:e.path;if(t){var n,i=new et(u,t),o=null===i||void 0===i||null===(n=i.getCustomisedItem())||void 0===n?void 0:n.parentElement;if(!o)return void l(void 0);l(o)}}}),[u,a]),Object(V.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:t===n&&Object(V.jsx)(z.a,{p:3,children:Object(V.jsxs)(C.a,{component:"div",children:[Object(V.jsx)(vi,{}),Object(V.jsx)(De.a,{in:!!a,children:a?Object(V.jsx)(ei,{item:a}):void 0},"lixiItem"),Object(V.jsx)(De.a,{in:!!c,children:Object(V.jsx)($e,{role:"view",itemXML:c})},"lixiItemXML")]})})}))},fi=n(526),Oi=function(e){var t=f(),n=e.children,i=e.value,a=e.index,o=Object(Qe.a)(e,["children","value","index"]);return Object(V.jsx)("div",Object(m.a)(Object(m.a)({className:t.root,role:"tabpanel",hidden:i!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},o),{},{children:i===a&&Object(V.jsx)(z.a,{className:t.tabPanelChildren,children:Object(V.jsx)(C.a,{component:"div",children:n})})}))},gi=n(268),yi=n(524),Ci=n(265),Ii=n.n(Ci),Si=Object(v.a)((function(e){return Object(x.a)({menuButton:{minWidth:"10rem",height:"inherit",marginLeft:"0.05rem",display:"flex",justifyContent:"space-between"}})})),Ei=function(){var e=Si(),t=Ce().customizeSubSchema,n=Ie((function(e){return e.customizer})).subSchema,i=Ie((function(e){return e.schema})).schema,a=Object(c.useState)([]),o=Object(b.a)(a,2),r=o[0],l=o[1],u=s.a.useState(null),d=Object(b.a)(u,2),m=d[0],j=d[1],h=Object(c.useMemo)((function(){return null===r||void 0===r?void 0:r.sort((function(e,t){return e&&t&&e.transactionType&&t.transactionType?(null===e||void 0===e?void 0:e.transactionType)>(null===t||void 0===t?void 0:t.transactionType)?1:-1:0}))}),[r]),p=function(e){var n=e.currentTarget.innerText.split(" "),i={transactionType:n[0],transactionVersion:n[1]};t(i),j(null)};return Object(c.useEffect)((function(){Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,new Promise((function(e,t){i?e(new be(i).getTransactions()):l([])}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[i]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(k.a,{className:e.menuButton,color:"primary","aria-controls":"simple-menu",fullWidth:!0,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},variant:"contained",disabled:!r.length,endIcon:Object(V.jsx)(Ii.a,{}),children:(null===n||void 0===n?void 0:n.transactionType)&&(null===n||void 0===n?void 0:n.transactionVersion)?"".concat(n.transactionType," ").concat(n.transactionVersion):"Transaction"}),Object(V.jsx)(gi.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:p,children:h.map((function(e){var t=e.transactionType,n=e.transactionVersion;return Object(V.jsx)(yi.a,{id:"".concat(t,"_").concat(n),onClick:p,children:"".concat(t," ").concat(n)},"".concat(t,"_").concat(n))}))})]})},Ti=Object(v.a)((function(e){return Object(x.a)({root:{backgroundColor:"transparent"},paper:{boxShadow:"1px 1px 3px #BDBDBD",overflow:"hidden",padding:e.spacing(0)},alert:{color:"#c43e00","&:hover":{color:"#ff8f00"}},button:{color:"orange",backgroundColor:"#333","&:hover":{color:"#333",backgroundColor:"orange"}}})})),wi=function(e){var t=e.open,n=e.handleClose,i=Ti(),a=Ie((function(e){return e.customizer})).subSchema,o=s.a.useState(a),r=Object(b.a)(o,2),c=r[0],l=r[1];return s.a.useEffect((function(){(null===a||void 0===a?void 0:a.transactionType)!==(null===c||void 0===c?void 0:c.transactionType)&&(l(a),n())}),[n,null===c||void 0===c?void 0:c.transactionType,a,null===a||void 0===a?void 0:a.transactionType]),Object(V.jsx)(Ot.c,{initialValues:{agree:!1},validationSchema:Jt.c().shape({agree:Jt.a().oneOf([!0])}),enableReinitialize:!0,onSubmit:function(e,t){var i=t.setSubmitting;t.resetForm;setTimeout((function(){i(!0),alert(JSON.stringify(e,null,2)),i(!1),n()}),400)},children:function(e){e.isSubmitting,e.values,e.errors,e.touched;var o=e.resetForm;return Object(V.jsx)("div",{children:Object(V.jsxs)(Lt.a,{draggable:!0,BackdropProps:{classes:{root:i.root}},PaperProps:{classes:{root:i.paper,elevation2:"5"}},style:{boxShadow:"none"},open:t,onClose:o,"aria-labelledby":"form-dialog-title",children:[Object(V.jsx)(Gt.a,{}),Object(V.jsx)(Ft.a,{style:{backgroundColor:"cornsilk",padding:0,boxShadow:"0.1rem 0.1rem 0.1rem orange"},id:"form-dialog-title",children:(null===a||void 0===a?void 0:a.transactionType)?Object(V.jsx)(Ut.a,{style:{width:"100%"},variant:"standard",severity:"warning",action:Object(V.jsx)(_.a,{title:"Cancel",placement:"top",children:Object(V.jsx)(L.a,{onClick:n,"aria-label":"delete",className:i.alert,size:"small",disableRipple:!0,children:Object(V.jsx)(Xt.a,{fontSize:"default"})})}),children:"Changing the transaction will reset the customisation file"}):Object(V.jsx)(Ut.a,{style:{width:"100%"},variant:"standard",severity:"info",action:Object(V.jsx)(_.a,{title:"Cancel",placement:"top",children:Object(V.jsx)(L.a,{onClick:n,"aria-label":"delete",className:i.alert,size:"small",disableRipple:!0,children:Object(V.jsx)(Xt.a,{fontSize:"default"})})}),children:"Target transaction schema must be selected."})}),Object(V.jsxs)(Bt.a,{children:[Object(V.jsx)(C.a,{variant:"subtitle1",children:"Select the transaction from the dropdown list"}),Object(V.jsx)(Ht.a,{})]}),Object(V.jsx)(at.a,{}),Object(V.jsx)(Ot.b,{children:Object(V.jsx)(Pt.a,{children:Object(V.jsx)(Ei,{})})})]})})}})};function ki(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Ai=function(){var e=f(),t=s.a.useState(!1),n=Object(b.a)(t,2),i=n[0],a=n[1],o=s.a.useState(0),r=Object(b.a)(o,2),c=r[0],l=r[1],u=Ie((function(e){return e.customizer})),d=u.customization,p=u.subSchema,v=Ie((function(e){return e.schema})).schema;return s.a.useEffect((function(){(null===p||void 0===p?void 0:p.transactionType)||!v||i||a(!0)}),[v,null===p||void 0===p?void 0:p.transactionType,i]),Object(V.jsxs)("div",{className:e.root,children:[Object(V.jsx)(wi,{open:i,handleClose:function(){a(!1)}}),Object(V.jsx)(O.a,{position:"static",children:Object(V.jsxs)(fi.a,{children:[(null===p||void 0===p?void 0:p.transactionType)?Object(V.jsx)(C.a,{onClick:function(){return a(!0)},noWrap:!0,variant:"h6",style:{flexGrow:1,cursor:"pointer"},children:Object(V.jsx)("em",{children:"".concat(null===p||void 0===p?void 0:p.transactionType," - ").concat(null===p||void 0===p?void 0:p.transactionVersion)})}):Object(V.jsx)(C.a,{onClick:function(){return a(!0)},noWrap:!0,color:"secondary",variant:"h6",style:{flexGrow:1,cursor:"pointer"},children:"Transaction?"}),Object(V.jsxs)(j.a,{centered:!0,value:c,onChange:function(e,t){l(t)},"aria-label":"simple tabs example",children:[Object(V.jsx)(h.a,Object(m.a)({label:"Instruction set up"},ki(0))),Object(V.jsx)(h.a,Object(m.a)({label:"Create Instruction"},ki(1))),Object(V.jsx)(h.a,Object(m.a)({label:"View Instruction"},ki(2)))]})]})}),Object(V.jsx)(Oi,{value:c,index:0,children:Object(V.jsx)(y.a,{children:Object(V.jsx)(Fe,{})})}),Object(V.jsx)(xi,{value:c,index:1}),Object(V.jsx)(Oi,{value:c,index:2,children:Object(V.jsx)($e,{itemXML:d})})]})},Mi=Object(v.a)((function(e){var t;return Object(x.a)({root:Object(p.a)({width:"100%",minHeight:"100vh",backgroundColor:"#333",padding:"1rem"},e.breakpoints.down("xs"),{padding:"0.5"}),main:(t={backgroundColor:"#fff",width:"50%",margin:"auto"},Object(p.a)(t,e.breakpoints.down("sm"),{width:"100%",margin:"0"}),Object(p.a)(t,e.breakpoints.up("md"),{width:"70%"}),t)})}));var Ni=function(){var e=Mi();return Object(V.jsx)("div",{className:e.root,children:Object(V.jsxs)("div",{className:e.main,children:[Object(V.jsx)(d.a,{}),Object(V.jsx)(Ai,{})]})})},Di=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,543)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))},zi=n(495),Ri=n(267);var _i={lightTheme:Object(Ri.a)({palette:{type:"light"}}),darkTheme:Object(Ri.a)({palette:{type:"dark"}})},Li=s.a.createContext((function(e){})),Pi=function(e){var t=Object(c.useState)("lightTheme"),n=Object(b.a)(t,2),i=n[0],a=n[1],o=function(e){return _i[e]}(i);return Object(V.jsx)(Li.Provider,{value:a,children:Object(V.jsx)(zi.a,{theme:o,children:e.children})})};u.a.render(Object(V.jsx)(Pi,{children:Object(V.jsx)(s.a.StrictMode,{children:Object(V.jsx)(W.a,{store:ae,children:Object(V.jsx)(Ni,{})})})}),document.getElementById("root")),Di()}},[[442,1,2]]]);
//# sourceMappingURL=main.4ec66a64.chunk.js.map