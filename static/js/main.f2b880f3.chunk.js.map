{"version":3,"sources":["redux/action-types/index.ts","components/nav-taps/navTabsStyle.ts","components/vertical-stepper/verticalStepperStyle.ts","components/upload-file/uploadFileStyle.ts","components/upload-file/UploadFile.tsx","redux/reducers/ItemReducer.ts","enums/lixiEnums.ts","redux/reducers/customiserReducer.ts","redux/reducers/schemaReducer.ts","redux/reducers/index.ts","redux/store.ts","util/nameSpaces.ts","redux/action-creators/itemActionCreator.ts","redux/action-creators/customiserActionCreator.ts","redux/action-creators/schemaActionCreator.ts","hooks/useActions.ts","hooks/useTypeSelector.ts","components/vertical-stepper/upload-schema-step/uploadSchemaStepStyle.ts","components/vertical-stepper/upload-schema-step/UploadSchemaStep.tsx","components/vertical-stepper/upload-customisation-instruction/uploadCustomisationInstructionStyle.ts","components/vertical-stepper/upload-customisation-instruction/UploadCustomisationInstruction.tsx","components/vertical-stepper/VerticalStepper.tsx","components/itemXMLViewer/itemXMLViewerSettings.ts","components/itemXMLViewer/itemXMLViewerStyle.ts","components/itemXMLViewer/ItemXMLViewer.tsx","models/Customiser.ts","models/LixiBase.ts","models/ElementCustomiser.ts","components/formik-mterial-ui/AppCheckBox.tsx","components/lixi-list-item-header/lixiListItemHeaderStyle.ts","components/lixi-list-item-header/LixiListItemHeader.tsx","components/tool-tip/lixiItemToolTipStyle.ts","components/tool-tip/LixiItemToolTip.tsx","components/lixi-list-item/lixiListItemStyle.ts","components/confirm-remove-dialog/confirmRemoveItemDialogStyle.ts","components/confirm-remove-dialog/ConfirmRemoveItemDialog.tsx","components/lixi-list-item/LixiListItem.tsx","components/element-sub-items/elementSubItemsStyle.ts","components/element-sub-items/ElementSubItems.tsx","components/formik-mterial-ui/appTextFieldStyle.ts","components/formik-mterial-ui/AppTextField.tsx","components/excerpt-documentation/ExcerptDocumentation.tsx","components/customise-element/customiseElementStyle.ts","components/customise-element/CustomiseElement.tsx","components/customise-element/customiseElementSchema.ts","components/lixi-item/lixiItemStyle.ts","components/customise-attribute/integer-type-attribute/integerTypeAttributeStyle.ts","components/customise-attribute/integer-type-attribute/integerTypeAttributeSchema.ts","models/IntegerTypeAttributeCustomiser.ts","components/customise-attribute/integer-type-attribute/IntegerTypeAttribute.tsx","components/lixi-item/AttributeSwitchType.tsx","components/customise-attribute/string-type-attribute/stringTypeAttributeStyle.ts","components/customise-attribute/string-type-attribute/stringTypeAttributeSchema.ts","components/formik-mterial-ui/AppRadioButton.tsx","components/customise-attribute/string-type-attribute/string-to-pattern/stringToPatternStyle.ts","components/customise-attribute/string-type-attribute/string-to-pattern/StringToPattern.tsx","components/customise-attribute/string-type-attribute/string-to-list-header/stringToListHeaderSchema.ts","components/customise-attribute/string-type-attribute/string-to-list-header/stringToListHeaderStyle.ts","components/customise-attribute/string-type-attribute/string-to-list-header/StringToListHeader.tsx","components/customise-attribute/string-type-attribute/string-to-list-body/stringToListBodyStyle.ts","components/customise-attribute/string-type-attribute/string-to-list-body/StringToListBody.tsx","models/StringTypeAttributeCustomiser.ts","components/customise-attribute/string-type-attribute/StringTypeAttribute.tsx","components/lixi-item/lixi-item-attributes/attributesTransactionsStyle.ts","components/lixi-item/lixi-item-attributes/ItemAttributes.tsx","components/lixi-item/lixi-item-transactions/transactionsStyle.ts","components/lixi-item/lixi-item-transactions/Transactions.tsx","components/lixi-item/lixi-item-label-description/labelDescriptionStyle.ts","components/lixi-item/lixi-item-label-description/LabelDescription.tsx","components/customise-attribute/list-type-attribute/listTypeAttributeStyle.ts","models/ListTypeAttributeCustomiser.ts","components/customise-attribute/list-type-attribute/ListTypeAttribute.tsx","components/customise-simple-type/simple-token-type/simpleTokenTypeStyle.ts","models/TokenTypeCustomiser.ts","components/customise-simple-type/simple-token-type/SimpleTokenType.tsx","components/lixi-item/SimpleTypeSwitchType.tsx","components/lixi-item/LixiItem.tsx","components/breadCrumbs/breadCrumbsStyle.ts","components/breadCrumbs/breadCrumbsComponent.tsx","components/search/listBoxComponent.tsx","components/search/searchPathStyle.ts","components/search/SearchPath.tsx","components/nav-taps/create-instruction/CreateInstruction.tsx","components/nav-taps/NavTabPanel.tsx","components/sub-schema-menu/subSchemaMenuStyle.ts","components/sub-schema-menu/SubSchemaMenu.tsx","components/select-transaction-dialog/selectTransactionDialogStyle.ts","components/select-transaction-dialog/SelectTransactionDialog.tsx","components/nav-taps/NavTabs.tsx","appStyle.ts","App.tsx","reportWebVitals.ts","themes/getThem.ts","themes/light.ts","themes/dark.ts","themeProvider.tsx","index.tsx"],"names":["ItemActionType","CustomizationActionType","SchemaActionType","useStyles","makeStyles","theme","createStyles","root","flexGrow","tabPanelChildren","padding","spacing","breakpoints","down","width","margin","stepper","button","marginTop","marginRight","actionsContainer","marginBottom","resetContainer","customisationContainer","input","display","findPageIcon","color","palette","primary","light","loadIcon","main","fileName","backgroundColor","getContrastText","borderRadius","cursor","label","alignItems","uploadButton","marginLeft","minWidth","UploadFile","saveFace","classes","description","React","selectedFile","setSelectedFile","style","accept","className","id","type","onChange","target","files","Grid","wrap","alignContent","container","item","Tooltip","title","htmlFor","IconButton","aria-label","component","fontSize","Typography","variant","noWrap","name","onClick","undefined","LixiAttributeEnum","LixiTagEnum","LixiLocalNameEnum","initialState","data","error","loading","markedForDeletionList","reducer","state","action","SEARCH_ITEM","SEARCH_ITEM_SUCCESS","payload","SEARCH_ITEM_ERROR","REST_ITEM","MARKED_FOR_DELETION","customization","subSchema","transactionType","transactionVersion","metaData","UPLOAD_CUSTOMIZATION","UPLOAD_CUSTOMIZATION_SUCCESS","doc","file","UPLOAD_CUSTOMIZATION_ERROR","CUSTOMIZE_SUB_SCHEMA","RESET_SUB_SCHEMA","UPDATE_CUSTOMISATION","schema","UPLOAD_SCHEMA","UPLOAD_SCHEMA_SUCCESS","UPLOAD_SCHEMA_ERROR","RESET_SCHEMA","reducers","combineReducers","itemReducer","customizer","customiserReducer","SchemaReducer","store","createStore","applyMiddleware","thunk","nameSpaceResolver","prefix","xs","lx","li","XmlUtil","parsedDoc","this","elementsPath","elements","getElementsByTagName","element","Array","prototype","fill","e","push","path","textContent","itemsPath","result","evaluateXpath","iterateNext","transaction","transactions","split","includes","parentElement","children","xpath","contextNode","evaluate","XPathResult","ANY_TYPE","ANY_UNORDERED_NODE_TYPE","singleNodeValue","appInfo","map","call","i","localName","getAttribute","searchItem","lixiItem","Promise","resolves","rejects","xmlUtile","getItemByPath","dispatch","getState","a","sch","message","resetItem","markedForDeletion","customizeSubSchema","resetCustomizeSubSchema","uploadExistingCustomization","parsExistingCustomization","DOMParser","parseFromString","reader","FileReader","onload","onerror","readAsText","existingSchema","toString","existingCustomization","updateCustomisation","customisation","uploadBaseSchema","parsBaseSchema","baseSchema","resetBaseSchema","err","useAction","useDispatch","bindActionCreators","actionCreator","useTypedSelector","useSelector","uploadContainer","maxWidth","justifyContent","height","upload","nextButton","fileDetailHeaderRow","fileDetailHeaderCell","UploadSchemaStep","handelNextClicked","fileSize","useMemo","size","Math","floor","log","parseFloat","pow","toFixed","Paper","sm","Collapse","in","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","scope","lastModified","Date","Button","endIcon","disabled","flexDirection","UploadCustomisationInstruction","handelBack","activeStep","handelSkip","handelNext","startIcon","VerticalLinearStepper","labelProps","optional","useState","setActiveStep","stepProps","setStepProp","handleNext","prevActiveStep","CssBaseline","Stepper","orientation","Step","StepLabel","StepContent","completed","options","indent","newline","customThemeVsCode","tagColor","attributeKeyColor","textColor","attributeValueColor","separatorColor","position","overflow","maxHeight","header","top","right","left","boxShadow","downloadLink","secondary","textDecoration","ItemXMLViewer","itemXML","role","serializer","XMLSerializer","xmlString","serializeToString","filename","exportFile","resolve","xml","prettifyXml","Customiser","customiseItem","excerpt","documentation","_customiseItemStub","cloneNode","_customisationStub","docStub","createElement","append","ExcludedItem","removeCustomisedItem","setAttribute","excludedPath","removeChild","allPath","from","find","p","existingCustomisedItem","getCustomisedItem","customExcerpt","trim","customDocumentation","filter","startsWith","paths","console","allCustomisedPaths","forEach","LixiBase","annotated","annotation","ownerDocument","referenceTargets","targets","t","attributes","complexType","getLixiComplexType","child","attribute","complex","subElements","firstChild","firstElementChild","sequence","choice","Object","keys","length","restriction","ElementCustomiser","values","object","fixedList","includeAllElements","includeAllAttributes","heading","newMin","newMax","itemPath","setInLineAttributes","customMaxOccurs","customMinOccurs","customAttributes","customElements","att","idx","exclude","customisedEle","parseInt","parentCustomised","parentStatus","pathList","pathLeaf","pop","customiser","join","customisedItem","getTouchedItem","customisedObject","included","AppCheckBox","checked","props","useField","field","meta","FormControl","touched","FormControlLabel","control","Checkbox","subItemHeader","zIndex","viewItem","LixiListItemHeader","toggle","items","selectedItemsLength","arrayHelper","value","setValue","useFormikContext","useEffect","ListSubheader","ListItemIcon","disableRipple","checkedIcon","icon","indeterminateIcon","indeterminate","ListItemText","tooltip","common","white","tooltip2","typography","pxToRem","LixiItemToolTip","placement","Fragment","subItem","paper","alert","ConfirmRemoveItemDialog","open","affected","handleClose","initialValues","agree","validationSchema","Yup","shape","oneOf","enableReinitialize","onSubmit","setSubmitting","resetForm","setTimeout","deletionList","isSubmitting","errors","Dialog","draggable","BackdropProps","PaperProps","elevation2","onClose","aria-labelledby","DialogTitle","Alert","severity","DialogContent","DialogContentText","Divider","DialogActions","LixiListItem","excluded","fixedListItem","selectAll","toggleSelectAll","neutral","setNeutral","affectedPath","setAffectedPath","setOpen","leafItem","furtherCustomisation","d","remove","indexOf","affectedItem","affectedList","affectedDecedents","handelAddItem","subEle","ListItem","divider","dense","ListItemSecondaryAction","edge","paddingTop","ElementSubItems","subItems","setExcludedList","setSelectAll","setTouched","includeAllItem","titleCaseName","replace","RegExp","matched","toUpperCase","affected2","excludedFullPath","leaf","exc","pre","toggleExclude","render","helperText","background","borderColor","borderStyle","borderWidth","boxSizing","AppTextField","TextField","FormHelperTextProps","ExcerptDocumentation","multiline","fullWidth","rows","saveMinMax","gap","minMaxContainer","textFieldMinMax","saveButton","CustomiseElement","initialValue","setInitialValue","itemSubElement","setItemSubElement","itemAttributes","setItemAttributes","excludedList","setFixedListItems","occursMinMax","setOccursMinMax","leafAttribs","itemEle","leafEle","instruction","subElement","lixiSubElements","occurrenceMinMax","min","max","currentMin","currentMax","moreThan","test","exclusive","params","parent","CustomiseElementSchema","JSON","stringify","newCustomisation","removeCustomisation","customise","border","itemLabelDescription","references","typeAttribute","otherAttribute","integerTypeSchema","optionalToMandatory","minInteger","typeError","integer","maxInteger","positive","IntegerTypeAttributeCustomiser","integerMinMax","customisedAttr","getAttributeNames","IntegerTypeAttribute","attCustomiser","placeholder","defaultProps","SwitchAttributeType","switchType","regex","transform","definition","enumeratedList","overflowY","customiseAttributeSchema","stringTo","pattern","AppRadioButton","onSelect","Radio","StringToPattern","onExit","FormHelperText","stringToEnumeratedListSchema","required","matches","textField","StringToListHeader","nameAlert","setNameAlert","getFieldHelpers","enumList","val","enumerations","some","valuesCopy","formik","submitForm","Snackbar","anchorOrigin","horizontal","vertical","autoHideDuration","row","StringToListBody","StringTypeAttributeCustomiser","customPattern","customEnumeration","enumeration","regexDefinition","StringTypeAttribute","table","ItemAttributes","baseRestriction","Transactions","sort","paddingInline","Chip","clickable","avatar","Avatar","LabelDescription","Badge","badgeContent","ListTypeAttributeCustomiser","ListTypeAttribute","list","darken","text","hover","dark","selectAllText","TokenTypeCustomiser","tokens","token","tokenEle","SimpleTokenType","enumItem","tokeCustomiser","List","el","copyOfTokens","splice","enumerationAddRemove","SwitchSimpleType","switchBase","LixiItem","openToCustomise","setOpenToCustomise","setAlert","setLixiItem","setExclude","ele","include","subheader","r","paddingLeft","borderLeft","link","borderBottom","leafLink","IconBreadcrumbs","Breadcrumbs","separator","pathSections","section","event","preventDefault","pathArr","index","currentTarget","innerHTML","handleClick","iconClickHandler","renderRow","cloneElement","OuterElementContext","createContext","OuterElementType","forwardRef","ref","outerProps","useContext","ListboxComponent","other","itemData","Children","toArray","useTheme","smUp","useMediaQuery","up","noSsr","itemCount","itemSize","getChildSize","isValidElement","gridRef","useRef","current","resetAfterIndex","useResetCache","Provider","reduce","b","outerElementType","innerElementType","overscanCount","listbox","contrastText","SearchPath","setOptions","showSearchBox","setShowSearchBox","_loading","newItem","getPathOfAllItemsInATransaction","Slide","direction","mountOnEnter","unmountOnExit","timeout","Autocomplete","option","searchText","disableListWrap","autoComplete","includeInputInList","renderInput","InputProps","endAdornment","CircularProgress","renderOption","CreateInstructionTab","itemInstruction","setItemInstruction","newCustomiser","hidden","TabPanel","menuButton","SubSchemaMenu","transactionList","setTransactionList","anchorEl","setAnchorEl","sortedTransactionList","s","innerText","getTransactions","aria-controls","aria-haspopup","Menu","keepMounted","Boolean","MenuItem","SelectTransactionDialog","preSubSchema","setPreSubSchema","a11yProps","NavTabs","AppBar","Toolbar","Tabs","centered","newValue","Tab","minHeight","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","themeMap","lightTheme","createMuiTheme","darkTheme","ThemeContext","themeName","ThemeProvider","_setThemeName","getThemeByName","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f2b880f3.chunk.js","sourcesContent":["export enum ItemActionType {\n  SEARCH_ITEM = \"search_item\",\n  SEARCH_ITEM_SUCCESS = \"search_item_success\",\n  SEARCH_ITEM_ERROR = \"search_item_error\",\n  REST_ITEM = \"resetItem\",\n  MARKED_FOR_DELETION = \"markedForDeletion\",\n}\n\nexport enum CustomizationActionType {\n  EXCLUDE = \"exclude\",\n  INCLUDE = \"include\",\n  CUSTOMISE_ELEMENT = \"customiseElement\",\n  UPLOAD_CUSTOMIZATION = \"uploadCustomization\",\n  UPLOAD_CUSTOMIZATION_SUCCESS = \"uploadCustomizationSuccess\",\n  UPLOAD_CUSTOMIZATION_ERROR = \"uploadCustomizationError\",\n  RESET_CUSTOMIZATION = \"resetCustomization\",\n  CUSTOMIZE_SUB_SCHEMA = \"customizeSubSchema\",\n  RESET_SUB_SCHEMA = \"resetSubSchema\",\n  OPTIONAL_TO_MANDATORY = \"optionalToMandatory\",\n  CUSTOM_HEADING = \"customHeading\",\n  CUSTOM_MAX_OCCURS = \"customMaxOccurs\",\n  CUSTOM_MIN_OCCURS = \"customMinOccurs\",\n  STRING_TO_LIST = \"stringToList\",\n  CUSTOM_DEFINITION = \"definition\",\n  STRING_TO_PATTERN = \"stringToPattern\",\n  EXCLUDE_SUB_ELEMENTS = \"excludeSubElements\",\n  REMOVE_DESCENDENT_CUSTOMISATION = \"removeDescendentCustomisation\",\n  UPDATE_CUSTOMISATION = \"updateCustomisation\",\n}\n\n\nexport enum SchemaActionType {\n  UPLOAD_SCHEMA = \"uploadSchema\",\n  UPLOAD_SCHEMA_SUCCESS = \"uploadSchemaSuccess\",\n  UPLOAD_SCHEMA_ERROR = \"uploadSchemaError\",\n  RESET_SCHEMA = \"reset\",\n}\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    tabPanelChildren: {\n      padding: theme.spacing(3),\n      [theme.breakpoints.down(\"xs\")]: {\n        padding: theme.spacing(0),\n      },\n    },\n  })\n);\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      padding: 0,\n      margin: 0,\n      // margin: theme.spacing(1),\n    },\n    stepper:  {\n      padding:  \"0.5rem\",\n      margin:  \"0.5rem\",\n      [theme.breakpoints.down(\"xs\")]:{\n        padding:  \"0.2rem\",\n        margin:  \"0.2rem\"\n      }\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2),\n    },\n    resetContainer: {\n      padding: theme.spacing(0, 2, 2),\n    },\n    customisationContainer: {\n      padding: theme.spacing(2, 2, 2),\n      margin: theme.spacing(1, 0, 1),\n    },\n  })\n);\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width:\"inherit\",\n      \"& > *\": {\n        margin: theme.spacing(1),\n      },\n    },\n    input: {\n      display: \"none\",\n    },\n    findPageIcon: {\n      color: theme.palette.primary.light,\n    },\n\n    loadIcon:{\n      color: theme.palette.primary.main,\n\n    },\n\n    fileName: {\n      backgroundColor: theme.palette.primary.light,\n      width:\"max-content\",\n      color: theme.palette.getContrastText(theme.palette.primary.light),\n      padding: theme.spacing(0.75),\n      borderRadius: \"0.2rem\",\n      \"&:hover\": {\n        cursor: \"pointer\",\n      },\n    },\n    label:{ \n      display: \"flex\", alignItems: \"center\" \n    },\n    uploadButton:{\n      marginLeft: theme.spacing(1), \n      minWidth: \"7rem\",\n     \n    },\n   \n  })\n);\n","import * as React from \"react\";\nimport { useStyles } from \"./uploadFileStyle\";\nimport { IconButton, Tooltip, Typography } from \"@material-ui/core\";\nimport PublishTwoToneIcon from '@material-ui/icons/PublishTwoTone';\nimport FindInPageTwoToneIcon from '@material-ui/icons/FindInPageTwoTone';\nimport Grid from \"@material-ui/core/Grid\";\ninterface FormProps {\n  description: string;\n  saveFace: any; //(fileName:Blob) => Promise<void>, // callback taking a string and then dispatching a store actions\n}\n\nexport const UploadFile: React.FC<FormProps> = ({ saveFace, description }) => {\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = React.useState<File>();\n  const handleCapture = ({ target }: any) => {\n    setSelectedFile(target.files[0]);\n  };\n\n  const handleSubmit = () => {\n    saveFace(selectedFile);\n  };\n\n  return (\n    <div style={{width:\"100%\"}}>\n      <input\n        accept=\".xml,.xsd\"\n        className={classes.input}\n        id=\"document\"\n        type=\"file\"\n        onChange={handleCapture}\n      />\n      <Grid wrap=\"nowrap\" alignContent=\"flex-start\" container spacing={1} alignItems=\"center\">\n        <Grid item >\n          <Tooltip title=\"\">\n            <label\n              className={classes.label}\n              htmlFor=\"document\"\n            >\n              <IconButton\n                className={classes.findPageIcon}\n                color=\"primary\"\n                aria-label=\"upload picture\"\n                component=\"span\"\n                title=\"Browse\"\n              >\n                <FindInPageTwoToneIcon fontSize=\"large\" />\n              </IconButton>\n              <Typography\n                variant=\"body2\"\n                className={classes.fileName}\n                noWrap\n              >\n                Choose the file\n              </Typography>\n            </label>\n          </Tooltip>\n        </Grid>\n        <Grid item  >\n        {selectedFile?.name?<IconButton\n          className={classes.loadIcon}\n          onClick={() => handleSubmit()}\n          color=\"primary\"\n          aria-label=\"upload file\"\n          component=\"span\"\n          title=\"Load\"\n          >\n            <PublishTwoToneIcon fontSize=\"large\" />\n          </IconButton>:undefined}\n        </Grid>\n      </Grid>\n       \n    </div>\n  );\n};\n","import { ItemActionType } from \"../action-types\";\nimport { ItemAction } from \"../actions/item-actions\";\n\ninterface ItemState {\n  error: string | null;\n  data: Element | null;\n  loading: boolean;\n  markedForDeletionList: string[] | undefined;\n}\n\nconst initialState: ItemState = {\n  data: null,\n  error: null,\n  loading: false,\n  markedForDeletionList: undefined,\n};\nconst reducer = (\n  state: ItemState = initialState,\n  action: ItemAction\n): ItemState => {\n  switch (action.type) {\n    case ItemActionType.SEARCH_ITEM:\n      return {\n        loading: true,\n        error: null,\n        data: null,\n        markedForDeletionList: undefined,\n      };\n    case ItemActionType.SEARCH_ITEM_SUCCESS:\n      return {\n        loading: false,\n        error: null,\n        data: action.payload,\n        markedForDeletionList: undefined,\n      };\n    case ItemActionType.SEARCH_ITEM_ERROR:\n      return {\n        loading: false,\n        error: action.payload,\n        data: null,\n        markedForDeletionList: undefined,\n      };\n    case ItemActionType.REST_ITEM:\n      return { loading: false, error: null, data: null,markedForDeletionList:undefined  };\n    case ItemActionType.MARKED_FOR_DELETION:\n      return { ...state,markedForDeletionList:action.payload  };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","export enum LixiAttributeEnum {\n  type = \"type\",\n  name = \"name\",\n  use = \"use\",\n  minOccurs = \"minOccurs\",\n  maxOccurs = \"maxOccurs\",\n  value = \"value\",\n  base = \"base\",\n}\n\nexport enum LixiTagEnum {\n  element = \"xs:element\",\n  annotation = \"xs:annotation\",\n  complexType = \"xs:complexType\",\n  choice = \"xs:choice\",\n  sequence = \"xs:sequence\",\n  attribute = \"xs:attribute\",\n  simpleType = \"xs:simpleType\",\n  restriction = \"xs:restriction\",\n  documentation = \"xs:documentation\",\n  path = \"lx:path\",\n  label = \"lx:label\",\n  transactions = \"li:transactions\",\n  enumeration = \"xs:enumeration\",\n  target = \"lx:target\",\n  references = \"lx:references\",\n}\n\nexport enum LixiLocalNameEnum {\n  element = \"element\",\n  complexType = \"complexType\",\n  choice = \"choice\",\n  sequence = \"sequence\",\n  attribute = \"attribute\",\n  simpleType = \"simpleType\",\n  restriction = \"restriction\",\n  annotation = \"annotation\",\n  documentation = \"documentation\",\n  path = \"path\",\n  label = \"label\",\n  transactions = \"transactions\",\n  enumeration = \"enumeration\",\n}\n","import { CustomizationActionType } from \"../action-types\";\nimport { CustomizationAction, SubSchema } from \"../actions/customiser-actions\";\n\ninterface CustomizationState {\n  customization: Element | undefined;\n  // customisedItem: Element | undefined;\n  loading: boolean;\n  error: string | null;\n  subSchema: SubSchema | undefined;\n  // customHeading?: string | undefined;\n  metaData: File | undefined;\n}\n\nconst initialState: CustomizationState = {\n  customization: undefined,\n  // customisedItem: undefined,\n  subSchema: { transactionType: undefined, transactionVersion: undefined },\n  error: null,\n  loading: false,\n  metaData: undefined,\n};\n\nconst reducer = (\n  state: CustomizationState = initialState,\n  action: CustomizationAction\n): CustomizationState => {\n  switch (action.type) {\n    case CustomizationActionType.UPLOAD_CUSTOMIZATION:\n      return {\n        ...state,\n        customization: undefined,\n        // customisedItem: undefined,\n        loading: true,\n        error: null,\n      };\n    case CustomizationActionType.UPLOAD_CUSTOMIZATION_SUCCESS:\n      return {\n        ...state,\n        customization: action.payload.doc,\n        // customisedItem: undefined,\n        metaData: action.payload.file,\n        loading: false,\n        error: null,\n      };\n    case CustomizationActionType.UPLOAD_CUSTOMIZATION_ERROR:\n      return {\n        ...state,\n        customization: undefined,\n        metaData: undefined,\n        // customisedItem: undefined,\n        loading: false,\n        error: action.payload,\n      };\n    case CustomizationActionType.CUSTOMIZE_SUB_SCHEMA:\n      return { ...state, subSchema: action.payload };\n    case CustomizationActionType.RESET_SUB_SCHEMA:\n      return {\n        ...state,\n        // customHeading: undefined,\n        subSchema: undefined,\n        customization: undefined,\n        // customisedItem: undefined,\n      };\n    case CustomizationActionType.UPDATE_CUSTOMISATION:\n      return {\n        ...state,\n        customization: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { SchemaActionType } from \"../action-types\";\nimport { SchemaActions } from \"../actions/schema-actions\";\n\ninterface SchemaState {\n  loading: boolean;\n  schema: Document | undefined;\n  error: string | null;\n  metaData: File | undefined;\n}\n\nconst initialState: SchemaState = {\n  error: null,\n  loading: false,\n  schema: undefined,\n  metaData: undefined,\n};\n\nconst reducer = (\n  state: SchemaState = initialState,\n  action: SchemaActions\n): SchemaState => {\n  switch (action.type) {\n    case SchemaActionType.UPLOAD_SCHEMA:\n      return {\n        loading: true,\n        schema: undefined,\n        metaData: undefined,\n        error: null,\n      };\n    case SchemaActionType.UPLOAD_SCHEMA_SUCCESS:\n      return {\n        loading: false,\n        error: null,\n        metaData: action.payload.file,\n        schema: action.payload.doc,\n      };\n    case SchemaActionType.UPLOAD_SCHEMA_ERROR:\n      return {\n        loading: false,\n        schema: undefined,\n        metaData: undefined,\n        error: action.payload,\n      };\n    case SchemaActionType.RESET_SCHEMA:\n      return {\n        loading: false,\n        schema: undefined,\n        metaData: undefined,\n        error: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from \"redux\";\n\nimport itemReducer from \"./ItemReducer\";\nimport customiserReducer from \"./customiserReducer\";\nimport SchemaReducer from \"./schemaReducer\";\n\nconst reducers = combineReducers({\n  item: itemReducer,\n  customizer: customiserReducer,\n  schema: SchemaReducer,\n});\n\nexport default reducers;\nexport type RootState = ReturnType<typeof reducers>;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from \"./reducers\";\n\nexport const store = createStore(reducer, {}, applyMiddleware(thunk));\n","import { LixiTagEnum } from \"../enums/lixiEnums\";\ntype NameSpace = {\n  [ns: string]: string;\n};\n\nexport const nameSpaceResolver: XPathNSResolver = (\n  prefix: string | null\n): string | null => {\n  const ns: NameSpace = {\n    xs: \"http://www.w3.org/2001/XMLSchema\",\n    lx: \"lixi.org.au/schema/appinfo_elements\",\n    li: \"lixi.org.au/schema/appinfo_instructions\",\n  };\n  return prefix ? ns[prefix] : null;\n};\n\n// const parser = new DOMParser();\n// export const parsedXml = parser.parseFromString(master_schema, \"text/xml\");\n\n// export const path = parsedXml.evaluate(\n//   \"//lx:path[1]/text()\",\n//   parsedXml,\n//   nameSpaceResolver,\n//   XPathResult.UNORDERED_NODE_ITERATOR_TYPE,\n//   null\n// );\n\n// export const result = parsedXml.evaluate(\n//   \"/xs:schema/xs:element\",\n//   parsedXml,\n//   nameSpaceResolver,\n//   XPathResult.ANY_TYPE,\n//   null\n// );\n\n// export const packageElement = parsedXml.evaluate(\n//   \"/xs:schema/xs:element[@name='Package']\",\n//   parsedXml,\n//   nameSpaceResolver,\n//   XPathResult.ANY_TYPE,\n//   null\n// );\n\nexport class XmlUtil {\n  private parsedDoc: Document;\n  constructor(parsedDoc: Document) {\n    this.parsedDoc = parsedDoc;\n  }\n\n  getPathOfAllElements() {\n    const elementsPath = [];\n    const elements = this.parsedDoc.getElementsByTagName(LixiTagEnum.element);\n    for (const e of Array.prototype.fill(elements)) {\n      elementsPath.push(\n        e.getElementsByTagName(LixiTagEnum.path)[0].textContent\n      );\n    }\n    return elementsPath;\n  }\n\n  getPathOfAllItems() {\n    const itemsPath: string[] = [];\n    const result = this.evaluateXpath(\n      \"//lx:path[text()]/text()\",\n      this.parsedDoc\n    );\n    let path = result?.iterateNext();\n    while (path) {\n      itemsPath.push(path.textContent as string);\n      path = result?.iterateNext();\n    }\n\n    return itemsPath;\n  }\n\n  getPathOfAllItemsInATransaction(subSchema: string) {\n    const itemsPath: string[] = [];\n    const result = this.evaluateXpath(\n      \"//lx:path/following-sibling::li:transactions\",\n      this.parsedDoc\n    );\n    let transaction = result?.iterateNext();\n    while (transaction) {\n      const transactions = transaction.textContent?.split(\",\");\n      if (transactions && transactions.includes(subSchema)) {\n        itemsPath.push(\n          transaction.parentElement?.children[0].textContent as string\n        );\n      }\n      transaction = result?.iterateNext();\n    }\n    return itemsPath;\n  }\n\n  evaluateXpath(xpath: string, contextNode: Node | Document): XPathResult {\n    contextNode = !contextNode ? this.parsedDoc : contextNode;\n    return this.parsedDoc.evaluate(\n      xpath,\n      contextNode,\n      nameSpaceResolver,\n      XPathResult.ANY_TYPE,\n      null\n    );\n  }\n\n  getItemByPath(path: string): Element | undefined | null {\n    const xpathResult = this.parsedDoc.evaluate(\n      `//lx:path[text()='${path}'][1]`,\n      this.parsedDoc,\n      nameSpaceResolver,\n      XPathResult.ANY_UNORDERED_NODE_TYPE,\n      null\n    );\n    return xpathResult.singleNodeValue?.parentElement?.parentElement\n      ?.parentElement;\n  }\n  getSchemaDetails(): Element | undefined {\n    const xpathResult = this.parsedDoc.evaluate(\n      \"//lx:schemadetail\",\n      this.parsedDoc,\n      nameSpaceResolver,\n      XPathResult.ANY_UNORDERED_NODE_TYPE,\n      null\n    );\n    return xpathResult.singleNodeValue?.parentElement?.children[0];\n  }\n\n  getTransactions() {\n    const xpathResult = this.parsedDoc.evaluate(\n      \"//lx:schemadetail\",\n      this.parsedDoc,\n      nameSpaceResolver,\n      XPathResult.ANY_UNORDERED_NODE_TYPE,\n      null\n    );\n    const appInfo = xpathResult.singleNodeValue?.parentElement?.children;\n    const transaction: {\n      transactionType: string;\n      transactionVersion: string;\n    }[] = [];\n    Array.prototype.map.call(appInfo, (i: Element) => {\n      if (i.localName === \"subschema\") {\n        transaction?.push({\n          transactionType: i.getAttribute(\"transactiontype\") as string,\n          transactionVersion: i.getAttribute(\"version\") as string,\n        });\n      }\n    });\n    return transaction;\n  }\n}\n","import { ItemActionType } from \"../action-types\";\n// import { master_schema } from \"../../assets/LIXI-Master-Schema\";\n// import * as JsSearch from \"js-search\";\nimport { Dispatch } from \"redux\";\nimport { \n  // parsedXml, \n  XmlUtil \n} from \"../../util/nameSpaces\";\nimport { ItemAction } from \"../actions/item-actions\";\nimport { RootState } from \"../reducers\";\n\nexport const searchItem = (item: string) => {\n  const lixiItem = (schema: Document): Promise<Element | undefined | null> => {\n    return new Promise((resolves, rejects) => {\n      const xmlUtile = new XmlUtil(schema);\n      if (item) {\n        resolves(xmlUtile.getItemByPath(item));\n      }\n    });\n  };\n  return async (dispatch: Dispatch<ItemAction>, getState: () => RootState) => {\n    \n    dispatch({\n      type: ItemActionType.SEARCH_ITEM,\n    });\n    try {\n      const sch = getState().schema.schema;;\n      if (!sch)  return;;\n      const element = (await lixiItem(sch)) as Element;\n      dispatch({\n        type: ItemActionType.SEARCH_ITEM_SUCCESS,\n        payload: element,\n      });\n    } catch (err) {\n      dispatch({\n        type: ItemActionType.SEARCH_ITEM_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n};\n\nexport const resetItem = () => {\n  return (dispatch: Dispatch<ItemAction>) => {\n    dispatch({\n      type: ItemActionType.REST_ITEM,\n    });\n  };\n};\n\nexport const markedForDeletion = (markedForDeletionList: string[]) => {\n  return (dispatch: Dispatch<ItemAction>) => {\n    dispatch({\n      type: ItemActionType.MARKED_FOR_DELETION,\n      payload: [...markedForDeletionList],\n    });\n  };\n};\n","import { CustomizationActionType } from \"../action-types\";\nimport { CustomizationAction, SubSchema } from \"../actions/customiser-actions\";\nimport { Dispatch } from \"redux\";\nimport { RootState } from \"..\";\n\n\nexport const customizeSubSchema = (subSchema: SubSchema) => {\n  return (\n    dispatch: Dispatch<CustomizationAction>,\n    getState: () => RootState\n  ) => {\n    dispatch({\n      type: CustomizationActionType.CUSTOMIZE_SUB_SCHEMA,\n      payload: subSchema,\n    });\n  };\n};\n\nexport const resetCustomizeSubSchema = () => {\n  return (\n    dispatch: Dispatch<CustomizationAction>,\n    getState: () => RootState\n  ) => {\n    dispatch({\n      type: CustomizationActionType.RESET_SUB_SCHEMA,\n    });\n  };\n};\n\nexport const uploadExistingCustomization = (file: File) => {\n  const readExistingCustomization = (): Promise<ArrayBuffer | string | null> => {\n    return new Promise((resolves, rejects) => {\n      let reader = new FileReader();\n      reader.onload = () => {\n        resolves(reader.result);\n      };\n      reader.onerror = rejects;\n      reader.readAsText(file);\n    });\n  };\n\n  const parsExistingCustomization = (customization: string): Promise<Document> => {\n    return new Promise((resolves, rejects) => {\n      const parser = new DOMParser();\n      const parsedCustomization = parser.parseFromString(\n        customization,\n        \"text/xml\"\n      );\n      resolves(parsedCustomization);\n    });\n  };\n\n  return async (dispatch: Dispatch<CustomizationAction>) => {\n    dispatch({\n      type: CustomizationActionType.UPLOAD_CUSTOMIZATION,\n    });\n    try {\n      const existingSchema = await readExistingCustomization();\n      if (existingSchema) {\n        const existingCustomization = await parsExistingCustomization(existingSchema?.toString());\n        dispatch({\n          type: CustomizationActionType.UPLOAD_CUSTOMIZATION_SUCCESS,\n          payload: {\n            doc: existingCustomization.getElementsByTagName(\n              \"Customisations\"\n            )[0],\n            file: file,\n          },\n        });\n      }\n    } catch (err) {\n      dispatch({\n        type: CustomizationActionType.UPLOAD_CUSTOMIZATION_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n};\n\nexport const updateCustomisation = (customisation: Element) => {\n  return (dispatch: Dispatch<CustomizationAction>) => {\n    dispatch({\n      type: CustomizationActionType.UPDATE_CUSTOMISATION,\n      payload: customisation,\n    });\n  };\n};","import { SchemaActionType } from \"../action-types\";\n// import { master_schema } from \"../../assets/LIXI-Master-Schema\";\n// import * as JsSearch from \"js-search\";\nimport { Dispatch } from \"redux\";\n// import { parsedXml, XmlUtil } from \"../../util/nameSpaces\";\nimport { SchemaActions } from \"../actions/schema-actions\";\nimport { RootState } from \"../reducers\";\n// import { render } from \"@testing-library/react\";\n\nexport const uploadBaseSchema = (file: File) => {\n  const readBaseSchema = (): Promise<ArrayBuffer | string | null> => {\n    return new Promise((resolves, rejects) => {\n      let reader = new FileReader();\n      reader.onload = () => {\n        resolves(reader.result);\n      };\n      reader.onerror = rejects;\n      reader.readAsText(file);\n    });\n  };\n\n  const parsBaseSchema = (baseSchema: string): Promise<Document> => {\n    return new Promise((resolves, rejects) => {\n      const parser = new DOMParser();\n      const parsedBaseSchema = parser.parseFromString(baseSchema, \"text/xml\");\n      resolves(parsedBaseSchema);\n    });\n  };\n\n  return async (\n    dispatch: Dispatch<SchemaActions>,\n    getState: () => RootState\n  ) => {\n    dispatch({\n      type: SchemaActionType.UPLOAD_SCHEMA,\n    });\n    try {\n      const baseSchema = await readBaseSchema();\n      if (baseSchema) {\n        const schema = await parsBaseSchema(baseSchema?.toString());\n        dispatch({\n          type: SchemaActionType.UPLOAD_SCHEMA_SUCCESS,\n          payload: { doc: schema, file: file },\n        });\n      }\n    } catch (err) {\n      dispatch({\n        type: SchemaActionType.UPLOAD_SCHEMA_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n};\n\nexport const resetBaseSchema = () => {\n  return (dispatch: Dispatch<SchemaActions>) => {\n    try {\n      dispatch({\n        type: SchemaActionType.RESET_SCHEMA,\n      });\n    } catch (err) {\n      dispatch({\n        type: SchemaActionType.UPLOAD_SCHEMA_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n};\n","import { useDispatch } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { actionCreator } from \"../redux\";\n\nexport const useAction = () => {\n  const dispatch = useDispatch();\n\n  return bindActionCreators(actionCreator, dispatch);\n};\n","import { useSelector, TypedUseSelectorHook } from \"react-redux\";\nimport { RootState } from \"../redux\";\n\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { makeStyles, createStyles, Theme } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    uploadContainer: {\n      maxWidth: \"75ch\",\n      minWidth: \"15rem\",\n      alignItems: \"center\",\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      marginTop: \"1rem\",\n      padding: \"0.2rem 0.5rem\",\n      height: \"max-content\",\n      backgroundColor: \"#fffde7\",\n    },\n    upload: {\n      alignItems: \"center\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"80%\",\n      backgroundColor: \"#fffde7\",\n    },\n    actionsContainer: {\n      margin: theme.spacing(1, 0, 1, 0),\n    },\n    nextButton: {\n      marginLeft: \"0.5rem\",\n    },\n    fileDetailHeaderRow:{\n      backgroundColor:theme.palette.primary.main,\n    },\n    fileDetailHeaderCell:{\n      \n      color:theme.palette.getContrastText(theme.palette.primary.main)\n    }\n  })\n);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport Box from \"@material-ui/core/Box\";\n// import { SubSchemaMenu } from \"../../sub-schema-menu/SubSchemaMenu\";\nimport { UploadFile } from \"../../upload-file/UploadFile\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { useTypedSelector } from \"../../../hooks/useTypeSelector\";\n\nimport { useStyles } from \"./uploadSchemaStepStyle\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Table from \"@material-ui/core/Table\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\ninterface IUploadSchemaStep {\n  handelNextClicked: () => void;\n}\n\nexport const UploadSchemaStep: React.FC<IUploadSchemaStep> = ({\n  handelNextClicked,\n}) => {\n  const classes = useStyles();\n  const { uploadBaseSchema } = useAction();\n  const { schema,metaData } = useTypedSelector((state) => state.schema);\n\n  const fileSize = React.useMemo(()=>{\n    if (!metaData?.size) return\n    if (metaData?.size === 0) return '0 Bytes';\n\n    const k = 1024;\n    \n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    const i = Math.floor(Math.log(metaData?.size) / Math.log(k));\n\n    return parseFloat((metaData?.size / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  },[metaData?.size])\n\n  return (\n    <>\n      <Box maxWidth=\"75ch\">\n        <Typography>\n          LIXI base schema must be uploaded.\n        </Typography>\n      </Box>\n      <Paper className={classes.uploadContainer}>\n       \n          <Grid container alignItems=\"center\">\n            <Grid item xs={12} sm={12}>\n              <UploadFile\n                saveFace={(file: File) => uploadBaseSchema(file)}\n                description={\"Click to upload LIXI Base/Transaction Schema\"}\n              />\n            </Grid>\n            \n          <Collapse in={!!metaData}>\n            <Grid item xs={12}>\n              <TableContainer component={Paper}>\n              <Table  aria-label=\"file table\" size=\"small\">\n                <caption>File Details</caption>\n                  <TableHead className={classes.fileDetailHeaderRow}>\n                    <TableRow  >\n                      <TableCell className={classes.fileDetailHeaderCell} variant=\"head\" align=\"left\" >Name</TableCell>\n                      <TableCell className={classes.fileDetailHeaderCell} align=\"left\">Last Modified</TableCell>\n                      <TableCell className={classes.fileDetailHeaderCell} align=\"center\">Size</TableCell>\n                      <TableCell className={classes.fileDetailHeaderCell} align=\"center\">Type</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    <TableRow >\n                      <TableCell scope=\"row\" align=\"left\">{metaData?.name}</TableCell>\n                      <TableCell scope=\"row\" align=\"left\">{metaData?.lastModified?new Date(metaData?.lastModified).toString():undefined}</TableCell>\n                      <TableCell scope=\"row\" align=\"center\">{fileSize}</TableCell>\n                      <TableCell scope=\"row\" align=\"center\">{metaData?.type}</TableCell>\n                    </TableRow>\n                  </TableBody>\n              </Table>\n            </TableContainer>\n            </Grid>\n            <Grid item xs={12} sm={2}>\n                <div className={classes.actionsContainer}>\n                  <Button\n                    size=\"small\"\n                    endIcon={<ArrowForwardIosIcon />}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handelNextClicked}\n                    disabled={schema ? false : true}\n                    className={classes.nextButton}\n                  >\n                    Next\n                  </Button>\n                </div>\n              </Grid>\n          </Collapse>\n            </Grid>\n        \n      </Paper>\n    </>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    uploadContainer: {\n      maxWidth: \"75ch\",\n      minWidth: \"15rem\",\n      alignItems: \"center\",\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      marginTop: \"1rem\",\n      padding: \"0.2rem 0.5rem\",\n      height: \"max-content\",\n      backgroundColor: \"#fffde7\",\n    },\n    upload: {\n      alignItems: \"center\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"80%\",\n      backgroundColor: \"#fffde7\",\n    },\n    actionsContainer: {\n      display:\"flex\",\n      margin: theme.spacing(1, 0, 1, 0),\n      [theme.breakpoints.down(\"xs\")]:{\n        margin: theme.spacing(1, 1, 1, 1),\n        flexDirection:\"column\",\n      }\n      \n      // width: \"max-content\",\n    },\n    button: {\n      marginLeft: \"0.1rem\",\n      [theme.breakpoints.down(\"xs\")]:{\n        marginTop: \"0.1rem\",\n\n      }\n    },\n    fileDetailHeaderRow:{\n      backgroundColor:theme.palette.primary.main,\n    },\n    fileDetailHeaderCell:{\n      \n      color:theme.palette.getContrastText(theme.palette.primary.main)\n    }\n    \n  })\n);\n","import React from \"react\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\n// import ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { useTypedSelector } from \"../../../hooks/useTypeSelector\";\nimport { UploadFile } from \"../../upload-file/UploadFile\";\nimport { useStyles } from \"./uploadCustomisationInstructionStyle\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\n// import ButtonGroup from \"@material-ui/core/ButtonGroup\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Table from \"@material-ui/core/Table\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\ninterface IUploadCustomisationInstruction {\n  handelBack: () => void;\n  handelSkip: () => void;\n  handelNext: () => void;\n  activeStep: number;\n}\n\nexport const UploadCustomisationInstruction: React.FC<IUploadCustomisationInstruction> = ({\n  handelBack,\n  handelSkip,\n  handelNext,\n  activeStep,\n}) => {\n  const classes = useStyles();\n  const { uploadExistingCustomization } = useAction();\n  const { metaData } = useTypedSelector((state) => state.customizer);\n\n  const fileSize = React.useMemo(()=>{\n    if (!metaData?.size) return\n    if (metaData?.size === 0) return '0 Bytes';\n\n    const k = 1024;\n    \n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    const i = Math.floor(Math.log(metaData?.size) / Math.log(k));\n\n    return parseFloat((metaData?.size / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  },[metaData?.size])\n  return (\n    <>\n      <Box maxWidth=\"75ch\">\n        <Typography>\n          If you already have an existing customisation instruction file you can\n          upload it here, otherwise a new customisation instruction file will be\n          created.\n        </Typography>\n      </Box>\n      <Paper className={classes.uploadContainer}>\n        \n          <Grid container alignItems=\"center\">\n            <Grid item xs={12} sm={12}>\n              <UploadFile\n                saveFace={(file: File) => uploadExistingCustomization(file)}\n                description={\"Click to upload an existing customisation file\"}\n              />\n            </Grid>\n            <Grid item xs={12}>\n            <Collapse in={!!metaData}>\n            <TableContainer component={Paper}>\n            <Table  aria-label=\"file table\" size=\"small\">\n              <caption>File Details</caption>\n                <TableHead className={classes.fileDetailHeaderRow}>\n                  <TableRow  >\n                    <TableCell className={classes.fileDetailHeaderCell} variant=\"head\" align=\"left\" >Name</TableCell>\n                    <TableCell className={classes.fileDetailHeaderCell} align=\"left\">Last Modified</TableCell>\n                    <TableCell className={classes.fileDetailHeaderCell} align=\"center\">Size</TableCell>\n                    <TableCell className={classes.fileDetailHeaderCell} align=\"center\">Type</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <TableRow >\n                    <TableCell scope=\"row\" align=\"left\">{metaData?.name}</TableCell>\n                    <TableCell scope=\"row\" align=\"left\">{metaData?.lastModified?new Date(metaData?.lastModified).toString():undefined}</TableCell>\n                    <TableCell scope=\"row\" align=\"center\">{fileSize}</TableCell>\n                    <TableCell scope=\"row\" align=\"center\">{metaData?.type}</TableCell>\n                  </TableRow>\n                </TableBody>\n            </Table>\n          </TableContainer>\n                </Collapse>\n          </Grid>\n            <Grid item>\n                  <div className={classes.actionsContainer}>\n                    <Button\n                      startIcon={<ArrowBackIosIcon />}\n                      size=\"small\"\n                      disabled={activeStep === 0}\n                      onClick={handelBack}\n                      className={classes.button}\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Back\n                    </Button>\n                  </div>\n                </Grid>\n          </Grid>\n        \n      </Paper>\n    </>\n  );\n};\n","import React from \"react\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useStyles } from \"./verticalStepperStyle\";\n// import { useAction } from \"../../hooks/useActions\";\nimport { UploadSchemaStep } from \"./upload-schema-step/UploadSchemaStep\";\nimport { UploadCustomisationInstruction } from \"./upload-customisation-instruction/UploadCustomisationInstruction\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nexport const VerticalLinearStepper: React.FC = () => {\n  const labelProps: { optional?: React.ReactNode } = {\n    optional: <Typography variant=\"caption\">Optional</Typography>,\n  };\n \n\n  // const {\n  //   resetBaseSchema,\n  //   resetItem,\n  //   resetCustomizeSubSchema,\n  // } = useAction();\n\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [stepProps, setStepProp] = React.useState<{ completed: boolean } | {}>(\n    {}\n  );\n  const classes = useStyles();\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  // const handleReset = () => {\n  //   setActiveStep(0);\n  //   setStepProp({});\n  //   resetBaseSchema();\n  //   resetItem();\n  //   resetCustomizeSubSchema();\n  // };\n\n  const handleSkip = () => {\n    setStepProp({ completed: false });\n    handleNext();\n  };\n  \n  return (\n    <div className={classes.root}>\n      <CssBaseline/>\n      <Stepper className={classes.stepper} activeStep={activeStep} orientation=\"vertical\">\n        <Step>\n        <StepLabel>{\"Upload LIXI Base Schema\"}</StepLabel>\n        <StepContent>\n            <UploadSchemaStep handelNextClicked={handleNext}  />\n        </StepContent>\n        </Step>\n        <Step {...stepProps}>\n          <StepLabel {...labelProps}>\n            <Typography variant=\"caption\">\n              Upload an existing customisation file\n            </Typography>\n          </StepLabel>\n          <StepContent>\n            <UploadCustomisationInstruction \n              handelBack={handleBack} \n              activeStep={activeStep} \n              handelSkip={handleSkip} \n              handelNext={handleNext}\n            />\n           \n          </StepContent>\n        </Step>\n      </Stepper>\n    </div>\n  );\n};\n","export const options = { indent: 4, newline: \"\\n\" };\nexport const customTheme = {\n  tagColor: \"Orange\",\n  textColor: \"#FFFFFF\",\n  separatorColor: \"Orange\",\n};\nexport const customThemeVsCode = {\n  tagColor: \"#03a9f4\",\n  attributeKeyColor: \"#fdd835\",\n  textColor: \"#FFFFFF\",\n  attributeValueColor: \"#8bc34a\",\n  separatorColor: \"#03a9f4\",\n};\n","import { makeStyles, createStyles, Theme } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      position: \"relative\",\n      overflow: \"scroll\",\n      backgroundColor: \"#444\",\n      maxHeight: \"100vh\",\n      marginTop: \"0.5rem\",\n      borderRadius: \"0.1rem\",\n    },\n    header: {\n      position: \"sticky\",\n      top: \"0\",\n      right: \"0\",\n      left: \"0\",\n      padding: \"0.5rem 1rem\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      backgroundColor: \"#333\",\n      marginBottom: \"1rem\",\n      borderRadius: \"0.1rem\",\n      width: \"inherit\",\n      boxShadow: \"0.3rem 0.4rem #555\",\n      color: theme.palette.getContrastText(\"#333\"),\n    },\n    downloadLink: {\n      color: theme.palette.secondary.light,\n      textDecoration: \"none\",\n    },\n  })\n);\n","import { Button, Typography } from \"@material-ui/core\";\nimport prettifyXml from \"prettify-xml\";\nimport React, { Fragment } from \"react\";\nimport XMLViewer from \"react-xml-viewer\";\nimport { customThemeVsCode, options } from \"./itemXMLViewerSettings\";\nimport DownloadLink from \"react-download-link\";\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport { useStyles } from \"./itemXMLViewerStyle\";\n\ninterface IItemXMLViewer {\n  itemXML: Element | null | undefined;\n  role?: \"download\" | \"view\";\n}\n\nexport const ItemXMLViewer: React.FC<IItemXMLViewer> = ({ itemXML, role }) => {\n  const classes = useStyles();\n  const serializer = new XMLSerializer();\n  if (itemXML) {\n    const xmlString = serializer.serializeToString(itemXML);\n    return (\n      <div className={classes.container}>\n        <div className={classes.header}>\n          <Typography variant=\"h5\">\n            {(!role || role ===   \"download\")?\"Customisation Instructions\":\"Item Instruction\"}\n          </Typography>\n          {(!role || role ===   \"download\") && (\n          (\n          (\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  startIcon={<GetAppIcon />}\n                >\n                  <div>\n                    <DownloadLink\n                      label=\"Download\"\n                      filename=\"customisation.xml\"\n                      exportFile={() => Promise.resolve(xmlString)}\n                      style={{ color: \"pink\", textDecoration: \"none\" }}\n                    />\n                  </div>\n                </Button>\n          )\n          )\n          )}\n        </div>\n\n        <div style={{ margin: \"1rem\" }}>\n          <XMLViewer\n            xml={prettifyXml(xmlString, options)}\n            theme={customThemeVsCode}\n          />\n        </div>\n      </div>\n    );\n  } else {\n    return <Fragment></Fragment>;\n  }\n};\n","export class Customiser {\n  customisation: Element;\n  path: string | undefined = undefined;\n  customiseItem: Element;\n  excerpt: string = \"\";\n  documentation: string = \"\";\n  constructor(customisation: Element | undefined = undefined, path?: string) {\n    this.customiseItem = this._customiseItemStub();\n    if (path) {\n      this.path = path;\n    }\n    if (customisation) {\n      this.customisation = customisation.cloneNode(true) as Element;\n      \n    } else {\n      this.customisation = this._customisationStub();\n    }\n  }\n\n  itemPath() {\n    if (this.path) {\n      const doc = Customiser.docStub();\n      const path = doc.createElement(\"Path\");\n      path.textContent = this.path;\n      this.customiseItem.append(path);\n    }\n  }\n\n  exclude() {\n    if (this.ExcludedItem() || !this.path) return;\n    this.removeCustomisedItem();\n    const doc = Customiser.docStub();\n    this.customiseItem.setAttribute(\"Exclude\", \"Yes\");\n    const path = doc.createElement(\"Path\");\n    path.textContent = this.path;\n    this.customiseItem.append(path);\n    this.customisation.append(this.customiseItem);\n    return this.customiseItem;\n  }\n  include() {\n    const excludedPath: Element = this.ExcludedItem();\n    if (excludedPath && excludedPath.parentElement) {\n      this.customisation.removeChild(excludedPath.parentElement);\n    }\n  }\n\n  ExcludedItem(): Element {\n    const allPath = Array.from(this.customisation?.getElementsByTagName(\"Path\"));\n    const excludedPath: Element = Array.prototype.find.call(\n      allPath,\n      (p: Element) => {\n        if (p.parentElement?.getAttribute(\"Exclude\") === \"Yes\") {\n          return p.textContent === this.path;\n        }\n      }\n    );\n    return excludedPath;\n  }\n\n  _customiseItemStub(): Element {\n    const doc = Customiser.docStub();\n    return doc.createElement(\"CustomiseItem\");\n  }\n\n  _customisationStub(): Element {\n    const parser = new DOMParser();\n    const customisationStub = `\n    <Customisations \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n        xsi:noNamespaceSchemaLocation=\"LIXI-Customisation-By-Restriction.xsd\" \n        LIXICode=\"LIXI\" CustomisationCode=\"\" \n        LIXITransactionType=\"\" \n        customHeading=\"Custom Heading for All Customised Items\">\n    </Customisations>`;\n    const parsedXML = parser.parseFromString(customisationStub, \"text/xml\");\n    return parsedXML.getElementsByTagName(\"Customisations\")[0];\n  }\n\n  getCustomisedItem() {\n    const allPath = Array.from(this.customisation.getElementsByTagName(\"Path\"));\n    const excludedPath: Element = Array.prototype.find.call(\n      allPath,\n      (p: Element) => {\n        if (!p.parentElement?.getAttribute(\"Exclude\")) {\n          return p.textContent === this.path;\n        }\n      }\n    );\n    return excludedPath;\n  }\n\n  getTouchedItem() {\n    const allPath = Array.from(this.customisation.getElementsByTagName(\"Path\"));\n    const excludedPath: Element = Array.prototype.find.call(\n      allPath,\n      (p: Element) => {\n        return p.textContent === this.path;\n      }\n    );\n    return excludedPath;\n  }\n  removeCustomisedItem() {\n    const existingCustomisedItem = this.getCustomisedItem()?.parentElement;\n    if (existingCustomisedItem) {\n      this.customisation.removeChild(existingCustomisedItem);\n    }\n  }\n\n  static docStub(): Document {\n    const parser = new DOMParser();\n    return parser.parseFromString(\"<root></root>\", \"text/xml\");\n  }\n\n  customExcerpt() {\n    if (!this.excerpt) return;\n    const doc = Customiser.docStub();\n    const customExcerpt = doc.createElement(\"CustomExcerpt\");\n    customExcerpt.textContent = this.excerpt.trim();\n    this.customiseItem.append(customExcerpt);\n  }\n  customDocumentation() {\n    if (!this.documentation) return;\n    const doc = Customiser.docStub();\n    const customDocumentation: Element = doc.createElement(\n      \"CustomDocumentation\"\n    );\n    customDocumentation.textContent = this.documentation.trim();\n    this.customiseItem.append(customDocumentation);\n  }\n\n  affectedDecedents() {\n    if (!this?.path) return;\n    const path = this.path;\n    const allPath = Array.from(this.customisation?.getElementsByTagName(\"Path\"));\n    const affectedItems: Element[] = Array.prototype.filter.call(\n      allPath,\n      (p: Element) => {\n        return p.textContent?.startsWith(path || \"\");\n      }\n    );\n\n    return affectedItems;\n  }\n  removeCustomisation(paths: string[]){\n    console.log(\"paths:\", paths);\n    const allCustomisedPaths = Array.from(this.customisation.getElementsByTagName(\"Path\"));\n\n\n    Array.prototype.forEach.call(allCustomisedPaths, (p: Element) => {\n      console.log(\"path:\",  p.textContent);;\n      if (p) {\n        if (p?.textContent && paths.includes(p?.textContent)) {\n          if (p.parentElement) {\n            this.customisation.removeChild(p?.parentElement);\n          }\n        }\n      }\n    });\n  }\n}\n","import { LixiLocalNameEnum, LixiTagEnum } from \"../enums/lixiEnums\";\ninterface ILixiBase {\n  element: Element;\n  annotated: boolean;\n}\nexport class LixiBase implements ILixiBase {\n  readonly element: Element;\n  readonly annotated: boolean;\n  constructor(element: Element) {\n    this.element = element.cloneNode(true) as Element;\n    this.annotated =\n      this.element.children[0].localName === LixiLocalNameEnum.annotation;\n  }\n\n  get transactions() {\n    if (this.annotated) {\n      return this.element.children[0]\n        .getElementsByTagName(LixiTagEnum.transactions)[0]\n        .textContent?.split(\",\");\n    }\n    return [];\n  }\n\n  get path() {\n    if (this.annotated) {\n      return this.element.children[0].getElementsByTagName(LixiTagEnum.path)[0]\n        .textContent;\n    }\n    return undefined;\n  }\n\n  get label() {\n    if (this.annotated) {\n      return this.element.children[0].getElementsByTagName(LixiTagEnum.label)[0]\n        .textContent;\n    }\n    return undefined;\n  }\n  get documentation() {\n    if (this.annotated) {\n      return this.element.children[0].getElementsByTagName(\n        LixiTagEnum.documentation\n      )[0].textContent;\n    }\n    return undefined;\n  }\n\n  rootDocument() {\n    return this.element.ownerDocument;\n  }\n\n  get references() {\n    const referenceTargets: string[] = [];\n    if (\n      !this.annotated ||\n      this.element.localName !== \"attribute\" ||\n      this.element.getAttribute(\"type\") !== \"referenceType\"\n    ) {\n      return undefined;\n    }\n    const targets = this.element.children[0].getElementsByTagName(\n      LixiTagEnum.target\n    );\n    Array.prototype.map.call(targets, (t) => {\n      referenceTargets.push(t.textContent);\n    });\n    return referenceTargets;\n  }\n\n  get baseRestriction() {\n    if (this.element.localName === \"simpleType\") {\n      const restriction = this.element.children[1];\n      return restriction.getAttribute(\"base\");\n    }\n    return undefined;\n  }\n\n  get attributes() {\n    const attributes: Array<Element> = [];\n    const complexType = this.getLixiComplexType();\n    if (complexType) {\n      Array.from(complexType.children).forEach((child) => {\n        if (child.localName === LixiLocalNameEnum.attribute) {\n          attributes.push(child);\n        }\n      });\n    }\n\n    return attributes;\n  }\n\n  getLixiComplexType() {\n    const complex: Element[] = [];\n    Array.from(this.element.children).forEach((child) => {\n      if (child.localName === LixiLocalNameEnum.complexType) {\n        complex.push(child);\n      }\n    });\n    return complex[0];\n  }\n\n  get lixiSubElements() {\n    const complexType = this.getLixiComplexType();\n    const subElements: { [key: string]: Element[] } = {};\n    const firstChild = complexType?.firstElementChild;\n\n    if (firstChild?.localName === LixiLocalNameEnum.sequence) {\n      subElements[LixiLocalNameEnum.sequence] = [\n        ...Array.from(firstChild.children),\n      ];\n    } else if (firstChild?.localName === LixiLocalNameEnum.choice) {\n      subElements[LixiLocalNameEnum.choice] = [\n        ...Array.from(firstChild.children),\n      ];\n    }\n    if (Object.keys(subElements).length > 0) {\n      return subElements;\n    }\n    return subElements;\n  }\n\n  get enumeration() {\n    if (this.element.localName === \"simpleType\") {\n      const restriction = this.element.children[1];\n      if (restriction.getAttribute(\"base\") === \"xs:token\") {\n        return [...Array.from(restriction.children)];\n      }\n    }\n    return undefined;\n  }\n}\n","import { Customiser } from \"./Customiser\";\nimport { CustomisedElementType } from \"./customisationTypes\";\n\nexport class ElementCustomiser extends Customiser {\n  object = {} as CustomisedElementType;\n  fixedList:boolean\n  constructor(\n    customisation: Element | undefined = undefined,\n    path?: string,\n    values?: CustomisedElementType\n  ) {\n    super(customisation, path);\n    this.fixedList = !!(values?.elements.length || values?.attributes.length)\n    this.object = values || {\n      includeAllElements: true,\n      includeAllAttributes: true,\n      elements: [],\n      attributes: [],\n      heading: \"\",\n      excerpt: \"\",\n      documentation: \"\",\n      newMin: \"\",\n      newMax: \"\",\n    };\n  }\n\n  customise() {\n    const {\n      includeAllAttributes,\n      includeAllElements,\n      newMin,\n      newMax,\n      documentation,\n      excerpt,\n    } = this.object;\n    if (\n      includeAllAttributes &&\n      includeAllElements &&\n      !newMax &&\n      !newMin &&\n      !documentation &&\n      !excerpt\n    ) {\n      this.removeCustomisedItem();\n      return;\n    }\n\n    this.excerpt = excerpt ? excerpt : \"\";\n    this.documentation = documentation ? documentation : \"\";\n    this.removeCustomisedItem();\n    this.itemPath();\n    this.setInLineAttributes();\n    this.customMaxOccurs();\n    this.customMinOccurs();\n    this.customAttributes();\n    this.customElements();\n    this.customExcerpt();\n    this.customDocumentation();\n    this.customisation.append(this.customiseItem);\n  }\n\n  customMinOccurs() {\n    if (this.object.newMin) {\n      this.customiseItem.setAttribute(\"CustomMinOccurs\", \"Yes\");\n      const doc = Customiser.docStub();\n      const customMinOccurs = doc.createElement(\"CustomMinOccurs\");\n      customMinOccurs.textContent = this.object.newMin.toString();\n      this.customiseItem.append(customMinOccurs);\n    }\n  }\n  customMaxOccurs() {\n    if (this.object.newMax) {\n      this.customiseItem.setAttribute(\"CustomMaxOccurs\", \"Yes\");\n      const doc = Customiser.docStub();\n      const customMaxOccurs = doc.createElement(\"CustomMaxOccurs\");\n      customMaxOccurs.textContent = this.object.newMax.toString();\n      this.customiseItem.append(customMaxOccurs);\n    }\n  }\n\n  customAttributes() {\n    if (!this.object.attributes.length) return;\n    const doc = Customiser.docStub();\n    this.object.attributes.forEach((att, idx) => {\n      const attribute = doc.createElement(\"Attribute\");\n      attribute.textContent = att;\n      this.customiseItem.append(attribute);\n    });\n  }\n  customElements() {\n    if (!this.object.elements.length) return;\n    const doc = Customiser.docStub();\n    this.object.elements.forEach((att, idx) => {\n      const element = doc.createElement(\"Element\");\n      element.textContent = att;\n      this.customiseItem.append(element);\n    });\n  }\n\n  setInLineAttributes() {\n    if  (this.object.heading)  {\n      this.customiseItem.setAttribute(\"customHeading\",  this.object.heading);;\n    }\n    if (this.object.elements.length || this.object.attributes.length) {\n      this.customiseItem.setAttribute(\"Include\", \"Yes\");\n    }\n    if (this.object.elements.length) {\n      // this.customiseItem.setAttribute(\"ExcludeAllElements\", \"No\");\n    }\n    if (this.object.attributes.length) {\n      // this.customiseItem.setAttribute(\"ExcludeAllAttributes\", \"No\");\n    }\n    if (this.object.includeAllAttributes) {\n      // this.customiseItem.setAttribute(\"IncludeAllAttributes\", \"Yes\");\n    } else if (!this.object.attributes.length) {\n      this.customiseItem.setAttribute(\"ExcludeAllAttributes\", \"Yes\");\n    }\n    if (this.object.includeAllElements) {\n      // this.customiseItem.setAttribute(\"IncludeAllElements\", \"Yes\");\n    } else if (!this.object.elements.length) {\n      this.customiseItem.setAttribute(\"ExcludeAllElements\", \"Yes\");\n    }\n    if (\n      !this.object.elements.length &&\n      this.object.includeAllElements &&\n      !this.object.attributes.length &&\n      this.object.includeAllAttributes\n    ) {\n      return;\n    }\n    if (\n      !this.object.elements.length &&\n      !this.object.includeAllElements &&\n      !this.object.attributes.length &&\n      !this.object.includeAllAttributes\n    ) {\n      return this.exclude();\n    }\n  }\n\n  customisedObject() {\n    const customisedEle = this.getCustomisedItem()?.parentElement;\n    if (!customisedEle) return this.object;\n    this.fixedList = !!customisedEle.getAttribute(\"Include\")\n    const heading = customisedEle.getAttribute(\"customHeading\")\n    this.object.heading = heading?heading:undefined\n    this.object.includeAllAttributes = !(!!customisedEle.getAttribute(\"ExcludeAllAttributes\"))\n      \n    this.object.includeAllElements = !(!!customisedEle.getAttribute(\"ExcludeAllElements\"))\n    \n    \n    Array.prototype.forEach.call(customisedEle.children, (child: Element) => {\n      switch (child.localName) {\n        case \"CustomMaxOccurs\":\n          const newMax = child.textContent;\n          this.object.newMax = newMax ? parseInt(newMax) : \"\";\n          break;\n        case \"CustomMinOccurs\":\n          const newMin = child.textContent;\n          this.object.newMin = newMin ? parseInt(newMin) : \"\";\n          break;\n        case \"Attribute\":\n            const attribute = child.textContent;\n            if (!attribute) break;\n            this.object.attributes?.push(attribute);\n            break;\n        case \"Element\":\n          const element = child.textContent;\n          if (!element) break;\n          this.object.elements?.push(element);\n          break;\n        case \"CustomExcerpt\":\n          const excerpt = child.textContent;\n          this.object.excerpt = excerpt ? excerpt : \"\";\n          break;\n        case \"CustomDocumentation\":\n          const documentation = child.textContent;\n          this.object.documentation = documentation ? documentation : \"\";\n          break;\n        default:\n          break;\n      }\n    });\n    return this.object;\n  }\n  static parentCustomised = (\n    path: string,\n    customisation: Element,\n    type: string\n  ): { included: boolean; path: string } | undefined => {\n    const parentStatus = {} as { included: boolean; path: string };\n\n    const pathList = path.split(\".\");\n    const pathLeaf = pathList.pop();\n    const customiser = new ElementCustomiser(customisation, pathList.join(\".\"));\n    const customisedItem = customiser.getTouchedItem()?.parentElement;\n    customiser.customisedObject();\n    if (customisedItem) {\n      if (customisedItem.getAttribute(\"Exclude\")) {\n        parentStatus.included = false;\n        parentStatus.path = pathList.join(\".\");\n        return parentStatus;\n      }\n      if (!customisedItem.getAttribute(\"Include\")){\n        parentStatus.included = true;\n        parentStatus.path = pathList.join(\".\");\n        return parentStatus;\n      }\n      if (type === \"element\") {\n        if (customisedItem.getAttribute(\"ExcludeAllElements\")) {\n            parentStatus.included = false;\n            parentStatus.path = pathList.join(\".\");\n            return parentStatus;\n          } else {\n              if (pathLeaf && customiser.object.elements.includes(pathLeaf)) {\n                parentStatus.included = true;\n                parentStatus.path = pathList.join(\".\");\n                return parentStatus;\n              }else{\n                parentStatus.included = false;\n                parentStatus.path = pathList.join(\".\");\n                return parentStatus;\n              }\n            }\n      } else if (type === \"attribute\") {\n        if (customisedItem.getAttribute(\"ExcludeAllAttributes\")) {\n          parentStatus.included = false;\n          parentStatus.path = pathList.join(\".\");\n          return parentStatus;\n        }else{\n          if (pathLeaf && customiser.object.attributes.includes(pathLeaf)) {\n            parentStatus.included = true;\n            parentStatus.path = pathList.join(\".\");\n            return parentStatus;\n          }else{\n            parentStatus.included = false;\n            parentStatus.path = pathList.join(\".\");\n            return parentStatus;\n          }\n        }\n      } \n        pathList.pop();\n    }\n    while (pathList.length) {\n      const pathLeaf = pathList.pop();\n      const customiser = new ElementCustomiser(\n        customisation,\n        pathList.join(\".\")\n      );\n      const customisedItem = customiser.getTouchedItem()?.parentElement;\n      customiser.customisedObject();\n      if (customisedItem) {\n        if (customisedItem.getAttribute(\"Exclude\")) {\n          parentStatus.included = false;\n          parentStatus.path = pathList.join(\".\");\n          return parentStatus;\n        }\n\n        if (!customisedItem.getAttribute(\"Include\")){\n          parentStatus.included = true;\n          parentStatus.path = pathList.join(\".\");\n          return parentStatus;\n        }\n        if (customisedItem.getAttribute(\"ExcludeAllElements\")) {\n          parentStatus.included = false;\n          parentStatus.path = pathList.join(\".\");\n          return parentStatus;\n        } else if (pathLeaf && customiser.object.elements.includes(pathLeaf)) {\n          parentStatus.included = true;\n          parentStatus.path = pathList.join(\".\");\n          return parentStatus;\n        } \n      }\n    }\n    return;\n  };\n    }\n\n","import Checkbox, { CheckboxProps } from \"@material-ui/core/Checkbox\";\nimport React from \"react\";\nimport { useField, FieldAttributes } from \"formik\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\ntype AppTextFieldProps = { label?: string } & CheckboxProps &\n  FieldAttributes<{}>;\n\nexport const AppCheckBox: React.FC<AppTextFieldProps> = ({\n  checked,\n  label,\n  ...props\n}) => {\n  const [field,meta] = useField<{}>(props);\n  if (label)  {\n    return (\n      <FormControl error={meta.touched && meta.error?true:false }>\n        {/* <FormHelperText>{meta.touched && meta.error? meta.error:undefined}</FormHelperText> */}\n        <FormControlLabel\n          \n          style={{ padding: 0,color:meta.touched && meta.error?\"red\":\"inherit\" }}\n          control={<Checkbox checked={checked} {...field} {...props} />}\n          label={label}\n        />\n      \n      </FormControl>\n      \n    );\n  }  else  {\n    return <Checkbox checked={checked} {...field} {...props} />;;\n  }\n};\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    subItemHeader: {\n      zIndex: 2,\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      backgroundColor: \"#fff8e1\",\n      // marginBottom: \"0.2rem\",\n      borderRadius: \"0.2rem\",\n      maxHeight: \"5rem\",\n      color: theme.palette.primary.main,\n    },\n\n    viewItem: {\n      \"&:hover\": {\n        color: \"#3f51b5\",\n      },\n    },\n  })\n);\n","import ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport React from \"react\";\nimport { AppCheckBox } from \"../formik-mterial-ui/AppCheckBox\";\nimport IndeterminateCheckBoxTwoToneIcon from \"@material-ui/icons/IndeterminateCheckBoxTwoTone\";\nimport CloseOutlinedIcon from \"@material-ui/icons/CloseOutlined\";\nimport DoneOutlinedIcon from \"@material-ui/icons/DoneOutlined\";\nimport { useStyles } from \"./lixiListItemHeaderStyle\";\nimport { CustomisedElementType } from \"../../models/customisationTypes\";\nimport { LixiBase } from \"../../models/LixiBase\";\nimport { FieldArrayRenderProps, useFormikContext } from \"formik\";\n\ninterface IHeaderLixiItem {\n  name: \"includeAllElements\" | \"includeAllAttributes\";\n  header: string;\n  items: (LixiBase | null | undefined)[];\n  selectedItemsLength: number;\n  toggle: (value:string) => void;\n  arrayHelper:FieldArrayRenderProps\n}\n\nexport const LixiListItemHeader: React.FC<IHeaderLixiItem> = ({\n  name,\n  toggle,\n  items,\n  selectedItemsLength,\n  header,\n  arrayHelper:FieldArrayRenderProps\n}) => {\n  const classes = useStyles();\n  const [value,setValue]=React.useState<string>(\"\")\n  const {values} = useFormikContext<CustomisedElementType>()\n\n  React.useEffect(()=>{\n    if(selectedItemsLength === items.length ){\n      setValue(name)\n      values[name] = true\n      return\n    }\n    values[name] = false\n    setValue(\"\")\n    \n  },[items.length, name, selectedItemsLength, value, values])\n\n  return (\n    <ListSubheader\n      key={name}\n      style={{ marginTop: \"0\", alignItems: \"center\" }}\n      className={classes.subItemHeader}\n    >\n      <ListItemIcon>\n        <AppCheckBox\n          key={name}\n          name={name}\n          checked={!!value}\n          value={value}\n          disableRipple\n          onClick={()=>toggle(name)}\n          checkedIcon={<DoneOutlinedIcon style={{ color: \"green\" }} />}\n          icon={<CloseOutlinedIcon style={{ color: \"red\" }} />}\n          indeterminateIcon={\n            <IndeterminateCheckBoxTwoToneIcon color=\"primary\" />\n          }\n          indeterminate={\n            selectedItemsLength > 0 && selectedItemsLength < items.length\n          }\n        />\n      </ListItemIcon>\n      <ListItemText primary={`Include All ${header}`} />\n    </ListSubheader>\n  );\n};\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    viewItem: {\n      \"&:hover\": {\n        color: \"#3f51b5\",\n      },\n    },\n    tooltip: {\n      backgroundColor: theme.palette.common.white,\n      color: \"rgba(0, 0, 0, 0.87)\",\n      // boxShadow: theme.shadows[1],\n      fontSize: 16,\n    },\n    tooltip2: {\n      backgroundColor: \"#fff\",\n      color: \"rgba(0, 0, 0, 0.87)\",\n      maxWidth: 220,\n      fontSize: theme.typography.pxToRem(16),\n    },\n  })\n);\n","import React from \"react\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InfoTwoToneIcon from \"@material-ui/icons/InfoTwoTone\";\nimport { useStyles } from \"./lixiItemToolTipStyle\";\nimport { LixiBase } from \"../../models/LixiBase\";\n\ninterface IToolTip {\n  lixiItem: LixiBase;\n  placement:\n    | \"top-start\"\n    | \"top\"\n    | \"top-end\"\n    | \"left-start\"\n    | \"left\"\n    | \"left-end\"\n    | \"right-start\"\n    | \"right\"\n    | \"right-end\"\n    | \"bottom-start\"\n    | \"bottom\"\n    | \"bottom-end\";\n}\n\nexport const LixiItemToolTip: React.FC<IToolTip> = ({\n  lixiItem,\n  placement,\n}) => {\n  const classes = useStyles();\n  return (\n    <Tooltip\n      placement={placement}\n      className={classes.tooltip2}\n      title={\n        <React.Fragment>\n          <Typography color=\"inherit\">{lixiItem.label}</Typography>\n          {lixiItem.documentation}\n        </React.Fragment>\n      }\n    >\n      <InfoTwoToneIcon className={classes.viewItem} fontSize=\"small\" />\n    </Tooltip>\n  );\n};\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    subItem: {\n      height: \"16rem\",\n      // maxHeight: \"12rem\",\n      overflow: \"scroll\",\n    },\n    viewItem: {\n      \"&:hover\": {\n        color: \"#3f51b5\",\n      },\n    },\n  })\n);\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: \"transparent\",\n    },\n\n    paper: {\n      // backgroundColor: \"transparent\",\n      boxShadow: \"1px 1px 3px #BDBDBD\",\n      overflow: \"hidden\",\n      padding: theme.spacing(0),\n    },\n    alert: {\n      color: \"#c43e00\",\n      \"&:hover\": {\n        color: \"#ff8f00\",\n      },\n    },\n    button: {\n      color: \"orange\",\n      backgroundColor: \"#333\",\n      \"&:hover\": {\n        color: \"#333\",\n        backgroundColor: \"orange\",\n      },\n    },\n  })\n);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { AppCheckBox } from \"../formik-mterial-ui/AppCheckBox\";\nimport CancelPresentationTwoToneIcon from \"@material-ui/icons/CancelPresentationTwoTone\";\n// import {CssBaseline} from \"@material-ui/core\"\nimport { Formik, Form } from \"formik\";\nimport { useStyles } from \"./confirmRemoveItemDialogStyle\";\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\nimport { Divider } from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport * as Yup from \"yup\";\nimport { useAction } from \"../../hooks/useActions\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\n\ninterface IConfirmRemoveItem {\n  open: boolean;\n  handleClose: () => void;\n  affected: { path: string; items: string[] } | undefined;\n}\n\nexport const ConfirmRemoveItemDialog: React.FC<IConfirmRemoveItem> = ({\n  open,\n  affected,\n  handleClose,\n}) => {\n  const classes = useStyles();\n  const { markedForDeletion } = useAction();\n  const { markedForDeletionList } = useTypedSelector((state) => state.item);\n  \n  return (\n    <Formik\n      initialValues={{ agree: false, ...affected }}\n      validationSchema={Yup.object().shape({\n        agree: Yup.boolean().oneOf([true]),\n      })}\n      enableReinitialize\n      onSubmit={(values, { setSubmitting, resetForm }) => {\n        setTimeout(() => {\n          setSubmitting(true);\n          const deletionList = markedForDeletionList\n            ? [...markedForDeletionList]\n            : [];\n          values.items.forEach((item) => {\n            if (!markedForDeletionList?.includes(item)) {\n              deletionList.push(item);\n            }\n          });\n          markedForDeletion([...deletionList]);\n          setSubmitting(false);\n          resetForm();\n          handleClose();\n        }, 400);\n      }}\n    >\n      {({ isSubmitting, values, errors, touched, resetForm }) => (\n        <div>\n          <Dialog\n            draggable\n            BackdropProps={{ classes: { root: classes.root } }}\n            PaperProps={{ classes: { root: classes.paper, elevation2: \"5\" } }}\n            style={{ boxShadow: \"none\" }}\n            open={open}\n            onClose={resetForm}\n            aria-labelledby=\"form-dialog-title\"\n          >\n            <CssBaseline />\n            <DialogTitle\n              style={{\n                backgroundColor: \"cornsilk\",\n                padding: 0,\n                boxShadow: \"1px 1px 1px orange\",\n              }}\n              id=\"form-dialog-title\"\n            >\n              <Alert\n                style={{ width: \"100%\" }}\n                variant=\"standard\"\n                severity=\"warning\"\n                action={\n                  <Tooltip title=\"Cancel\" placement=\"top\">\n                    <IconButton\n                      onClick={handleClose}\n                      aria-label=\"delete\"\n                      className={classes.alert}\n                      size=\"small\"\n                      disableRipple\n                    >\n                      <CancelPresentationTwoToneIcon fontSize=\"default\" />\n                    </IconButton>\n                  </Tooltip>\n                }\n              >\n                Excluding{\" \"}\n                <em>\n                  <strong>{affected?.path.split(\".\").pop()}</strong>\n                </em>{\" \"}\n                will delete all of its customised descendants\n              </Alert>\n            </DialogTitle>\n            <DialogContent>\n              <Typography variant=\"subtitle1\">\n                Following customisation will be lost.\n              </Typography>\n              {affected?.items.map((i, idx) => {\n                return <li key={i}>{`${i}`}</li>;\n              })}\n              <DialogContentText></DialogContentText>\n            </DialogContent>\n            <Divider />\n            <Form>\n              <DialogActions\n                style={{\n                  justifyContent: \"space-between\",\n                  padding: \"0.2rem 1rem\",\n                }}\n              >\n                <AppCheckBox\n                  checked={values.agree}\n                  name=\"agree\"\n                  label=\"I know what I'm doing\"\n                  onClick={() => (values.agree = !values.agree)}\n                  value={`${values?.agree}`}\n                />\n                {/* <Checkbox value={values.agree} name=\"agree\" /> */}\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  disabled={isSubmitting}\n                  size=\"small\"\n                  // onClick={handleClose}\n                  color=\"primary\"\n                >\n                  Exclude\n                </Button>\n              </DialogActions>\n            </Form>\n          </Dialog>\n        </div>\n      )}\n    </Formik>\n  );\n};\n","import IconButton from \"@material-ui/core/IconButton\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { Fragment } from \"react\";\nimport { AppCheckBox } from \"../formik-mterial-ui/AppCheckBox\";\nimport { LixiItemToolTip } from \"../tool-tip/LixiItemToolTip\";\nimport CloseOutlinedIcon from \"@material-ui/icons/CloseOutlined\";\nimport DoneOutlinedIcon from \"@material-ui/icons/DoneOutlined\";\nimport LaunchIcon from \"@material-ui/icons/Launch\";\nimport { useAction } from \"../../hooks/useActions\";\nimport { LixiBase } from \"../../models/LixiBase\";\nimport { CustomisedElementType } from \"../../models/customisationTypes\";\nimport { FieldArrayRenderProps, useFormikContext } from \"formik\";\n\nimport { useStyles } from \"./lixiListItemStyle\";\nimport { Customiser } from \"../../models/Customiser\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\nimport { ConfirmRemoveItemDialog } from \"../confirm-remove-dialog/ConfirmRemoveItemDialog\";\n\ninterface IListLixiItem {\n  name: \"elements\" | \"attributes\";\n  element: LixiBase;\n  included:   string[];\n  excluded:   string[];\n  selectAll:   boolean |   \"disable\";\n  fixedListItem:   string[];\n  touched:   boolean;\n  arrayHelper:   FieldArrayRenderProps;\n  toggleSelectAll:   (value:   string)   =>   void;\n}\nexport const LixiListItem: React.FC<IListLixiItem> = ({\n  name,\n  element,\n  included,\n  excluded,\n  touched,\n  fixedListItem,\n  selectAll,\n  arrayHelper,\n  toggleSelectAll,\n}) => {\n  const classes = useStyles();\n  const [value, setValue] = React.useState<string>(\"\");\n  const [neutral, setNeutral] = React.useState<string[]>([]);\n  const { markedForDeletionList } = useTypedSelector((state) => state.item);\n  const { customization } = useTypedSelector((state) => state.customizer);\n  const { searchItem } = useAction();\n  const { values } = useFormikContext<CustomisedElementType>();\n  const [affectedPath, setAffectedPath] = React.useState<{\n    path: string;\n    items: string[];\n  }>();\n  const [open, setOpen] = React.useState(false);\n\n  const leafItem = React.useMemo(() => {\n    return element.path?.split(\".\").pop();\n  }, [element.path]);\n\n  const furtherCustomisation = React.useMemo(() => {\n    const path = element?.path;\n    if (!path) return;\n    return markedForDeletionList?.find((d) => {\n      return d.startsWith(path);\n    });\n  }, [element?.path, markedForDeletionList]);\n\n  React.useEffect(() => {\n    if (!leafItem) return;\n    if (\n      (included.includes(leafItem) || excluded.includes(leafItem)) &&\n      neutral.includes(leafItem)\n    ) {\n      setNeutral([]);\n    }\n    if (\n      !(included.includes(leafItem) || excluded.includes(leafItem)) &&\n      !neutral.includes(leafItem)\n    ) {\n      setNeutral([leafItem]);\n    }\n  }, [excluded, included, leafItem, neutral]);\n\n  React.useEffect(() => {\n    if (!leafItem) return;\n    if (furtherCustomisation && values[name].includes(leafItem)) {\n      setValue(leafItem);\n      return;\n    }\n    if (furtherCustomisation && !values[name].includes(leafItem)) {\n      setValue(\"\");\n      return;\n    }\n    if (included.includes(leafItem) || values[name].includes(leafItem)) {\n      setValue(leafItem);\n      return;\n    }\n    if (excluded.includes(leafItem) || !values[name].includes(leafItem)) {\n      setValue(\"\");\n      return;\n    }\n  }, [excluded, furtherCustomisation, included, leafItem, name, values]);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  React.useEffect(() => {\n    if (!leafItem) return;\n    if (values[name].includes(leafItem)) return;\n    if (fixedListItem.length && !fixedListItem.includes(leafItem) && !touched)\n      return;\n    if (selectAll === \"disable\") return;\n\n    if (selectAll && !excluded.includes(leafItem)) {\n      arrayHelper.push(leafItem);\n\n      return;\n    }\n  }, [\n    arrayHelper,\n    excluded,\n    fixedListItem,\n    leafItem,\n    name,\n    selectAll,\n    touched,\n    values,\n  ]);\n\n  React.useEffect(() => {\n    if (!leafItem) return;\n    if (selectAll === \"disable\") return;\n    if (\n      !selectAll &&\n      (furtherCustomisation ||\n        (!excluded.includes(leafItem) && !included.includes(leafItem))) &&\n      values[name].includes(leafItem)\n    ) {\n      arrayHelper.remove(values[name].indexOf(leafItem));\n      return;\n    }\n  }, [\n    arrayHelper,\n    excluded,\n    furtherCustomisation,\n    included,\n    leafItem,\n    name,\n    selectAll,\n    values,\n  ]);\n\n  const affected = React.useMemo(():\n    | { path: string; items: string[] }\n    | undefined => {\n    const affectedItem = {} as { path: string; items: string[] };\n    if (element && element.path) {\n      const customiser = new Customiser(customization, element.path);\n      const affectedList = customiser.affectedDecedents();\n      if (affectedList?.length) {\n        affectedItem.path = element.path;\n        affectedItem.items = [];\n        affectedList.forEach((i) => {\n          if (i.textContent) {\n            affectedItem.items.push(i.textContent);\n          }\n        });\n        if (affectedItem.items.length) {\n          return affectedItem;\n        }\n      }\n    }\n  }, [customization, element]);\n\n  const handelAddItem = (subEle: string | undefined) => {\n    if (!subEle) return;\n    if (affected && !furtherCustomisation) {\n      setAffectedPath(affected);\n      if (leafItem && !excluded.includes(leafItem)) {\n        setOpen(true);\n        return;\n      }\n    }\n    if (selectAll !== \"disable\") {\n      toggleSelectAll(\"disable\");\n    }\n    if (!values[name].includes(subEle)) {\n      setValue(subEle);\n      arrayHelper.push(subEle);\n    } else {\n      setValue(\"\");\n      arrayHelper.remove(values[name].indexOf(subEle));\n    }\n  };\n\n  return (\n    <Fragment>\n      <ConfirmRemoveItemDialog\n        affected={affectedPath}\n        open={open}\n        handleClose={handleClose}\n      />\n      <ListItem divider dense button onClick={() => handelAddItem(leafItem)}>\n        <ListItemIcon>\n          <AppCheckBox\n            onClick={() => handelAddItem(leafItem)}\n            disableRipple\n            name={name}\n            checked={!!value}\n            value={value}\n            checkedIcon={\n              <DoneOutlinedIcon style={{ color: \"green\" }} fontSize=\"small\" />\n            }\n            icon={\n              <CloseOutlinedIcon fontSize=\"small\" style={{ color: \"red\" }} />\n            }\n          />\n        </ListItemIcon>\n        <ListItemText\n          style={{ cursor: \"pointer\" }}\n          id={`${element?.path?.split(\".\").pop()}`}\n          primary={\n            <div>\n              <Typography\n                style={{ alignItems: \"center\" }}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {leafItem}\n              </Typography>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                &nbsp;\n                <em>\n                  {excluded.includes(leafItem || \"\")\n                    ? \"- excluded.\"\n                    : included.includes(leafItem || \"\")\n                    ? \"- customised.\"\n                    : \"\"}\n                </em>\n                <LixiItemToolTip lixiItem={element} placement=\"top-start\" />\n              </Typography>\n            </div>\n          }\n        />\n\n        <ListItemSecondaryAction>\n          <IconButton\n            edge=\"end\"\n            aria-label=\"comments\"\n            className={classes.viewItem}\n            value={element?.path?.split(\".\").pop()}\n            onClick={(e) => searchItem(element?.path || \"\")}\n          >\n            <LaunchIcon fontSize=\"small\" />\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    </Fragment>\n  );\n};\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    subItemHeader: {\n      zIndex: 2,\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      backgroundColor: \"#fff8e1\",\n      // marginBottom: \"0.2rem\",\n      borderRadius: \"0.2rem\",\n      maxHeight: \"5rem\",\n      color: theme.palette.primary.main,\n    },\n    subItem: {\n      height: \"35rem\",\n      // maxHeight: \"12rem\",\n      overflow: \"scroll\",\n      paddingTop:  \"0\"\n    },\n    viewItem: {\n      \"&:hover\": {\n        color: \"#3f51b5\",\n      },\n    },\n  })\n);\n","import List from \"@material-ui/core/List/List\";\nimport { FieldArray, useFormikContext } from \"formik\";\nimport React from \"react\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\nimport { CustomisedElementType } from \"../../models/customisationTypes\";\nimport { Customiser } from \"../../models/Customiser\";\nimport { LixiBase } from \"../../models/LixiBase\";\nimport { LixiListItemHeader } from \"../lixi-list-item-header/LixiListItemHeader\";\nimport { LixiListItem } from \"../lixi-list-item/LixiListItem\";\nimport { useStyles } from \"./elementSubItemsStyle\";\n\ninterface SubItems {\n  subItems: (LixiBase | null | undefined)[];\n  header: string;\n  name: \"elements\"|\"attributes\";\n  value:string[];\n  fixedListItem:string[]\n  setExcludedList:React.Dispatch<React.SetStateAction<{\n    elements: string[];\n    attributes: string[];\n} >>\n}\n\nexport const ElementSubItems: React.FC<SubItems> = ({\n  subItems,\n  header,\n  name,\n  fixedListItem,\n  setExcludedList,\n  value\n}) => {\n  const classes = useStyles();\n  const [selectAll, setSelectAll] = React.useState<{elements:boolean|\"disable\",attributes:boolean|\"disable\",touched:boolean}>({\n    elements:true,attributes:true,touched:false\n  })\n  const [touched, setTouched] = React.useState<{elements:boolean,attributes:boolean}>({\n    elements:false,attributes:false\n  })\n  const { customization } = useTypedSelector((state) => state.customizer);\n  const { markedForDeletionList } = useTypedSelector((state) => state.item);\n  // const { markedForDeletion } = useAction();\n  const {values} = useFormikContext<CustomisedElementType>()\n  \n  const includeAllItem = React.useMemo(()=>{\n    const titleCaseName = name.replace(new RegExp(\"^[a-z]\"),(matched) => {\n    return matched.toUpperCase();\n    }) \n    return `includeAll${titleCaseName}`\n  },[name]) as  \"includeAllElements\"|\"includeAllAttributes\"\n\n  const affected2 = React.useMemo(()=>{\n    if (!customization)return\n    const excluded:string[] = []\n    const excludedFullPath:string[]=[]\n    const included:string[] = []\n    subItems?.forEach((item:LixiBase|null|undefined)=>{\n      const path = item?.path as string\n      const leaf = path.split(\".\").pop() as string\n      const customiser = new Customiser(customization, path);\n      const affectedList = customiser.affectedDecedents();\n      affectedList?.forEach((affected)=>{\n        if (affected.textContent?.split(\".\").pop() === leaf){\n          if(!!affected?.parentElement?.getAttribute(\"Exclude\") && !excluded.includes(leaf)){\n              excluded.push(leaf)\n              excludedFullPath.push(affected.textContent)\n          }else if(!included.includes(leaf)){\n              included.push(leaf)\n          }\n        } else if(!included.includes(leaf)){\n            included.push(leaf)\n        }\n      })\n    })\n    return {included:[...included],excluded:[...excluded],excludedFullPath:[...excludedFullPath]}\n  },[customization, subItems])\n\n\n  React.useEffect(()=>{\n    if (!affected2?.excludedFullPath.length)return\n    const {excludedFullPath} = affected2\n    const deletionList:string[] = []\n    excludedFullPath.forEach((exc)=>{\n      if(!markedForDeletionList?.includes(exc)){\n        deletionList.push(exc)\n      }\n    })\n    setExcludedList((pre)=>({...pre,[name]:[...deletionList]}))\n  },[affected2, markedForDeletionList, name, setExcludedList])\n  \n  const toggleExclude = (value:string) => {\n    if(!touched[name]){\n      setTouched({...touched,[name]:true})\n    }\n    if (value === \"disable\"){\n        setSelectAll({...selectAll,elements:\"disable\",attributes:\"disable\"})\n        return \n      }\n    if(value===\"enable\"){\n      return\n    }\n    setSelectAll({...selectAll,[name]:!selectAll[name]})\n  };\n \n  return (\n    <>\n      <List className={classes.subItem}>\n        <FieldArray\n          name={name}\n          render={(arrayHelper) => (\n            <div>\n              <LixiListItemHeader \n              name={includeAllItem}\n              header={header} \n              items={subItems}\n              arrayHelper={arrayHelper}\n              selectedItemsLength={values[name].length}\n              toggle={toggleExclude}\n              />\n              {\n                subItems?.map((subEle, idx) => {\n                  if (!subEle?.path) {\n                    return <p></p>;\n                  }\n                  return (\n                    <LixiListItem \n                    key={`${idx}-${subEle.path}`} \n                    fixedListItem={fixedListItem}\n                    name={name} \n                    element={subEle} \n                    selectAll={selectAll[name]}\n                    touched={touched[name]}\n                    toggleSelectAll={toggleExclude}\n                    excluded={affected2?.excluded||[]}\n                    included={affected2?.included||[]}\n                    arrayHelper={arrayHelper}\n                    />\n                  );\n                })}\n                \n            </div>\n          )}\n        />\n      </List>\n    </>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {},\n\n    helperText: {\n      width: \"100%\",\n      padding: \"0.5rem 0.2rem\",\n      position: \"absolute\",\n      background: \"#fff8e1\",\n      borderColor: theme.palette.error.main,\n      borderStyle: \"solid\",\n      borderWidth: \"0.1rem\",\n      borderRadius: \"0.2rem\",\n      zIndex: 20,\n      boxSizing: \"border-box\",\n      marginTop: \"2.7rem\",\n    },\n  })\n);\n","import TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\nimport React from \"react\";\nimport { useField, FieldAttributes } from \"formik\";\nimport { useStyles } from \"./appTextFieldStyle\";\n\ntype AppTextFieldProps = TextFieldProps & FieldAttributes<{}>;\n\nexport const AppTextField: React.FC<AppTextFieldProps> = ({ ...props }) => {\n  const [field, meta] = useField<{}>(props);\n  const classes = useStyles();\n  return (\n    <TextField\n      FormHelperTextProps={{\n        className: classes.helperText,\n      }}\n      {...field}\n      {...props}\n      error={!!(meta.touched && meta.error)}\n      helperText={meta.error && meta.touched ? meta.error : undefined}\n    />\n  );\n};\n","import Grid from \"@material-ui/core/Grid\";\nimport React from \"react\";\nimport { AppTextField } from \"../formik-mterial-ui/AppTextField\";\nimport { useFormikContext } from \"formik\";\n\nexport const ExcerptDocumentation: React.FC = () => {\n  const excerptTooltip = `\n  A short description - explaining the item usage.\n  `;\n  const documentationTooltip = `\n  An alternative description - explaining the item usage.\n  `;\n  const customHeadingTooltip = `A custom heading for the documentation`;\n  const { values } = useFormikContext<{\n    excerpt: string;\n    documentation: string;\n    heading: string;\n  }>();\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <AppTextField\n          title={customHeadingTooltip}\n          variant=\"outlined\"\n          multiline\n          fullWidth\n          rows={1}\n          name=\"heading\"\n          value={values.heading}\n          label=\"Custom Heading\"\n        />\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <AppTextField\n          title={excerptTooltip}\n          variant=\"outlined\"\n          multiline\n          fullWidth\n          rows={4}\n          name=\"excerpt\"\n          value={values.excerpt}\n          label=\"Custom Excerpt\"\n        />\n      </Grid>\n      <Grid item xs={12} sm={6}>\n        <AppTextField\n          title={documentationTooltip}\n          variant=\"outlined\"\n          multiline\n          fullWidth\n          rows={4}\n          name=\"documentation\"\n          value={values.documentation}\n          label=\"Custom Documentation\"\n        />\n      </Grid>\n    </Grid>\n  );\n};\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    subItemHeader: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      backgroundColor: \"#fff8e1\",\n      marginBottom: \"0.2rem\",\n      borderRadius: \"0.2rem\",\n      maxHeight: \"5rem\",\n      color: theme.palette.primary.main,\n    },\n    subItem: {\n      height: \"12rem\",\n      maxHeight: \"12rem\",\n      overflow: \"scroll\",\n    },\n    saveMinMax: {\n      padding: \"0.5rem\",\n      display: \"flex\",\n      gap: \"0.5rem\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n    },\n    minMaxContainer: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      gap: \"0.5rem\",\n    },\n    textFieldMinMax: {\n      width: \"10rem\",\n    },\n    saveButton: {\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n    },\n  })\n);\n","import Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { useAction } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\nimport { CustomisedElementType } from \"../../models/customisationTypes\";\nimport { ElementCustomiser } from \"../../models/ElementCustomiser\";\nimport { LixiBase } from \"../../models/LixiBase\";\nimport { ElementSubItems } from \"../element-sub-items/ElementSubItems\";\nimport { ExcerptDocumentation } from \"../excerpt-documentation/ExcerptDocumentation\";\nimport { AppTextField } from \"../formik-mterial-ui/AppTextField\";\nimport { CustomiseElementSchema } from \"./customiseElementSchema\";\nimport { useStyles } from \"./customiseElementStyle\";\n\ninterface ICustomiseElement {\n  lixiItem: LixiBase | undefined;\n}\ntype SubElement = { [key: string]: Element[] };\n\nexport const CustomiseElement: React.FC<ICustomiseElement> = ({ lixiItem }) => {\n  const classes = useStyles();\n  const { updateCustomisation, } = useAction();\n  const { customization } = useTypedSelector((state) => state.customizer);\n  const { markedForDeletionList } = useTypedSelector((state) => state.item);\n  const [initialValue, setInitialValue] = React.useState<CustomisedElementType>(\n    {\n      newMin: \"\",\n      newMax: \"\",\n      includeAllElements: true,\n      includeAllAttributes: true,\n      elements: [],\n      attributes: [],\n      excerpt: \"\",\n      documentation: \"\",\n      heading:\"\"\n    }\n  );\n  const [itemSubElement, setItemSubElement] = React.useState<SubElement>({});\n  const [itemAttributes, setItemAttributes] = React.useState<Element[]>([]);\n  const [excludedList,setExcludedList] = React.useState<{elements:string[],attributes:string[]}>({elements:[],attributes:[]})\n  const [fixedListItem, setFixedListItems] = React.useState<{\n    elements: string[];\n    attributes: string[];\n  }>({ elements: [], attributes: [] });\n\n  const [occursMinMax, setOccursMinMax] = React.useState<\n    | {\n        min: string | null | undefined;\n        max: string | null | undefined;\n      }\n    | undefined\n  >();\n\n  const leafAttribs = React.useMemo(() => {\n    return itemAttributes?.map((item, idx) => {\n      const itemEle = new LixiBase(item);\n      if (itemEle) {\n        return itemEle;\n      }\n      return undefined;\n    });\n  }, [itemAttributes]);\n  const leafEle = React.useMemo(() => {\n    return (itemSubElement[\"choice\"] || itemSubElement[\"sequence\"])?.map(\n      (item, idx) => {\n        const itemEle = new LixiBase(item);\n        return itemEle;\n      }\n    );\n  }, [itemSubElement]);\n\n  React.useEffect(() => {\n    if (!lixiItem?.path) return;\n    const newCustomisation = new ElementCustomiser(\n      customization,\n      lixiItem?.path\n    );\n    const instruction = newCustomisation.customisedObject();\n    setInitialValue(instruction);\n    if (!instruction.elements.length && !instruction.attributes.length) return;\n    setFixedListItems({\n      elements: [...instruction.elements],\n      attributes: [...instruction.attributes],\n    });\n\n  }, [customization, lixiItem?.path]);\n\n  React.useEffect(() => {\n    const subElement = lixiItem?.lixiSubElements;\n    const attributes = lixiItem?.attributes;\n    if (subElement) {\n      setItemSubElement(subElement);\n    }\n    if (attributes?.length) {\n      setItemAttributes(attributes);\n    }\n  }, [lixiItem]);\n\n  React.useEffect(() => {\n    const occurrenceMinMax = {\n      min: lixiItem?.element.getAttribute(\"minOccurs\"),\n      max: lixiItem?.element.getAttribute(\"maxOccurs\"),\n    };\n    setOccursMinMax(occurrenceMinMax);\n  }, [lixiItem?.element]);\n\n\n\n\n  return (\n    <Formik\n      enableReinitialize\n      initialValues={initialValue}\n      validationSchema={() =>\n        CustomiseElementSchema(occursMinMax?.min, occursMinMax?.max)\n      }\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        if (!lixiItem?.path) return;\n        \n          alert(JSON.stringify(values, null, 2))\n        const newCustomisation = new ElementCustomiser(\n          customization,\n          lixiItem?.path,\n          values\n        );\n        const {elements, attributes} = excludedList\n        if (markedForDeletionList){\n          newCustomisation.removeCustomisation([...markedForDeletionList])\n        }\n        if (elements.length){\n          newCustomisation.removeCustomisation([...elements])\n        }\n        if (attributes.length ){\n          newCustomisation.removeCustomisation([...attributes])\n        }\n        newCustomisation.customise();\n        updateCustomisation(newCustomisation.customisation);\n        setTimeout(() => {\n          setSubmitting(false);\n        }, 400);\n      }}\n    >\n      {({ isSubmitting, values, errors, touched }) => (\n        <Form>\n          <Paper style={{ padding: \"0.5rem\" }}>\n            <Grid container spacing={1}>\n              <Grid item xs={12}>\n                <div className={classes.saveMinMax}>\n                  <div className={classes.minMaxContainer}>\n                    <AppTextField\n                      className={classes.textFieldMinMax}\n                      name=\"newMin\"\n                      size=\"small\"\n                      variant=\"outlined\"\n                      label=\"New Min Occurs\"\n                      disabled={\n                        occursMinMax?.min === \"1\" && occursMinMax?.max === \"1\"\n                      }\n                      value={values?.newMin}\n                    />\n\n                    <AppTextField\n                      className={classes.textFieldMinMax}\n                      name=\"newMax\"\n                      size=\"small\"\n                      variant=\"outlined\"\n                      label=\"New Max Occurs\"\n                      disabled={occursMinMax?.max === \"1\"}\n                      value={values?.newMax}\n                    />\n                  </div>\n                  <div className={classes.saveButton}>\n                    <Button\n                      size=\"small\"\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                      startIcon={<SaveIcon fontSize=\"large\" />}\n                    >\n                      Save\n                    </Button>\n                  </div>\n                </div>\n                <Divider />\n              </Grid>\n              {leafEle?.length ? (\n                <Grid item xs={12} sm={itemAttributes?.length ? 6 : 12}>\n                  <ElementSubItems\n                    setExcludedList={setExcludedList}\n                    fixedListItem={fixedListItem[\"elements\"]}\n                    key={\"element\"}\n                    value={values.elements}\n                    header={`Sub-Elements ${\n                      itemSubElement[\"choice\"] ? \"CHOICE\" : \"(SEQUENCE)\"\n                    }`}\n                    subItems={leafEle}\n                    name=\"elements\"\n                  />\n                </Grid>\n              ) : undefined}\n              {leafAttribs?.length ? (\n                <Grid item xs={12} sm={leafEle?.length ? 6 : 12}>\n                  <ElementSubItems\n                    setExcludedList={setExcludedList}\n                    fixedListItem={fixedListItem[\"attributes\"]}\n                    key=\"attribute\"\n                    value={values.attributes}\n                    header=\"Attributes\"\n                    subItems={leafAttribs}\n                    name=\"attributes\"\n                  />\n                </Grid>\n              ) : undefined}\n\n              <Grid item xs={12}>\n                <ExcerptDocumentation />\n              </Grid>\n            </Grid>\n          </Paper>\n          {/* <pre>{JSON.stringify(values, null, 2)}</pre>\n          <pre>{JSON.stringify(markedForDeletionList, null, 2)}</pre>\n          <pre>{JSON.stringify(excludedList[\"attributes\"], null, 2)}</pre>\n          <pre>{JSON.stringify(excludedList[\"elements\"], null, 2)}</pre> */}\n        </Form>\n      )}\n    </Formik>\n  );\n};\n","import * as Yup from \"yup\";\n\nexport const CustomiseElementSchema = (\n  currentMin: string | null | undefined,\n  currentMax: string | null | undefined\n) => {\n  const min = currentMin ? parseInt(currentMin) : 0;\n  const max = currentMax && parseInt(currentMax) ? parseInt(currentMax) : 99999;\n\n  return Yup.object().shape(\n    {\n      newMin: Yup.number().moreThan(min).max(max),\n      newMax: Yup.number()\n        .max(max - 1)\n        .test({\n          name: \"min\",\n          exclusive: false,\n          message: \"Must be greater than new min occurs\",\n          params: {},\n          test: function (value) {\n            if (value && this.parent.newMin) {\n              return value > this.parent.newMin;\n            }\n            return true;\n          },\n        }),\n\n      excerpt: Yup.string().max(100),\n      documentation: Yup.string().max(100),\n    },\n    [[\"newMin\", \"newMax\"]]\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      marginTop: \"1rem\",\n      backgroundColor: \"##fafafa\",\n      border: \"solid #333 0.1rem\",\n      borderRadius: \"0.3rem\",\n    },\n    header: {\n      display: \"flex\",\n      padding: \"0.5rem\",\n      justifyContent: \"space-between\",\n      backgroundColor: \"#fff8e1\",\n      marginBottom: \"0.2rem\",\n      borderRadius: \"0.1rem\",\n      alignItems: \"center\",\n    },\n    subItemHeader: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      backgroundColor: \"#fff8e1\",\n      marginBottom: \"0.2rem\",\n      borderRadius: \"0.2rem\",\n      maxHeight: \"5rem\",\n      color: theme.palette.primary.main,\n    },\n    subItem: {\n      height: \"12rem\",\n      maxHeight: \"12rem\",\n      overflow: \"scroll\",\n    },\n\n    itemLabelDescription: {\n      padding: \"0.1rem\",\n      margin: \"0.5rem\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"inline-block\",\n      },\n    },\n    attributes: {\n      margin: theme.spacing(1.5, 0, 0, 0),\n      padding: \"0.1rem 1rem\",\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"inline-block\",\n      },\n    },\n    references: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    alert: {\n      color: \"orange\",\n      backgroundColor: \"#333\",\n      \"&:hover\": {\n        color: \"#333\",\n        backgroundColor: \"orange\",\n      },\n    },\n    typeAttribute: {\n      cursor: \"pointer\",\n\n      \"&:hover\": {\n        color: theme.palette.primary.main,\n      },\n    },\n    otherAttribute: {\n      cursor: \"not-allowed\",\n    },\n  })\n);\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n      marginBottom: \"0.5rem\",\n      gap: \"0.5rem\",\n    },\n    paper: {\n      padding: \"0.5rem\",\n      margin: \"0.5rem 0.2rem\",\n    },\n    saveButton: {\n      width: \"max-content\",\n      height: \"max-content\",\n    },\n  })\n);\n","import * as Yup from \"yup\";\n\nexport const integerTypeSchema = Yup.object().shape({\n  optionalToMandatory: Yup.boolean(),\n  minInteger: Yup.number()\n    .min(0, \"Value must be grater than or equal to zero\")\n    .typeError(\"Only an integer value allowed\")\n    .integer(\"Only an integer value allowed\"),\n  maxInteger: Yup.number()\n    .positive(\"Value must be grater than zero\")\n    .typeError(\"Only an integer value allowed\")\n    .integer(\"Only an integer value allowed\")\n    .test({\n      name: \"minInteger\",\n      exclusive: false,\n      message: \"Value must be grater than the minimum value\",\n      params: {},\n      test: function (value) {\n        if (value && this.parent.minInteger) {\n          return value > this.parent.minInteger;\n        }\n        return true;\n      },\n    }),\n});\n","import { Customiser } from \"./Customiser\";\nimport { IntegerTypeAttributeType } from \"./customisationTypes\";\n\nexport class IntegerTypeAttributeCustomiser extends Customiser {\n  object = {} as IntegerTypeAttributeType;\n\n  constructor(\n    customisation: Element | undefined = undefined,\n    path?: string,\n    values?: IntegerTypeAttributeType\n  ) {\n    super(customisation, path);\n    this.object = values || {\n      optionalToMandatory: false,\n      excerpt: \"\",\n      heading: \"\",\n      documentation: \"\",\n      minInteger: \"\",\n      maxInteger: \"\",\n    };\n  }\n\n  customise() {\n    const {\n      optionalToMandatory,\n      documentation,\n      excerpt,\n      minInteger,\n      maxInteger,\n    } = this.object;\n    if (\n      !optionalToMandatory &&\n      !minInteger &&\n      !maxInteger &&\n      !documentation &&\n      !excerpt\n    ) {\n      this.removeCustomisedItem();\n      return;\n    }\n    this.excerpt = excerpt ? excerpt : \"\";\n    this.documentation = documentation ? documentation : \"\";\n    this.removeCustomisedItem();\n    this.itemPath();\n    this.setInLineAttributes();\n    this.integerMinMax();\n    this.customExcerpt();\n    this.customDocumentation();\n\n    this.customisation.append(this.customiseItem);\n  }\n\n  integerMinMax() {\n    if (!this.object.minInteger && !this.object.maxInteger) return;\n    if (this.object.minInteger) {\n      const doc = Customiser.docStub();\n      const minInteger = doc.createElement(\"MinInteger\");\n      minInteger.textContent = this.object.minInteger.toString().trim();\n      this.customiseItem.append(minInteger);\n    }\n    if (this.object.maxInteger) {\n      const doc = Customiser.docStub();\n      const maxInteger = doc.createElement(\"MaxInteger\");\n      maxInteger.textContent = this.object.maxInteger.toString().trim();\n      this.customiseItem.append(maxInteger);\n    }\n  }\n\n  setInLineAttributes() {\n    const {\n      optionalToMandatory,\n      heading,\n      minInteger,\n      maxInteger,\n    } = this.object;\n    if (heading) {\n      this.customiseItem.setAttribute(\"customHeading\", heading);\n    }\n    if (optionalToMandatory) {\n      this.customiseItem.setAttribute(\"OptionalToMandatory\", \"Yes\");\n    }\n    if (minInteger || maxInteger) {\n      this.customiseItem.setAttribute(\"CustomIntegerRange\", \"Yes\");\n      return;\n    }\n  }\n\n  customisedObject() {\n    const customisedAttr = this.getCustomisedItem()?.parentElement;\n    if (!customisedAttr) return this.object;\n    customisedAttr.getAttributeNames().forEach((att, idx) => {\n      switch (att) {\n        case \"customHeading\": {\n          this.object.heading =\n            customisedAttr.getAttribute(\"customHeading\") || \"\";\n          break;\n        }\n        case \"OptionalToMandatory\": {\n          this.object.optionalToMandatory = true;\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    Array.prototype.forEach.call(customisedAttr.children, (child: Element) => {\n      switch (child.localName) {\n        case \"CustomExcerpt\":\n          const excerpt = child.textContent?.trim();\n          this.object.excerpt = excerpt ? excerpt : \"\";\n          break;\n        case \"CustomDocumentation\":\n          const documentation = child.textContent?.trim();\n          this.object.documentation = documentation ? documentation : \"\";\n          break;\n        case \"MinInteger\":\n          const minInteger = child.textContent?.trim();\n          if (!minInteger) return;\n          try {\n            // this.object.minInteger = parseInt(minInteger) ? parseInt(minInteger) : undefined;\n            this.object.minInteger = minInteger ? minInteger : undefined;\n          } catch (error) {}\n          break;\n        case \"MaxInteger\":\n          const maxInteger = child.textContent?.trim();\n          if (!maxInteger) return;\n          try {\n            // this.object.maxInteger = parseInt(maxInteger) ? parseInt(maxInteger) : undefined;\n            this.object.maxInteger = maxInteger ? maxInteger : undefined;\n          } catch (error) {}\n          break;\n        default:\n          break;\n      }\n    });\n    return this.object;\n  }\n}\n","import React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { useStyles } from \"./integerTypeAttributeStyle\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { useTypedSelector } from \"../../../hooks/useTypeSelector\";\nimport { ExcerptDocumentation } from \"../../excerpt-documentation/ExcerptDocumentation\";\nimport { AppTextField } from \"../../formik-mterial-ui/AppTextField\";\nimport { AppCheckBox } from \"../../formik-mterial-ui/AppCheckBox\";\nimport { integerTypeSchema } from \"./integerTypeAttributeSchema\";\nimport { IntegerTypeAttributeType } from \"../../../models/customisationTypes\";\nimport { IntegerTypeAttributeCustomiser } from \"../../../models/IntegerTypeAttributeCustomiser\";\nimport { Form, Formik } from \"formik\";\n\ninterface ICustomiseIntegerTypeAttribute {\n  lixiItem: LixiBase | undefined;\n  type?: \"integerType\";\n}\n\nexport const IntegerTypeAttribute: React.FC<ICustomiseIntegerTypeAttribute> = ({\n  lixiItem,\n}) => {\n  const classes = useStyles();\n  const { updateCustomisation } = useAction();\n  const { customization } = useTypedSelector((state) => state.customizer);\n  const [\n    initialValue,\n    setInitialValue,\n  ] = React.useState<IntegerTypeAttributeType>({\n    optionalToMandatory: false,\n    excerpt: \"\",\n    documentation: \"\",\n    heading: \"\",\n    minInteger: \"\",\n    maxInteger: \"\",\n  });\n\n  React.useEffect(() => {\n    if (!lixiItem?.path) return;\n    const newCustomisation = new IntegerTypeAttributeCustomiser(\n      customization,\n      lixiItem?.path\n    );\n    const instruction = newCustomisation.customisedObject();\n    setInitialValue(instruction);\n  }, [customization, lixiItem?.path]);\n\n  return (\n    <Formik\n      initialValues={initialValue}\n      enableReinitialize\n      validationSchema={integerTypeSchema}\n      onSubmit={(values, { setSubmitting }) => {\n        if (!lixiItem?.path) return;\n        setSubmitting(true);\n        const attCustomiser = new IntegerTypeAttributeCustomiser(\n          customization,\n          lixiItem?.path,\n          values\n        );\n        attCustomiser.customise();\n        // console.log(\"ci\", attCustomiser.customisation);\n        updateCustomisation(attCustomiser.customisation);\n        setTimeout(() => {\n          alert(JSON.stringify(values, null, 2));\n          setSubmitting(false);\n        }, 400);\n      }}\n    >\n      {({ isSubmitting, values, errors, touched, resetForm }) => (\n        <Form>\n          <Paper style={{ padding: \"0.5rem\" }}>\n            <FormControl style={{ width: \"100%\" }}>\n              <Paper style={{ padding: \"0.5rem\", margin: \"0.5rem 0.2rem\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"0.5rem\",\n                  }}\n                >\n                  <AppCheckBox\n                    name=\"optionalToMandatory\"\n                    color=\"primary\"\n                    size=\"medium\"\n                    label=\"Optional To Mandatory\"\n                    checked={values?.optionalToMandatory}\n                  />\n                  <Button\n                    className={classes.saveButton}\n                    size=\"small\"\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    startIcon={<SaveIcon fontSize=\"large\" />}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </Paper>\n            </FormControl>\n            <Divider />\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-start\",\n                width: \"100%\",\n              }}\n            >\n              <FormControl style={{ width: \"100%\" }}>\n                <Paper className={classes.paper}>\n                  <div className={classes.container}>\n                    <AppTextField\n                      variant=\"outlined\"\n                      size=\"small\"\n                      label=\"Minimum\"\n                      name=\"minInteger\"\n                      placeholder=\"Minimum\"\n                      // value={values.minInteger}\n                    />\n                    <AppTextField\n                      variant=\"outlined\"\n                      size=\"small\"\n                      label=\"Maximum\"\n                      name=\"maxInteger\"\n                      placeholder=\"Maximum\"\n                      // value={values.maxInteger}\n                    />\n                  </div>\n                </Paper>\n              </FormControl>\n            </div>\n            <ExcerptDocumentation />\n          </Paper>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nIntegerTypeAttribute.defaultProps = {\n  type: \"integerType\",\n};\n","import React from \"react\";\n\ninterface ISwitchAttributeType {\n  switchType: string;\n  children: React.ReactElement<{\n    type:\n      | \"stringType\"\n      | \"integerType\"\n      | \"decimalType\"\n      | \"currencyType\"\n      | \"listType\";\n  }>[];\n}\nexport const SwitchAttributeType: React.FC<ISwitchAttributeType> = ({\n  children,\n  switchType,\n}) => {\n  const regex = /^[a-zA-Z]+List$/;\n  const child = children.find(({ props }) => {\n    const { type } = props;\n\n    if (regex.test(switchType)) {\n      return type === \"listType\";\n    }\n    return switchType === type;\n  });\n  return child || <></>;\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {},\n    name: {\n      display: \"inline-block\",\n      margin: \"0 2px\",\n      transform: \"scale(0.8)\",\n    },\n    definition: {\n      marginBottom: 12,\n      marginLeft: \"2.7rem\",\n      width: \"75ch\",\n    },\n    saveButton: {\n      width: \"max-content\",\n      height: \"max-content\",\n    },\n    enumeratedList: {\n      maxHeight: \"15rem\",\n      width: \"100%\",\n      overflowY: \"scroll\",\n    },\n  })\n);\n","import * as Yup from \"yup\";\n\nexport const customiseAttributeSchema = Yup.object().shape({\n  optionalToMandatory: Yup.boolean(),\n  stringTo: Yup.string().oneOf([\"list\", \"pattern\"]),\n  minInteger: Yup.number()\n    .min(0, \"Value must be grater than or equal to zero\")\n    .typeError(\"Only an integer value allowed\")\n    .integer(\"Only an integer value allowed\"),\n  maxInteger: Yup.number()\n    .positive(\"Value must be grater than zero\")\n    .typeError(\"Only an integer value allowed\")\n    .integer(\"Only an integer value allowed\")\n    .test({\n      name: \"minInteger\",\n      exclusive: false,\n      message: \"Value must be grater than the minimum value\",\n      params: {},\n      test: function (value) {\n        if (value && this.parent.minInteger) {\n          return value > this.parent.minInteger;\n        }\n        return true;\n      },\n    }),\n  // pattern: Yup.string().test({\n  //   name: \"stringTo\",\n  //   exclusive: false,\n  //   message: \"Must provide a regular expression for the pattern\",\n  //   params: {},\n  //   test: function (value) {\n  //     if (this.parent.stringTo === \"pattern\") {\n  //       return !!value;\n  //     }\n  //     return true;\n  //   },\n  // }),\n\n  // \"pattern.regex\": Yup.string().test({\n  //   name: \"stringTo\",\n  //   exclusive: false,\n  //   message: \"Must provide a regular expression for the pattern\",\n  //   params: {},\n  //   test: function (value) {\n  //     if (this.parent.stringTo === \"pattern\") {\n  //       console.log(\"value@\", value);\n  //       return !!value;\n  //     }\n  //     return true;\n  //   },\n  // }),\n\n  pattern: Yup.object({\n    regex: Yup.string(),\n    definition: Yup.string(),\n  }).test({\n    name: \"stringTo\",\n    exclusive: false,\n    message: \"Must provide a valid regular expression for the pattern\",\n    params: {},\n    test: function (value) {\n      if (this.parent.stringTo === \"pattern\") {\n        console.log(\"value\", value);\n        if (!value.regex) return false;\n        try {\n          return !!new RegExp(value.regex);\n        } catch (error) {\n          return false;\n        }\n      }\n      return true;\n    },\n  }),\n});\n","import React from \"react\";\nimport Radio, { RadioProps } from \"@material-ui/core/Radio\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { FieldAttributes, useField } from \"formik\";\n\ntype AppRadioButtonType = { label: string } & RadioProps & FieldAttributes<{}>;\n\nexport const AppRadioButton: React.FC<AppRadioButtonType> = ({\n  label,\n  onSelect,\n  ...props\n}) => {\n  const [field] = useField<{}>(props);\n  return (\n    <FormControlLabel\n      {...field}\n      control={<Radio onSelect={onSelect} color=\"primary\" />}\n      label={label}\n    />\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n      marginBottom: \"0.5rem\",\n      width: \"100%\",\n    },\n    helperText: {\n      width: \"20rem\",\n      padding: \"0.5rem 0.2rem\",\n      position: \"absolute\",\n      background: \"#fff8e1\",\n      borderColor: theme.palette.error.main,\n      borderStyle: \"solid\",\n      borderWidth: \"0.1rem\",\n      borderRadius: \"0.2rem\",\n      zIndex: 20,\n      boxSizing: \"border-box\",\n      // marginTop: \"2.7rem\",\n    },\n  })\n);\n","import Collapse from \"@material-ui/core/Collapse\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { FormikState, useFormikContext } from \"formik\";\nimport React from \"react\";\nimport { StringTypeAttributeType } from \"../../../../models/customisationTypes\";\nimport { AppRadioButton } from \"../../../formik-mterial-ui/AppRadioButton\";\nimport { AppTextField } from \"../../../formik-mterial-ui/AppTextField\";\n\nimport { useStyles } from \"./stringToPatternStyle\";\n\ninterface IStringToPattern {\n  resetForm: (\n    nextState?: Partial<FormikState<StringTypeAttributeType>> | undefined\n  ) => void;\n}\n\nexport const StringToPattern: React.FC<IStringToPattern> = ({ resetForm }) => {\n  const classes = useStyles();\n  const {\n    values,\n    errors,\n    touched,\n  } = useFormikContext<StringTypeAttributeType>();\n  return (\n    <Paper style={{ padding: \"0.5rem\", margin: \"0.5rem 0.2rem\" }}>\n      <div className={classes.container}>\n        <AppRadioButton\n          name=\"stringTo\"\n          type=\"radio\"\n          value=\"pattern\"\n          label=\"String To Pattern\"\n        />\n        <Collapse\n          style={{ width: \"100%\", marginTop: \"0.5rem\" }}\n          onExit={() =>\n            resetForm({\n              values: {\n                ...values,\n                pattern: { ...values.pattern, regex: \"\", definition: \"\" },\n              },\n            })\n          }\n          in={values.stringTo === \"pattern\"}\n        >\n          {/* <FormHelperText error={!!errors.pattern}>\n            {errors.pattern}\n          </FormHelperText> */}\n          <div>\n            <AppTextField\n              variant=\"outlined\"\n              size=\"small\"\n              label=\"Regex Expression\"\n              name=\"pattern.regex\"\n              placeholder=\"Regex Expression\"\n              // value={values.pattern?.regex}\n            />\n\n            {touched.pattern && errors.pattern ? (\n              <FormHelperText\n                className={classes.helperText}\n                error={!!errors.pattern}\n              >\n                {errors.pattern}\n              </FormHelperText>\n            ) : null}\n          </div>\n          <div style={{ marginTop: \"0.5rem\" }}>\n            <AppTextField\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              label=\"Regex Definition\"\n              name=\"pattern.definition\"\n              placeholder=\"Regex Definition\"\n              // value={values.pattern?.definition}\n            />\n          </div>\n        </Collapse>\n      </div>\n    </Paper>\n  );\n};\n","import * as Yup from \"yup\";\n\nexport const stringToEnumeratedListSchema = Yup.object().shape({\n  definition: Yup.string()\n    .required()\n    .matches(/^[a-zA-Z0-9 '\"%]*$/, {\n      message: \"Only alphanumerical values, % and quotes are allowed\",\n    })\n    .min(3),\n  name: Yup.string()\n    .required()\n    .matches(/^[a-zA-Z0-9 '\"%]*$/, {\n      message: \"Only alphanumerical values, % and quotes are allowed\",\n    })\n    .min(3),\n});\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      error: {\n        position: \"fixed\",\n      },\n    },\n    header: {\n      display: \"flex\",\n      padding: theme.spacing(0.5, 1, 1.5),\n      justifyContent: \"space-between\",\n      backgroundColor: \"#fff8e1\",\n      marginBottom: \"0.2rem\",\n      borderRadius: \"0.1rem\",\n      alignItems: \"center\",\n    },\n    textField: {\n      backgroundColor: \"#fff\",\n    },\n  })\n);\n","import React from \"react\";\nimport { Formik, useFormikContext } from \"formik\";\nimport { stringToEnumeratedListSchema } from \"./stringToListHeaderSchema\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { AppTextField } from \"../../../formik-mterial-ui/AppTextField\";\nimport ControlPointRoundedIcon from \"@material-ui/icons/ControlPointRounded\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport { useStyles } from \"./stringToListHeaderStyle\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\n\ninterface ITypeFormikValue {\n  optionalToMandatory: boolean;\n  stringTo: string;\n  enumerations: { definition: string; name: string }[];\n}\n\nexport const StringToListHeader: React.FC = () => {\n  const classes = useStyles();\n  const [nameAlert, setNameAlert] = React.useState(false);\n  const { getFieldHelpers, values } = useFormikContext<ITypeFormikValue>();\n  return (\n    <Formik\n      initialValues={{ definition: \"\", name: \"\", enumList: [] }}\n      onSubmit={(val, { resetForm }) => {\n        if (values.enumerations.some((e) => e.name === val.name)) {\n          setNameAlert(true);\n          return;\n        }\n\n        const valuesCopy = [...values.enumerations];\n        valuesCopy.push(val);\n        getFieldHelpers(\"enumerations\").setValue(valuesCopy);\n        resetForm();\n      }}\n      validationSchema={stringToEnumeratedListSchema}\n    >\n      {(formik) => (\n        <Paper className={classes.header}>\n          <Grid container alignItems=\"center\" spacing={3}>\n            <Grid item xs={12} sm={5}>\n              <AppTextField\n                className={classes.textField}\n                fullWidth\n                size=\"small\"\n                variant=\"outlined\"\n                name=\"name\"\n                placeholder=\"Name\"\n                label=\"Name\"\n              />\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              <AppTextField\n                className={classes.textField}\n                size=\"small\"\n                fullWidth\n                variant=\"outlined\"\n                name=\"definition\"\n                placeholder=\"Definition\"\n                label=\"Definition\"\n              />\n            </Grid>\n            <Grid item xs={12} sm={2}>\n              <IconButton\n                onClick={formik.submitForm}\n                color=\"primary\"\n                aria-label=\"delete\"\n              >\n                <ControlPointRoundedIcon fontSize=\"large\" />\n              </IconButton>\n            </Grid>\n            <Snackbar\n              anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\n              open={nameAlert}\n              autoHideDuration={2000}\n              onClose={() => setNameAlert(false)}\n            >\n              <Alert onClose={() => setNameAlert(false)} severity=\"error\">\n                <strong>Duplicated Name</strong>\n                <em>{`\"${formik.values.name}\"`}</em>\n                already exist!\n              </Alert>\n            </Snackbar>\n          </Grid>\n        </Paper>\n      )}\n    </Formik>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    name: {\n      display: \"inline-block\",\n      margin: \"0 2px\",\n      transform: \"scale(0.8)\",\n    },\n    definition: {\n      marginBottom: 12,\n      marginLeft: \"2.7rem\",\n      width: \"75ch\",\n    },\n    root: {\n      width: \"100%\",\n    },\n    row: {\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"center\",\n    },\n  })\n);\n","import Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport RemoveCircleOutlineRoundedIcon from \"@material-ui/icons/RemoveCircleOutlineRounded\";\nimport React from \"react\";\nimport { useStyles } from \"./stringToListBodyStyle\";\n\ninterface IStringToListBody {\n  idx: number;\n  remove: (idx: number) => void;\n  name: string;\n  definition: string;\n}\n\nexport const StringToListBody: React.FC<IStringToListBody> = ({\n  idx,\n  remove,\n  name,\n  definition,\n}) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <div className={classes.row}>\n        <IconButton\n          onClick={() => remove(idx)}\n          color=\"secondary\"\n          aria-label=\"delete\"\n        >\n          <RemoveCircleOutlineRoundedIcon fontSize=\"default\" />\n        </IconButton>\n\n        <Typography variant=\"h5\" component=\"h2\">\n          {name}\n        </Typography>\n      </div>\n\n      <div>\n        <Typography className={classes.definition} color=\"textSecondary\">\n          {definition}\n        </Typography>\n      </div>\n      <Divider />\n    </div>\n  );\n};\n","import { Customiser } from \"./Customiser\";\nimport { StringTypeAttributeType } from \"./customisationTypes\";\n\nexport class StringTypeAttributeCustomiser extends Customiser {\n  object = {} as StringTypeAttributeType;\n  constructor(\n    customisation: Element | undefined = undefined,\n    path?: string,\n    values?: StringTypeAttributeType\n  ) {\n    super(customisation, path);\n    this.object = values || {\n      optionalToMandatory: false,\n      pattern: { regex: \"\", definition: \"\" },\n      stringTo: \"\",\n      excerpt: \"\",\n      heading: \"\",\n      documentation: \"\",\n      enumerations: [],\n    };\n  }\n\n  customise() {\n    const {\n      enumerations,\n      optionalToMandatory,\n      pattern,\n      stringTo,\n      documentation,\n      excerpt,\n    } = this.object;\n\n    if (\n      !enumerations.length &&\n      !pattern &&\n      !optionalToMandatory &&\n      !stringTo &&\n      !documentation &&\n      !excerpt\n    ) {\n      this.removeCustomisedItem();\n      return;\n    }\n    this.excerpt = excerpt ? excerpt : \"\";\n    this.documentation = documentation ? documentation : \"\";\n    this.removeCustomisedItem();\n    this.itemPath();\n    this.customPattern();\n    this.setInLineAttributes();\n    this.customExcerpt();\n    this.customDocumentation();\n    this.customEnumeration();\n    this.customisation.append(this.customiseItem);\n  }\n\n  customEnumeration() {\n    if (!this.object.enumerations.length) return;\n    const doc = Customiser.docStub();\n    this.object.enumerations.forEach(({ definition, name }, idx) => {\n      const enumeration = doc.createElement(\"Enumeration\");\n      enumeration.textContent = name.trim();\n      enumeration.setAttribute(\"Definition\", definition);\n      this.customiseItem.append(enumeration);\n    });\n  }\n  customPattern() {\n    if (this.object.stringTo !== \"pattern\") return;\n    const doc = Customiser.docStub();\n    const pattern = doc.createElement(\"Pattern\");\n    if (this.object.pattern) {\n      const { regex, definition } = this.object.pattern;\n      if (regex) {\n        pattern.textContent = regex?.toString();\n      }\n      if (definition) {\n        pattern.setAttribute(\"Definition\", definition);\n      }\n    }\n    this.customiseItem.append(pattern);\n  }\n\n  setInLineAttributes() {\n    const {\n      optionalToMandatory,\n      stringTo,\n      enumerations,\n      heading,\n    } = this.object;\n    if (heading) {\n      this.customiseItem.setAttribute(\"customHeading\", heading);\n    }\n    if (optionalToMandatory) {\n      this.customiseItem.setAttribute(\"OptionalToMandatory\", \"Yes\");\n    }\n    if (stringTo === \"pattern\") {\n      this.customiseItem.setAttribute(\"StringToPattern\", \"Yes\");\n      return;\n    }\n    if (stringTo === \"list\" && enumerations.length) {\n      this.customiseItem.setAttribute(\"StringToList\", \"Yes\");\n      return;\n    }\n  }\n\n  customisedObject() {\n    const customisedAttr = this.getCustomisedItem()?.parentElement;\n    if (!customisedAttr) return this.object;\n    customisedAttr.getAttributeNames().forEach((att, idx) => {\n      switch (att) {\n        case \"customHeading\": {\n          this.object.heading =\n            customisedAttr.getAttribute(\"customHeading\") || \"\";\n          break;\n        }\n        case \"OptionalToMandatory\": {\n          this.object.optionalToMandatory = true;\n          break;\n        }\n        case \"StringToPattern\": {\n          this.object.stringTo = \"pattern\";\n          break;\n        }\n        case \"StringToList\": {\n          this.object.stringTo = \"list\";\n          break;\n        }\n        default:\n          break;\n      }\n    });\n    Array.prototype.forEach.call(customisedAttr.children, (child: Element) => {\n      switch (child.localName) {\n        case \"Enumeration\":\n          const name = child.textContent?.trim();\n          const definition = child.getAttribute(\"Definition\");\n          if (!name || !definition) return;\n          this.object.enumerations.push({ name, definition });\n          break;\n        case \"CustomExcerpt\":\n          const excerpt = child.textContent?.trim();\n          this.object.excerpt = excerpt ? excerpt : \"\";\n          break;\n        case \"CustomDocumentation\":\n          const documentation = child.textContent?.trim();\n          this.object.documentation = documentation ? documentation : \"\";\n          break;\n        case \"Pattern\":\n          const pattern = child.textContent?.trim();\n          const regexDefinition = child.getAttribute(\"Definition\") || \"\";\n          this.object.pattern = {\n            regex: pattern ? pattern : \"\",\n            definition: regexDefinition,\n          };\n          break;\n        default:\n          break;\n      }\n    });\n    return this.object;\n  }\n}\n","import React from \"react\";\nimport { useStyles } from \"./stringTypeAttributeStyle\";\nimport { FieldArray, Form, Formik } from \"formik\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { customiseAttributeSchema } from \"./stringTypeAttributeSchema\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\n\nimport FormControl from \"@material-ui/core/FormControl\";\n// import { AppTextField } from \"../formik-mterial-ui/AppTextField\";\n\nimport Divider from \"@material-ui/core/Divider\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { useTypedSelector } from \"../../../hooks/useTypeSelector\";\nimport { StringTypeAttributeType } from \"../../../models/customisationTypes\";\nimport { AppCheckBox } from \"../../formik-mterial-ui/AppCheckBox\";\nimport { StringToPattern } from \"./string-to-pattern/StringToPattern\";\nimport { AppRadioButton } from \"../../formik-mterial-ui/AppRadioButton\";\nimport { StringToListHeader } from \"./string-to-list-header/StringToListHeader\";\nimport { StringToListBody } from \"./string-to-list-body/StringToListBody\";\nimport { ExcerptDocumentation } from \"../../excerpt-documentation/ExcerptDocumentation\";\nimport { StringTypeAttributeCustomiser } from \"../../../models/StringTypeAttributeCustomiser\";\n\n// import { CustomIntegerRange } from \"./custom-integer-range/CustomIntegerRange\";\n\ninterface ICustomiseAttribute {\n  lixiItem: LixiBase | undefined;\n  type?: \"stringType\";\n}\n\nexport const StringTypeAttribute: React.FC<ICustomiseAttribute> = ({\n  lixiItem,\n}) => {\n  const classes = useStyles();\n  const { updateCustomisation } = useAction();\n  const { customization } = useTypedSelector((state) => state.customizer);\n  const [\n    initialValue,\n    setInitialValue,\n  ] = React.useState<StringTypeAttributeType>({\n    optionalToMandatory: false,\n    pattern: { regex: \"\", definition: \"\" },\n    stringTo: \"\",\n    excerpt: \"\",\n    documentation: \"\",\n    heading: \"\",\n    enumerations: [],\n  });\n\n  React.useEffect(() => {\n    if (!lixiItem?.path) return;\n    const newCustomisation = new StringTypeAttributeCustomiser(\n      customization,\n      lixiItem?.path\n    );\n    const instruction = newCustomisation.customisedObject();\n    setInitialValue(instruction);\n  }, [customization, lixiItem?.path]);\n\n  return (\n    <Formik\n      initialValues={initialValue}\n      enableReinitialize\n      validationSchema={customiseAttributeSchema}\n      onSubmit={(values, { setSubmitting }) => {\n        console.log(\"values\", values);\n        if (!lixiItem?.path) return;\n        setSubmitting(true);\n        const attCustomiser = new StringTypeAttributeCustomiser(\n          customization,\n          lixiItem?.path,\n          values\n        );\n        attCustomiser.customise();\n        updateCustomisation(attCustomiser.customisation);\n        setTimeout(() => {\n          alert(JSON.stringify(values, null, 2));\n          setSubmitting(false);\n        }, 400);\n      }}\n    >\n      {({ isSubmitting, values, errors, touched, resetForm }) => (\n        <Form>\n          <Paper style={{ padding: \"0.5rem\" }}>\n            <FormControl style={{ width: \"100%\" }}>\n              <Paper style={{ padding: \"0.5rem\", margin: \"0.5rem 0.2rem\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"0.5rem\",\n                  }}\n                >\n                  <AppCheckBox\n                    name=\"optionalToMandatory\"\n                    color=\"primary\"\n                    size=\"medium\"\n                    label=\"Optional To Mandatory\"\n                    checked={values?.optionalToMandatory}\n                    // value={values?.optionalToMandatory}\n                  />\n                  <Button\n                    className={classes.saveButton}\n                    size=\"small\"\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    startIcon={<SaveIcon fontSize=\"large\" />}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </Paper>\n            </FormControl>\n            <Divider />\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-start\",\n                width: \"100%\",\n              }}\n            >\n              <FormControl style={{ width: \"100%\" }}>\n                <StringToPattern resetForm={resetForm} />\n                <Paper style={{ padding: \"0.5rem\", margin: \"0.5rem 0.2rem\" }}>\n                  <AppRadioButton\n                    name=\"stringTo\"\n                    type=\"radio\"\n                    value=\"list\"\n                    label=\"String To Enumerated List\"\n                  />\n\n                  <Collapse\n                    onExit={() =>\n                      resetForm({ values: { ...values, enumerations: [] } })\n                    }\n                    in={values.stringTo === \"list\"}\n                  >\n                    <div style={{ width: \"100%\" }}>\n                      <StringToListHeader />\n                      <FieldArray name=\"enumerations\">\n                        {(arrayHelper) => {\n                          return (\n                            <div className={classes.enumeratedList}>\n                              {values.enumerations.map((e, idx) => {\n                                return (\n                                  <StringToListBody\n                                    key={`${e[\"name\"]}-`}\n                                    idx={idx}\n                                    remove={arrayHelper.remove}\n                                    name={e[\"name\"]}\n                                    definition={e[\"definition\"]}\n                                  />\n                                );\n                              })}\n                            </div>\n                          );\n                        }}\n                      </FieldArray>\n                    </div>\n                  </Collapse>\n                </Paper>\n              </FormControl>\n            </div>\n            <ExcerptDocumentation />\n          </Paper>\n          {/* <pre>{JSON.stringify(values, null, 2)}</pre>\n          <pre>{JSON.stringify(lixiItem?.path, null, 2)}</pre>\n          <pre>{JSON.stringify(errors, null, 2)}</pre> */}\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nStringTypeAttribute.defaultProps = {\n  type: \"stringType\",\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      // backgroundColor: \"#333\",\n      width: \"max-content\",\n      alignItems: \"right\",\n      margin: theme.spacing(0.5, 0, 0, 0),\n    },\n    attributes: {\n      margin: theme.spacing(1.5, 0, 0, 0),\n      padding: \"0.1rem 1rem\",\n      display: \"flex\",\n      // width: \"100%\",\n      justifyContent: \"flex-end\",\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"inline-block\",\n      },\n    },\n    typeAttribute: {\n      cursor: \"pointer\",\n\n      \"&:hover\": {\n        color: theme.palette.primary.light,\n      },\n    },\n    otherAttribute: {\n      cursor: \"not-allowed\",\n    },\n    table: {\n      width: \"max-content\",\n    },\n  })\n);\n","import Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { useStyles } from \"./attributesTransactionsStyle\";\n\ninterface IAttributeTransaction {\n  lixiItem: LixiBase | undefined;\n  type: string | undefined;\n}\n\nexport const ItemAttributes: React.FC<IAttributeTransaction> = ({\n  lixiItem,\n  type,\n}) => {\n  const classes = useStyles();\n  const { searchItem } = useAction();\n  return (\n    <div className={classes.container}>\n      <div className={classes.attributes}>\n        <TableContainer component={Paper}>\n          <Table\n            className={classes.table}\n            size=\"small\"\n            aria-label=\"a dense table\"\n          >\n            <TableBody>\n              {lixiItem?.element.getAttributeNames().map((att, idx) => {\n                return (\n                  <TableRow key={att}>\n                    <TableCell size=\"small\" align=\"right\">\n                      <Typography\n                        color=\"textSecondary\"\n                        align=\"right\"\n                        variant=\"body1\"\n                      >\n                        {`${att}:`}\n                      </Typography>\n                    </TableCell>\n                    <TableCell size=\"small\" align=\"center\">\n                      <Typography\n                        className={\n                          att === \"type\"\n                            ? classes.typeAttribute\n                            : classes.otherAttribute\n                        }\n                        color=\"textPrimary\"\n                        align=\"left\"\n                        variant=\"body2\"\n                        onClick={() =>\n                          att === \"type\" && type ? searchItem(type) : undefined\n                        }\n                      >\n                        <strong>{lixiItem?.element.getAttribute(att)}</strong>\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"secondary\">\n                        <em>\n                          {att === \"type\" && /^[a-zA-Z]+List$/.test(type || \"\")\n                            ? \"Customisable\"\n                            : null}\n                        </em>\n                      </Typography>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n              {lixiItem?.baseRestriction ? (\n                <TableRow key={lixiItem?.baseRestriction}>\n                  <TableCell size=\"small\" align=\"right\">\n                    <Typography\n                      color=\"textSecondary\"\n                      align=\"right\"\n                      variant=\"body1\"\n                    >\n                      base:\n                    </Typography>\n                  </TableCell>\n                  <TableCell size=\"small\" align=\"center\">\n                    <Typography\n                      className={classes.otherAttribute}\n                      color=\"textPrimary\"\n                      align=\"left\"\n                      variant=\"body2\"\n                    >\n                      <strong>{lixiItem?.baseRestriction}</strong>\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              ) : null}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    </div>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      // backgroundColor: \"#333\",\n      width: \"max-content\",\n      alignItems: \"right\",\n      margin: theme.spacing(1.5, 0, 0, 0),\n    },\n    transactions: {\n      margin: theme.spacing(1.5, 0, 0, 0),\n      padding: \"0.1rem 1rem\",\n      display: \"flex\",\n      // width: \"100%\",\n      justifyContent: \"flex-start\",\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"inline-block\",\n      },\n    },\n  })\n);\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Chip from \"@material-ui/core/Chip\";\nimport React from \"react\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { SubSchema } from \"../../../redux/actions/customiser-actions\";\nimport { useStyles } from \"./transactionsStyle\";\n\ninterface ITransactions {\n  lixiItem: LixiBase | undefined;\n  subSchema: SubSchema | undefined;\n}\n\nexport const Transactions: React.FC<ITransactions> = ({\n  lixiItem,\n  subSchema,\n}) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.transactions}>\n      {subSchema &&\n        lixiItem?.transactions?.sort().map((t, idx) => {\n          if (subSchema?.transactionType && subSchema.transactionType !== t) {\n            return (\n              <span style={{ paddingInline: \"0.1rem\" }} key={t}>\n                <Chip\n                  size=\"small\"\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  clickable\n                  label={t}\n                />\n              </span>\n            );\n          } else {\n            return (\n              <span style={{ paddingInline: \"0.1rem\" }} key={t}>\n                <Chip\n                  size=\"small\"\n                  color=\"primary\"\n                  variant=\"default\"\n                  clickable\n                  label={t}\n                  avatar={<Avatar>{t[0]}</Avatar>}\n                />\n              </span>\n            );\n          }\n        })}\n    </div>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    itemLabelDescription: {\n      padding: \"0.1rem\",\n      margin: \"0.5rem\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"inline-block\",\n      },\n    },\n  })\n);\n","import Badge from \"@material-ui/core/Badge\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { SubSchema } from \"../../../redux/actions/customiser-actions\";\nimport { Transactions } from \"../lixi-item-transactions/Transactions\";\nimport { useStyles } from \"./labelDescriptionStyle\";\n\ninterface ILabelDescription {\n  lixiItem: LixiBase | undefined;\n  localName: string | undefined;\n  subSchema: SubSchema | undefined;\n}\n\nexport const LabelDescription: React.FC<ILabelDescription> = ({\n  lixiItem,\n  localName,\n  subSchema,\n}) => {\n  const classes = useStyles();\n  return (\n    <div>\n      <div className={classes.itemLabelDescription}>\n        <Badge\n          color=\"primary\"\n          badgeContent={localName}\n          anchorOrigin={{\n            vertical: \"top\",\n            horizontal: \"right\",\n          }}\n        >\n          <Typography color=\"primary\" variant=\"h4\">\n            {lixiItem?.label}\n          </Typography>\n        </Badge>\n      </div>\n\n      <div style={{ maxWidth: \"75ch\", marginBottom: \"1rem\" }}>\n        <Typography\n          style={{ padding: \"0.1rem 1rem\" }}\n          color=\"textPrimary\"\n          variant=\"body1\"\n        >\n          {lixiItem?.documentation}\n        </Typography>\n        <Divider />\n        <Transactions lixiItem={lixiItem} subSchema={subSchema} />\n      </div>\n    </div>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {},\n    saveButton: {\n      width: \"max-content\",\n      height: \"max-content\",\n    },\n  })\n);\n","import { Customiser } from \"./Customiser\";\nimport { IntegerTypeAttributeType } from \"./customisationTypes\";\n\nexport class ListTypeAttributeCustomiser extends Customiser {\n  object = {} as IntegerTypeAttributeType;\n\n  constructor(\n    customisation: Element | undefined = undefined,\n    path?: string,\n    values?: IntegerTypeAttributeType\n  ) {\n    super(customisation, path);\n    this.object = values || {\n      optionalToMandatory: false,\n      excerpt: \"\",\n      heading: \"\",\n      documentation: \"\",\n    };\n  }\n\n  customise() {\n    const {\n      optionalToMandatory,\n      documentation,\n      excerpt,\n      minInteger,\n      maxInteger,\n    } = this.object;\n    if (\n      !optionalToMandatory &&\n      !minInteger &&\n      !maxInteger &&\n      !documentation &&\n      !excerpt\n    ) {\n      this.removeCustomisedItem();\n      return;\n    }\n    this.excerpt = excerpt ? excerpt : \"\";\n    this.documentation = documentation ? documentation : \"\";\n    this.removeCustomisedItem();\n    this.itemPath();\n    this.setInLineAttributes();\n    this.customExcerpt();\n    this.customDocumentation();\n\n    this.customisation.append(this.customiseItem);\n  }\n\n  setInLineAttributes() {\n    const { optionalToMandatory, heading } = this.object;\n    if (heading) {\n      this.customiseItem.setAttribute(\"customHeading\", heading);\n    }\n    if (optionalToMandatory) {\n      this.customiseItem.setAttribute(\"OptionalToMandatory\", \"Yes\");\n    }\n  }\n\n  customisedObject() {\n    const customisedAttr = this.getCustomisedItem()?.parentElement;\n    if (!customisedAttr) return this.object;\n    customisedAttr.getAttributeNames().forEach((att, idx) => {\n      switch (att) {\n        case \"customHeading\": {\n          this.object.heading =\n            customisedAttr.getAttribute(\"customHeading\") || \"\";\n          break;\n        }\n        case \"OptionalToMandatory\": {\n          this.object.optionalToMandatory = true;\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    Array.prototype.forEach.call(customisedAttr.children, (child: Element) => {\n      switch (child.localName) {\n        case \"CustomExcerpt\":\n          const excerpt = child.textContent?.trim();\n          this.object.excerpt = excerpt ? excerpt : \"\";\n          break;\n        case \"CustomDocumentation\":\n          const documentation = child.textContent?.trim();\n          this.object.documentation = documentation ? documentation : \"\";\n          break;\n        default:\n          break;\n      }\n    });\n    return this.object;\n  }\n}\n","import Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { useTypedSelector } from \"../../../hooks/useTypeSelector\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { ExcerptDocumentation } from \"../../excerpt-documentation/ExcerptDocumentation\";\nimport { AppCheckBox } from \"../../formik-mterial-ui/AppCheckBox\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { useStyles } from \"./listTypeAttributeStyle\";\nimport { ListTypeAttributeType } from \"../../../models/customisationTypes\";\nimport { ListTypeAttributeCustomiser } from \"../../../models/ListTypeAttributeCustomiser\";\n\ninterface ICustomiseListTypeAttribute {\n  lixiItem: LixiBase | undefined;\n  type?: \"listType\";\n}\n\nexport const ListTypeAttribute: React.FC<ICustomiseListTypeAttribute> = ({\n  lixiItem,\n}) => {\n  const classes = useStyles();\n  const { updateCustomisation } = useAction();\n  const { customization } = useTypedSelector((state) => state.customizer);\n  const [initialValue, setInitialValue] = React.useState<ListTypeAttributeType>(\n    {\n      optionalToMandatory: false,\n      excerpt: \"\",\n      documentation: \"\",\n      heading: \"\",\n    }\n  );\n\n  React.useEffect(() => {\n    if (!lixiItem?.path) return;\n    const newCustomisation = new ListTypeAttributeCustomiser(\n      customization,\n      lixiItem?.path\n    );\n    const instruction = newCustomisation.customisedObject();\n    setInitialValue(instruction);\n  }, [customization, lixiItem?.path]);\n\n  return (\n    <Formik\n      initialValues={initialValue}\n      enableReinitialize\n      // validationSchema={integerTypeSchema}\n      onSubmit={(values, { setSubmitting }) => {\n        if (!lixiItem?.path) return;\n        setSubmitting(true);\n        const attCustomiser = new ListTypeAttributeCustomiser(\n          customization,\n          lixiItem?.path,\n          values\n        );\n        attCustomiser.customise();\n        // console.log(\"ci\", attCustomiser.customisation);\n        updateCustomisation(attCustomiser.customisation);\n        setTimeout(() => {\n          alert(JSON.stringify(values, null, 2));\n          setSubmitting(false);\n        }, 400);\n      }}\n    >\n      {({ isSubmitting, values, errors, touched, resetForm }) => (\n        <Form>\n          <Paper style={{ padding: \"0.5rem\" }}>\n            <FormControl style={{ width: \"100%\" }}>\n              <Paper style={{ padding: \"0.5rem\", margin: \"0.5rem 0.2rem\" }}>\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    marginBottom: \"0.5rem\",\n                  }}\n                >\n                  <AppCheckBox\n                    name=\"optionalToMandatory\"\n                    color=\"primary\"\n                    size=\"medium\"\n                    label=\"Optional To Mandatory\"\n                    checked={values?.optionalToMandatory}\n                  />\n                  <Button\n                    className={classes.saveButton}\n                    size=\"small\"\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    startIcon={<SaveIcon fontSize=\"large\" />}\n                  >\n                    Save\n                  </Button>\n                </div>\n              </Paper>\n            </FormControl>\n            <Divider />\n            <ExcerptDocumentation />\n          </Paper>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nListTypeAttribute.defaultProps = {\n  type: \"listType\",\n};\n","import { Theme, createStyles, makeStyles, darken } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {},\n    list: {\n      height: \"40vh\",\n      overflowY: \"scroll\",\n      width: \"100%\",\n      margin: theme.spacing(\"0.5rem\", 0),\n      // border: \"solid red 0.1rem\",\n      paddingTop: \"0\",\n    },\n    subItemHeader: {\n      zIndex: 2,\n      display: \"flex\",\n      width: \"100%\",\n      justifyContent: \"space-between\",\n      backgroundColor: \"#fff8e1\",\n      borderRadius: \"0.2rem\",\n      maxHeight: \"5rem\",\n      color: theme.palette.primary.main,\n      cursor: \"pointer\",\n      \"&:hover\": {\n        backgroundColor: darken(\"#fff8e1\", 0.1),\n        color: theme.palette.text.primary,\n      },\n    },\n    item: {\n      cursor: \"pointer\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.action.hover,\n        color: theme.palette.primary.dark,\n      },\n    },\n\n    selectAllText: {},\n  })\n);\n","import { Customiser } from \"./Customiser\";\nimport { tokenType } from \"./customisationTypes\";\n\nexport class TokenTypeCustomiser extends Customiser {\n  object = {} as tokenType;\n\n  constructor(\n    customisation: Element | undefined = undefined,\n    path?: string,\n    values?: tokenType\n  ) {\n    super(customisation, path);\n    this.object = values || {\n      tokens: [],\n    };\n  }\n\n  customise() {\n    const { tokens, documentation, excerpt, heading } = this.object;\n    if (!tokens.length && !documentation && !excerpt && !heading) {\n      this.removeCustomisedItem();\n      return;\n    }\n    this.excerpt = excerpt ? excerpt : \"\";\n    this.documentation = documentation ? documentation : \"\";\n    this.removeCustomisedItem();\n    this.itemPath();\n    this.setInLineAttributes();\n    this.tokens();\n    this.customExcerpt();\n    this.customDocumentation();\n\n    this.customisation.append(this.customiseItem);\n  }\n\n  setInLineAttributes() {\n    const { tokens, heading } = this.object;\n    if (heading) {\n      this.customiseItem.setAttribute(\"customHeading\", heading);\n    }\n    if (tokens.length) {\n      this.customiseItem.setAttribute(\"Include\", \"Yes\");\n    }\n  }\n\n  tokens() {\n    if (!this.object.tokens.length) return;\n    this.object.tokens.forEach((token: string, idx) => {\n      const doc = Customiser.docStub();\n      const tokenEle = doc.createElement(\"Enumeration\");\n      tokenEle.textContent = token;\n      this.customiseItem.append(tokenEle);\n    });\n  }\n\n  customisedObject() {\n    const customisedAttr = this.getCustomisedItem()?.parentElement;\n    if (!customisedAttr) return this.object;\n    customisedAttr.getAttributeNames().forEach((att, idx) => {\n      switch (att) {\n        case \"customHeading\": {\n          this.object.heading =\n            customisedAttr.getAttribute(\"customHeading\") || \"\";\n          break;\n        }\n        default:\n          break;\n      }\n    });\n\n    Array.prototype.forEach.call(customisedAttr.children, (child: Element) => {\n      switch (child.localName) {\n        case \"CustomExcerpt\":\n          const excerpt = child.textContent?.trim();\n          this.object.excerpt = excerpt ? excerpt : \"\";\n          break;\n        case \"CustomDocumentation\":\n          const documentation = child.textContent?.trim();\n          this.object.documentation = documentation ? documentation : \"\";\n          break;\n        case \"Enumeration\":\n          const token = child.textContent?.trim();\n          if (token) {\n            this.object.tokens.push(token);\n          }\n          break;\n        default:\n          break;\n      }\n    });\n    return this.object;\n  }\n}\n","import Button from \"@material-ui/core/Button\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { FieldArray, Form, Formik } from \"formik\";\nimport React from \"react\";\nimport { tokenType } from \"../../../models/customisationTypes\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { AppCheckBox } from \"../../formik-mterial-ui/AppCheckBox\";\nimport CloseOutlinedIcon from \"@material-ui/icons/CloseOutlined\";\nimport DoneOutlinedIcon from \"@material-ui/icons/DoneOutlined\";\nimport { useStyles } from \"./simpleTokenTypeStyle\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport IndeterminateCheckBoxTwoToneIcon from \"@material-ui/icons/IndeterminateCheckBoxTwoTone\";\nimport { ExcerptDocumentation } from \"../../excerpt-documentation/ExcerptDocumentation\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport { TokenTypeCustomiser } from \"../../../models/TokenTypeCustomiser\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { useTypedSelector } from \"../../../hooks/useTypeSelector\";\ninterface ISimpleTokenType {\n  lixiItem: LixiBase | undefined;\n  baseRestriction?: \"xs:token\";\n}\n\nexport const SimpleTokenType: React.FC<ISimpleTokenType> = ({ lixiItem }) => {\n  const classes = useStyles();\n  const { updateCustomisation } = useAction();\n  const { customization } = useTypedSelector((state) => state.customizer);\n\n  const [initialValue, setInitialValue] = React.useState<tokenType>({\n    tokens: [],\n  });\n\n  const enumerations = React.useMemo(() => {\n    if (!lixiItem?.enumeration?.length) return;\n    const result: string[] = [];\n    lixiItem.enumeration.forEach((e: Element | undefined) => {\n      if (e) {\n        const enumItem = new LixiBase(e).path?.split(\".\").pop();\n        if (!enumItem) return;\n        result.push(enumItem);\n      }\n    });\n    return result;\n  }, [lixiItem?.enumeration]);\n\n  const enumerationAddRemove = (el: string | undefined) => {\n    console.log(initialValue);\n    if (!el) return;\n    const copyOfTokens = [...initialValue.tokens];\n    if (copyOfTokens.includes(el)) {\n      copyOfTokens.splice(copyOfTokens.indexOf(el), 1);\n    } else {\n      copyOfTokens.push(el);\n    }\n    setInitialValue((pre) => ({ ...pre, tokens: copyOfTokens.sort() }));\n  };\n\n  const toggle = () => {\n    const copyToken = [...initialValue.tokens];\n    if (copyToken.length) {\n      setInitialValue((pre) => ({ ...pre, tokens: [] }));\n      return;\n    }\n    if (enumerations?.length) {\n      setInitialValue((pre) => ({ ...pre, tokens: [...enumerations] }));\n    }\n  };\n\n  React.useEffect(() => {\n    if (!lixiItem?.path) return;\n    const newCustomisation = new TokenTypeCustomiser(\n      customization,\n      lixiItem.path\n    );\n    const instruction = newCustomisation.customisedObject();\n    setInitialValue(instruction);\n  }, [customization, lixiItem?.path]);\n\n  return (\n    <Formik\n      initialValues={initialValue}\n      enableReinitialize\n      onSubmit={(values, { setSubmitting }) => {\n        if (!lixiItem?.path) return;\n        setSubmitting(true);\n        const tokeCustomiser = new TokenTypeCustomiser(\n          customization,\n          lixiItem.path,\n          values\n        );\n        tokeCustomiser.customise();\n        updateCustomisation(tokeCustomiser.customisation);\n        // setTimeout(() => {\n        //   alert(JSON.stringify(values, null, 2));\n        //   setSubmitting(false);\n        // }, 400);\n      }}\n    >\n      {({ values }) => (\n        <Form>\n          <Paper style={{ padding: \"0.5rem\" }}>\n            <Grid container spacing={1}>\n              <Grid item xs={12}>\n                <Paper>\n                  <List dense className={classes.list}>\n                    <ListSubheader\n                      title=\"Click To Select All Items\"\n                      className={classes.subItemHeader}\n                      style={{\n                        display: \"flex\",\n                        justifyContent: \"flex-start\",\n                        alignItems: \"center\",\n                      }}\n                    >\n                      <ListItemIcon>\n                        <AppCheckBox\n                          name=\"allSelected\"\n                          checked={\n                            values.tokens.length === enumerations?.length\n                          }\n                          value={\n                            values.tokens.length === enumerations?.length\n                              ? \"all\"\n                              : \"\"\n                          }\n                          disableRipple\n                          onClick={() => toggle()}\n                          checkedIcon={\n                            <DoneOutlinedIcon style={{ color: \"green\" }} />\n                          }\n                          icon={<CloseOutlinedIcon style={{ color: \"red\" }} />}\n                          indeterminateIcon={\n                            <IndeterminateCheckBoxTwoToneIcon color=\"primary\" />\n                          }\n                          indeterminate={\n                            initialValue.tokens.length > 0 &&\n                            initialValue.tokens.length <\n                              (enumerations?.length || 0)\n                          }\n                        />\n                      </ListItemIcon>\n                      <ListItemText\n                        onClick={() => toggle()}\n                        primary=\"Select All Enumerations\"\n                      />\n                      <Button\n                        style={{ alignItems: \"flex-end\" }}\n                        variant=\"contained\"\n                        size=\"small\"\n                        color=\"primary\"\n                        type=\"submit\"\n                      >\n                        save\n                      </Button>\n                    </ListSubheader>\n                    <FieldArray\n                      name=\"tokens\"\n                      render={(arrayHelper) => {\n                        if (!enumerations?.length) return <></>;\n                        return enumerations?.map((el: string | undefined) => {\n                          if (!el) return <></>;\n                          return (\n                            <ListItem\n                              className={classes.item}\n                              divider\n                              onClick={() => enumerationAddRemove(el)}\n                              key={el}\n                            >\n                              <ListItemIcon>\n                                <AppCheckBox\n                                  name=\"tokens\"\n                                  checked={values?.tokens.includes(el)}\n                                  disableRipple\n                                  value={values?.tokens.includes(el) ? el : \"\"}\n                                  checkedIcon={\n                                    <DoneOutlinedIcon\n                                      style={{ color: \"green\" }}\n                                      fontSize=\"small\"\n                                    />\n                                  }\n                                  icon={\n                                    <CloseOutlinedIcon\n                                      fontSize=\"small\"\n                                      style={{ color: \"red\" }}\n                                    />\n                                  }\n                                />\n                              </ListItemIcon>\n                              <ListItemText>{el}</ListItemText>\n                            </ListItem>\n                          );\n                        });\n                      }}\n                    />\n                  </List>\n                </Paper>\n              </Grid>\n              <Grid item xs={12}>\n                <ExcerptDocumentation />\n              </Grid>\n              <Grid item xs={12}>\n                <Box\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"flex-end\",\n                    margin: \"0.5rem\",\n                  }}\n                ></Box>\n              </Grid>\n            </Grid>\n          </Paper>\n          {/* <pre>{JSON.stringify(values, null, 2)}</pre> */}\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nSimpleTokenType.defaultProps = {\n  baseRestriction: \"xs:token\",\n};\n","import React from \"react\";\ninterface ISwitchSimpleType {\n  switchBase: string;\n  children: React.ReactElement<{\n    baseRestriction: \"xs:token\";\n  }>[];\n}\nexport const SwitchSimpleType: React.FC<ISwitchSimpleType> = ({\n  children,\n  switchBase,\n}) => {\n  const child = children.find(({ props }) => {\n    const { baseRestriction } = props;\n    return switchBase === baseRestriction;\n  });\n  return child || <></>;\n};\n","import {\n  Badge,\n  Box,\n  Button,\n  Checkbox,\n  Chip,\n\n  Divider,\n  FormControlLabel,\n  List,\n  ListItem,\n  ListSubheader,\n  Typography\n} from \"@material-ui/core\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\nimport DoneOutlinedIcon from \"@material-ui/icons/DoneOutlined\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useAction } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\nimport { Customiser } from \"../../models/Customiser\";\nimport { ElementCustomiser } from \"../../models/ElementCustomiser\";\nimport { LixiBase } from \"../../models/LixiBase\";\n// import { CustomiseAttribute } from \"../customise-attribute/CustomiseAttribute\";\nimport { CustomiseElement } from \"../customise-element/CustomiseElement\";\nimport { useStyles } from \"./lixiItemStyle\";\nimport Alert from '@material-ui/lab/Alert';\nimport { IntegerTypeAttribute } from \"../customise-attribute/integer-type-attribute/IntegerTypeAttribute\";\nimport { SwitchAttributeType } from \"./AttributeSwitchType\";\nimport { StringTypeAttribute } from \"../customise-attribute/string-type-attribute/StringTypeAttribute\";\nimport { ItemAttributes } from \"./lixi-item-attributes/ItemAttributes\";\nimport { LabelDescription } from \"./lixi-item-label-description/LabelDescription\";\nimport { ListTypeAttribute } from \"../customise-attribute/list-type-attribute/ListTypeAttribute\";\nimport { SimpleTokenType } from \"../customise-simple-type/simple-token-type/SimpleTokenType\";\nimport { SwitchSimpleType } from \"./SimpleTypeSwitchType\";\n\n\ninterface ItemType {\n  item: Element | null | undefined;\n}\nexport const LixiItem: React.FC<ItemType | undefined> = ({ item }) => {\n  const classes = useStyles();\n\n  const [openToCustomise, setOpenToCustomise] = useState<boolean>(false);\n  const [alert, setAlert] = useState<{ included: boolean; path: string }>();\n  const [lixiItem, setLixiItem] = useState<LixiBase>();\n  const [exclude, setExclude] = useState(false);\n  const { customization, subSchema } = useTypedSelector(\n    (state) => state.customizer\n  );\n  const { searchItem, updateCustomisation } = useAction();\n\n  const localName = React.useMemo(() => {\n    return lixiItem?.element?.localName;\n  }, [lixiItem]);\n\n  const type = React.useMemo(() => {\n    return lixiItem?.element?.getAttribute(\"type\")||\"\";\n  }, [lixiItem]);\n  const baseRestriction = React.useMemo(() => {\n    return lixiItem?.baseRestriction || \"\";\n  }, [lixiItem]);\n\n\n\n  useEffect(() => {\n    if (item) {\n      const ele: LixiBase = new LixiBase(item);\n      setLixiItem(ele);\n      return\n    }\n    \n  }, [item, customization]);\n\n  const onExclude = () => {\n    if (!lixiItem?.path) return;\n    const excluded = !exclude;\n    setExclude(excluded);\n    const newCustomisation = new Customiser(customization, lixiItem?.path);\n    if (excluded) {\n      newCustomisation.exclude();\n    } else {\n      newCustomisation.include();\n    }\n    updateCustomisation(newCustomisation.customisation);\n  };\n\n  useEffect(()=>{\n    if (lixiItem?.path === \"Package\"){\n      setOpenToCustomise(true)\n    }\n  },[lixiItem?.path])\n\n  useEffect(() => {\n    if (exclude) return;\n    if (lixiItem?.path) {\n      const customiser = new Customiser(customization, lixiItem?.path);\n      setExclude(!!customiser.ExcludedItem());\n    }\n  }, [customization, lixiItem?.path, exclude]);\n\n  useEffect(() => {\n    if (!lixiItem?.element.localName || !lixiItem?.path || !customization)\n      return;\n    const parentCustomised = ElementCustomiser.parentCustomised(\n      lixiItem?.path,\n      customization,\n      lixiItem.element.localName\n    );\n    if (parentCustomised) {\n      setAlert(parentCustomised);\n    }\n  }, [customization, lixiItem?.path, lixiItem?.element.localName]);\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Paper style={{ marginTop: \"0.5rem\", padding: \"0.5rem 0.5rem\" }}>\n          <Grid item xs={12}>\n            <Paper>\n              {!alert || alert?.included ? (\n                <div className={classes.header}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        icon={\n                          <DoneOutlinedIcon\n                            style={{ color: \"green\" }}\n                            fontSize=\"small\"\n                          />\n                        }\n                        checkedIcon={<CloseOutlinedIcon fontSize=\"small\" />}\n                        onChange={onExclude}\n                        checked={exclude}\n                        disabled={alert?.included}\n                        name=\"checkedI\"\n                      />\n                    }\n                    label={exclude ? \"Excluded\" : \"Include\"}\n                  />\n\n                  <Button\n                    disabled={exclude}\n                    style={{ height: \"max-content\", width: \"min-content\" }}\n                    onClick={() => setOpenToCustomise((pre) => !pre)}\n                    startIcon={<SettingsOutlinedIcon />}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                  >\n                    Customise\n                  </Button>\n                </div>\n              ) : (\n                <Alert\n                  variant=\"standard\"\n                  severity=\"warning\"\n                  action={\n                    <Button\n                      className={classes.alert}\n                      variant=\"contained\"\n                      size=\"small\"\n                      onClick={() => searchItem(alert?.path || \"\")}\n                    >\n                      see parent\n                    </Button>\n                  }\n                >\n                  This item excluded via its parent:{\" \"}\n                  {\n                    <em>\n                      <strong>{alert?.path.split(\".\").pop()}</strong>\n                    </em>\n                  }\n                </Alert>\n              )}\n            </Paper>\n          </Grid>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignContent: \"center\",\n            }}\n          >\n            <LabelDescription\n              lixiItem={lixiItem}\n              localName={item?.localName}\n              subSchema={subSchema}\n            />\n            <ItemAttributes lixiItem={lixiItem} type={type} />\n          </div>\n\n          {lixiItem?.references ? (\n            <div>\n              <Divider />\n              <List dense subheader={<ListSubheader>References</ListSubheader>}>\n                <Divider />\n                {lixiItem.references.map((r, idx) => {\n                  return (\n                    <Fragment key={`${idx}_${r}`}>\n                      <ListItem component=\"li\">\n                        <Typography variant=\"body1\">{r}</Typography>\n                      </ListItem>\n                    </Fragment>\n                  );\n                })}\n              </List>\n            </div>\n          ) : undefined}\n        </Paper>\n      </Grid>\n      <Grid item xs={12}>\n        <Collapse in={!exclude && openToCustomise}>\n          {localName === \"element\" ? (\n            <CustomiseElement lixiItem={lixiItem} />\n          ) : undefined}\n\n          {localName === \"attribute\" ? (\n            <SwitchAttributeType switchType={type}>\n              <IntegerTypeAttribute lixiItem={lixiItem} />\n              <StringTypeAttribute lixiItem={lixiItem} />\n              <ListTypeAttribute lixiItem={lixiItem} />\n            </SwitchAttributeType>\n          ) : null}\n\n          {localName === \"simpleType\" ? (\n            <SwitchSimpleType switchBase={baseRestriction}>\n              <div></div>\n              <SimpleTokenType lixiItem={lixiItem} />\n            </SwitchSimpleType>\n          ) : null}\n        </Collapse>\n      </Grid>\n    </Grid>\n  );\n};\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      // display: \"flex\",\n      // justifyContent: \"center\",\n      paddingLeft: \"0.5rem\",\n      borderLeft: \"solid 0.5rem #3f51b5\",\n      borderRadius: \"0.2rem\",\n    },\n    link: {\n      display: \"flex\",\n      cursor: \"pointer\",\n      color: theme.palette.primary.dark,\n      \"&:hover\": {\n        backgroundColor: \"#fff8e1\",\n        borderBottom: \"solid 0.1rem #3f51b5\",\n      },\n    },\n    icon: {\n      marginRight: theme.spacing(0.25),\n      color: theme.palette.primary.dark,\n      width: 20,\n      height: 20,\n    },\n    leafLink: {\n      color: theme.palette.primary.main,\n      \"&:hover\": {\n        backgroundColor: \"#fff8e1\",\n      },\n    },\n  })\n);\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport { useStyles } from \"./breadCrumbsStyle\";\nimport { useAction } from \"../../hooks/useActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport FindInPageIcon from \"@material-ui/icons/FindInPage\";\nimport Paper from \"@material-ui/core/Paper\";\n\ninterface BreadCrumbsType {\n  pathSections: string[] | undefined;\n  iconClickHandler: () => void;\n}\n\nexport const IconBreadcrumbs: React.FC<BreadCrumbsType> = (\n  props: BreadCrumbsType\n) => {\n  const classes = useStyles();\n  const { searchItem } = useAction();\n  const handleClick = (\n    event: React.MouseEvent<HTMLParagraphElement, MouseEvent>\n  ) => {\n    event.preventDefault();\n    if (!props.pathSections?.length) return;\n    const pathArr = [...props.pathSections];\n    const index = props.pathSections.indexOf(event.currentTarget.innerHTML);\n    if (index === 0) {\n      searchItem(\"Package\");\n      return;\n    }\n    if (!index) return;\n    for (let i = pathArr.length; i > index + 1; i--) {\n      pathArr?.pop();\n    }\n    searchItem(pathArr?.join(\".\"));\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n        }}\n      >\n        <Breadcrumbs\n          separator={<ArrowForwardIosIcon className={classes.icon} />}\n          aria-label=\"breadcrumb\"\n        >\n          {props.pathSections?.map((section, idx) => {\n            return (\n              <Typography\n                onClick={(\n                  e: React.MouseEvent<HTMLParagraphElement, MouseEvent>\n                ) => handleClick(e)}\n                color=\"textSecondary\"\n                key={idx}\n                className={classes.link}\n              >\n                {section}\n              </Typography>\n            );\n          })}\n          <IconButton\n            onClick={props.iconClickHandler}\n            aria-label=\"delete\"\n            className={classes.leafLink}\n            size=\"medium\"\n          >\n            <FindInPageIcon fontSize=\"inherit\" />\n          </IconButton>\n        </Breadcrumbs>\n      </div>\n    </Paper>\n  );\n};\n","import { useTheme, useMediaQuery, ListSubheader } from \"@material-ui/core\";\nimport React from \"react\";\nimport { ListChildComponentProps, VariableSizeList } from \"react-window\";\n\nconst LISTBOX_PADDING = 8; // px\n\nfunction renderRow(props: ListChildComponentProps) {\n  const { data, index, style } = props;\n  return React.cloneElement(data[index], {\n    style: {\n      ...style,\n      top: (style.top as number) + LISTBOX_PADDING,\n    },\n  });\n}\n\nconst OuterElementContext = React.createContext({});\n\nconst OuterElementType = React.forwardRef<HTMLDivElement>((props, ref) => {\n  const outerProps = React.useContext(OuterElementContext);\n  return <div ref={ref} {...props} {...outerProps} />;\n});\n\nfunction useResetCache(data: any) {\n  const ref = React.useRef<VariableSizeList>(null);\n  React.useEffect(() => {\n    if (ref.current != null) {\n      ref.current.resetAfterIndex(0, true);\n    }\n  }, [data]);\n  return ref;\n}\n\n// Adapter for react-window\nexport const ListboxComponent = React.forwardRef<HTMLDivElement>(\n  function ListboxComponent(props, ref) {\n    const { children, ...other } = props;\n    const itemData = React.Children.toArray(children);\n    const theme = useTheme();\n    const smUp = useMediaQuery(theme.breakpoints.up(\"sm\"), { noSsr: true });\n    const itemCount = itemData.length;\n    const itemSize = smUp ? 36 : 48;\n\n    const getChildSize = (child: React.ReactNode) => {\n      if (React.isValidElement(child) && child.type === ListSubheader) {\n        return 48;\n      }\n\n      return itemSize;\n    };\n\n    const getHeight = () => {\n      if (itemCount > 8) {\n        return 8 * itemSize;\n      }\n      return itemData.map(getChildSize).reduce((a, b) => a + b, 0);\n    };\n\n    const gridRef = useResetCache(itemCount);\n\n    return (\n      <div ref={ref}>\n        <OuterElementContext.Provider value={other}>\n          <VariableSizeList\n            itemData={itemData}\n            height={getHeight() + 2 * LISTBOX_PADDING}\n            width=\"100%\"\n            ref={gridRef}\n            outerElementType={OuterElementType}\n            innerElementType=\"ul\"\n            itemSize={(index) => getChildSize(itemData[index])}\n            overscanCount={5}\n            itemCount={itemCount}\n          >\n            {renderRow}\n          </VariableSizeList>\n        </OuterElementContext.Provider>\n      </div>\n    );\n  }\n);\n","import { makeStyles, createStyles, Theme } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    listbox: {\n      boxSizing: \"border-box\",\n\n      \"& ul\": {\n        padding: 0,\n        margin: 0,\n        \"& li:hover\": {\n          borderBottom: \"solid #444 0.05rem\",\n          backgroundColor: theme.palette.primary.light,\n          color: theme.palette.primary.contrastText,\n        },\n       \n      },\n    },\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\",\n      marginTop: \"0rem\",\n    },\n   \n  })\n);\n","import { CircularProgress, Typography } from \"@material-ui/core\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Slide from \"@material-ui/core/Slide\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport { useAction } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\nimport { LixiBase } from \"../../models/LixiBase\";\nimport { XmlUtil } from \"../../util/nameSpaces\";\nimport { IconBreadcrumbs } from \"../breadCrumbs/breadCrumbsComponent\";\nimport { ListboxComponent } from \"./listBoxComponent\";\nimport { useStyles } from \"./searchPathStyle\";\n\nexport const SearchPath: React.FC = () => {\n  const classes = useStyles();\n  const { searchItem } = useAction();\n  // const [path, setPath] = useState<string>();\n  const [options, setOptions] = useState<string[] | null>([]);\n  const [showSearchBox, setShowSearchBox] = useState<boolean>(true);\n  const {  schema } = useTypedSelector((state) => state.schema);\n  const { data,loading } = useTypedSelector((state) => state.item);\n  const { subSchema } = useTypedSelector((state) => state.customizer);\n  const _loading = loading || options?.length === 0;\n\n  const path = React.useMemo(() => {\n    if (!data) return;\n    const newItem = new LixiBase(data);\n    return newItem?.path;\n  }, [data]);\n\n  React.useEffect(() => {\n    if (!data && !loading && schema) {\n      searchItem(\"Package\");\n      return;\n    }\n  }, [data, loading, schema, searchItem]);\n\n  useEffect(() => {\n    if (data) {\n      setShowSearchBox(false);\n    }\n  },  [data]);\n\n  useEffect(() => {\n    const lixiItems = (): Promise<string[]> => {\n      return new Promise((resolves, rejects) => {\n        if (!schema) return;\n        const xmlUtile = new XmlUtil(schema);\n        if (subSchema?.transactionType) {\n          const allPath = xmlUtile.getPathOfAllItemsInATransaction(\n            subSchema.transactionType\n          );\n          resolves(allPath);\n        }\n      });\n    };\n\n    (async () => {\n      setOptions([]);\n      setOptions(await lixiItems());\n    })();\n  }, [subSchema?.transactionType, schema]);\n\n  const onSubmit = (\n    event: React.ChangeEvent<{}> | React.FormEvent<HTMLFormElement>,\n    searchText: string | null\n  ) => {\n    event.preventDefault();\n\n    if (searchText) {\n      searchItem(searchText);\n      setShowSearchBox(false);\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        {!data || showSearchBox ? (\n          <Slide\n            direction=\"down\"\n            in={showSearchBox}\n            mountOnEnter\n            unmountOnExit\n            {...(showSearchBox ? { timeout: 500 } : {})}\n          >\n            <Paper className={classes.root}>\n              <Autocomplete\n                id=\"virtualize-demo\"\n                onChange={(event, option) => onSubmit(event, option)}\n                disableListWrap\n                classes={classes}\n                autoComplete={true}\n                includeInputInList\n                loading={_loading}\n                ListboxComponent={\n                  ListboxComponent as React.ComponentType<\n                    React.HTMLAttributes<HTMLElement>\n                  >\n                }\n                options={options || []}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    style={{ alignItems: \"center\" }}\n                    variant=\"outlined\"\n                    label=\"LIXI Item Path\"\n                    InputProps={{\n                      ...params.InputProps,\n                      fullWidth: true,\n                      endAdornment: (\n                        <React.Fragment>\n                          {loading ? (\n                            <CircularProgress color=\"inherit\" size={20} />\n                          ) : null}\n                          {params.InputProps.endAdornment}\n                        </React.Fragment>\n                      ),\n                    }}\n                  />\n                )}\n                renderOption={(option) => (\n                  <Typography noWrap>{option}</Typography>\n                )}\n              />\n            </Paper>\n          </Slide>\n        ) : (\n          <IconBreadcrumbs\n            iconClickHandler={() => setShowSearchBox(true)}\n            pathSections={path?.split(\".\")}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","import Box from \"@material-ui/core/Box\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport { useAction } from \"../../../hooks/useActions\";\nimport { useTypedSelector } from \"../../../hooks/useTypeSelector\";\nimport { Customiser } from \"../../../models/Customiser\";\nimport { LixiBase } from \"../../../models/LixiBase\";\nimport { ItemXMLViewer } from \"../../itemXMLViewer/ItemXMLViewer\";\nimport { LixiItem } from \"../../lixi-item/LixiItem\";\nimport { SearchPath } from \"../../search/SearchPath\";\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n}\n\nexport const CreateInstructionTab: React.FC<TabPanelProps> = (\n  props: TabPanelProps\n) => {\n  const { children, value, index, ...other } = props;\n  const { data } = useTypedSelector((state) => state.item);\n\n  const [itemInstruction, setItemInstruction] = React.useState<Element>();\n  const { customization } = useTypedSelector((state) => state.customizer);\n\n  React.useEffect(() => {\n    if (!data) return;\n    const path = new LixiBase(data)?.path;\n    if (path) {\n      const newCustomiser = new Customiser(customization, path);\n      const customisedItem = newCustomiser?.getCustomisedItem()?.parentElement;\n      if (!customisedItem) {\n        setItemInstruction(undefined);\n        return;\n      }\n      setItemInstruction(customisedItem);\n    }\n  }, [customization, data]);\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography component=\"div\">\n            <SearchPath />\n            <Collapse key=\"lixiItem\" in={!!data}>\n              {data ? <LixiItem item={data} /> : undefined}\n            </Collapse>\n            <Collapse key=\"lixiItemXML\" in={!!itemInstruction}>\n              {<ItemXMLViewer role=\"view\" itemXML={itemInstruction} />}\n            </Collapse>\n          </Typography>\n        </Box>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useStyles } from \"./navTabsStyle\";\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n}\n\nexport const TabPanel: React.FC<TabPanelProps> = (props: TabPanelProps) => {\n  const classes = useStyles();\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      className={classes.root}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box className={classes.tabPanelChildren}>\n          <Typography component=\"div\">{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    menuButton: {\n      // width: \"max-content\",\n      // color: theme.palette.getContrastText(theme.palette.primary.main),\n      minWidth: \"10rem\",\n      height: \"inherit\",\n      marginLeft: \"0.05rem\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n    },\n  })\n);\n","import Button from \"@material-ui/core/Button\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useAction } from \"../../hooks/useActions\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\nimport { SubSchema } from \"../../redux/actions/customiser-actions\";\nimport { XmlUtil } from \"../../util/nameSpaces\";\nimport { useStyles } from \"./subSchemaMenuStyle\";\n\n\n\n\nexport const SubSchemaMenu: React.FC = () => {\n  const classes = useStyles();\n  const { customizeSubSchema } = useAction();\n  const { subSchema } = useTypedSelector((state) => state.customizer);\n  const { schema } = useTypedSelector((state) => state.schema);\n  const [transactionList, setTransactionList] = useState<SubSchema[]>([]);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const sortedTransactionList = useMemo(\n    () =>\n      transactionList?.sort((a, b) => {\n        if (a && b && a.transactionType && b.transactionType) {\n          return a?.transactionType > b?.transactionType ? 1 : -1;\n        }\n        return 0;\n      }),\n    [transactionList]\n  );\n\n  const handleClose = (e: React.MouseEvent<HTMLLIElement, MouseEvent>) => {\n    const s = e.currentTarget.innerText.split(\" \");\n    const subSchema: SubSchema = {\n      transactionType: s[0],\n      transactionVersion: s[1],\n    };\n    customizeSubSchema(subSchema);\n    setAnchorEl(null);\n  };\n  useEffect(() => {\n    const transaction = (): Promise<\n      {\n        transactionType: string;\n        transactionVersion: string;\n      }[]\n    > => {\n      return new Promise((resolves, rejects) => {\n        if (!schema) {\n          setTransactionList([]);\n          return;\n        }\n        const xmlUtile = new XmlUtil(schema);\n        const transactions = xmlUtile.getTransactions();\n        resolves(transactions);\n      });\n    };\n\n    (async () => {\n      setTransactionList(await transaction());\n    })();\n  }, [schema]);\n\n  return (\n    <>\n      <Button\n        className={classes.menuButton}\n        color=\"primary\"\n        // disableRipple\n        aria-controls=\"simple-menu\"\n        fullWidth\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        variant=\"contained\"\n        disabled={transactionList.length ? false : true}\n        endIcon={<KeyboardArrowDownIcon />}\n      >\n        {subSchema?.transactionType && subSchema?.transactionVersion\n          ? `${subSchema.transactionType} ${subSchema.transactionVersion}`\n          : \"Transaction\"}\n      </Button>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {sortedTransactionList.map(\n          ({ transactionType, transactionVersion }) => {\n            return (\n              <MenuItem\n                id={`${transactionType}_${transactionVersion}`}\n                key={`${transactionType}_${transactionVersion}`}\n                onClick={handleClose}\n              >{`${transactionType} ${transactionVersion}`}</MenuItem>\n            );\n          }\n        )}\n      </Menu>\n    </>\n  );\n};\n","import { Theme, makeStyles, createStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: \"transparent\",\n    },\n\n    paper: {\n      // backgroundColor: \"transparent\",\n      boxShadow: \"1px 1px 3px #BDBDBD\",\n      overflow: \"hidden\",\n      padding: theme.spacing(0),\n    },\n    alert: {\n      color: \"#c43e00\",\n      \"&:hover\": {\n        color: \"#ff8f00\",\n      },\n    },\n    button: {\n      color: \"orange\",\n      backgroundColor: \"#333\",\n      \"&:hover\": {\n        color: \"#333\",\n        backgroundColor: \"orange\",\n      },\n    },\n  })\n);\n","import React from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CancelPresentationTwoToneIcon from \"@material-ui/icons/CancelPresentationTwoTone\";\n// import {CssBaseline} from \"@material-ui/core\"\nimport { Formik, Form } from \"formik\";\nimport CssBaseline from \"@material-ui/core/CssBaseline/CssBaseline\";\nimport { Divider } from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport * as Yup from \"yup\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\nimport { SubSchemaMenu } from \"../sub-schema-menu/SubSchemaMenu\";\nimport { useStyles } from \"./selectTransactionDialogStyle\";\n\ninterface IConfirmRemoveItem {\n  open: boolean;\n  handleClose: () => void;\n}\n\nexport const SelectTransactionDialog: React.FC<IConfirmRemoveItem> = ({\n  open,\n\n  handleClose,\n}) => {\n  const classes = useStyles();\n  const { subSchema } = useTypedSelector((state) => state.customizer);\n  const [preSubSchema, setPreSubSchema] = React.useState(subSchema);\n\n  React.useEffect(() => {\n    if (subSchema?.transactionType !== preSubSchema?.transactionType) {\n      setPreSubSchema(subSchema);\n      handleClose();\n    }\n  }, [\n    handleClose,\n    preSubSchema?.transactionType,\n    subSchema,\n    subSchema?.transactionType,\n  ]);\n\n  return (\n    <Formik\n      initialValues={{ agree: false }}\n      validationSchema={Yup.object().shape({\n        agree: Yup.boolean().oneOf([true]),\n      })}\n      enableReinitialize\n      onSubmit={(values, { setSubmitting, resetForm }) => {\n        setTimeout(() => {\n          setSubmitting(true);\n\n          alert(JSON.stringify(values, null, 2));\n          setSubmitting(false);\n          handleClose();\n        }, 400);\n      }}\n    >\n      {({ isSubmitting, values, errors, touched, resetForm }) => (\n        <div>\n          <Dialog\n            draggable\n            BackdropProps={{ classes: { root: classes.root } }}\n            PaperProps={{ classes: { root: classes.paper, elevation2: \"5\" } }}\n            style={{ boxShadow: \"none\" }}\n            open={open}\n            onClose={resetForm}\n            aria-labelledby=\"form-dialog-title\"\n          >\n            <CssBaseline />\n            <DialogTitle\n              style={{\n                backgroundColor: \"cornsilk\",\n                padding: 0,\n                boxShadow: \"0.1rem 0.1rem 0.1rem orange\",\n              }}\n              id=\"form-dialog-title\"\n            >\n              {subSchema?.transactionType ? (\n                <Alert\n                  style={{ width: \"100%\" }}\n                  variant=\"standard\"\n                  severity=\"warning\"\n                  action={\n                    <Tooltip title=\"Cancel\" placement=\"top\">\n                      <IconButton\n                        onClick={handleClose}\n                        aria-label=\"delete\"\n                        className={classes.alert}\n                        size=\"small\"\n                        disableRipple\n                      >\n                        <CancelPresentationTwoToneIcon fontSize=\"default\" />\n                      </IconButton>\n                    </Tooltip>\n                  }\n                >\n                  Changing the transaction will reset the customisation file\n                </Alert>\n              ) : (\n                <Alert\n                  style={{ width: \"100%\" }}\n                  variant=\"standard\"\n                  severity=\"info\"\n                  action={\n                    <Tooltip title=\"Cancel\" placement=\"top\">\n                      <IconButton\n                        onClick={handleClose}\n                        aria-label=\"delete\"\n                        className={classes.alert}\n                        size=\"small\"\n                        disableRipple\n                      >\n                        <CancelPresentationTwoToneIcon fontSize=\"default\" />\n                      </IconButton>\n                    </Tooltip>\n                  }\n                >\n                  Target transaction schema must be selected.\n                </Alert>\n              )}\n            </DialogTitle>\n            <DialogContent>\n              <Typography variant=\"subtitle1\">\n                Select the transaction from the dropdown list\n              </Typography>\n\n              <DialogContentText></DialogContentText>\n            </DialogContent>\n            <Divider />\n            <Form>\n              <DialogActions>\n                <SubSchemaMenu />\n              </DialogActions>\n            </Form>\n          </Dialog>\n        </div>\n      )}\n    </Formik>\n  );\n};\n","import React from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport { useStyles } from \"./navTabsStyle\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { VerticalLinearStepper } from \"../vertical-stepper/VerticalStepper\";\nimport { ItemXMLViewer } from \"../itemXMLViewer/ItemXMLViewer\";\nimport { useTypedSelector } from \"../../hooks/useTypeSelector\";\n// import { SearchPath } from \"../search/SearchPath\";\n// import { LixiItem } from \"../lixi-item/LixiItem\";\n// import { Customiser } from \"../../models/Customiser\";\n// import { LixiBase } from \"../../models/LixiBase\";\nimport { CreateInstructionTab } from \"./create-instruction/CreateInstruction\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { TabPanel } from \"./NavTabPanel\";\n// import { SubSchemaMenu } from \"../sub-schema-menu/SubSchemaMenu\";\nimport { SelectTransactionDialog } from \"../select-transaction-dialog/SelectTransactionDialog\";\n\nfunction a11yProps(index: any) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nexport const NavTabs: React.FC = () => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [value, setValue] = React.useState(0);\n  // const [itemInstruction, setItemInstruction] = React.useState<Element>();\n  const { customization, subSchema } = useTypedSelector(\n    (state) => state.customizer\n  );\n  const { schema } = useTypedSelector((state) => state.schema);\n  // const { data } = useTypedSelector((state) => state.item);\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setValue(newValue);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  React.useEffect(() => {\n    if (!subSchema?.transactionType && schema && !open) {\n      setOpen(true);\n    }\n  }, [schema, subSchema?.transactionType, open]);\n\n  // React.useEffect(() => {\n  //   console.log(\"data:\", data);\n  //   if (!data) return;\n  //   const path = new LixiBase(data)?.path;\n  //   if (path) {\n  //     const newCustomiser = new Customiser(customization, path);\n  //     const customisedItem = newCustomiser?.getCustomisedItem()?.parentElement;\n  //     console.log(\"customisedItem\", customisedItem);\n  //     if (!customisedItem) return;\n  //     setItemInstruction(customisedItem);\n  //   }\n  // }, [customization, data]);\n\n  return (\n    <div className={classes.root}>\n      <SelectTransactionDialog open={open} handleClose={handleClose} />\n      <AppBar position=\"static\">\n        <Toolbar>\n          {subSchema?.transactionType ? (\n            <Typography\n              onClick={() => setOpen(true)}\n              noWrap\n              variant=\"h6\"\n              style={{ flexGrow: 1, cursor: \"pointer\" }}\n            >\n              <em>{`${subSchema?.transactionType} - ${subSchema?.transactionVersion}`}</em>\n            </Typography>\n          ) : (\n            <Typography\n              onClick={() => setOpen(true)}\n              noWrap\n              color=\"secondary\"\n              variant=\"h6\"\n              style={{ flexGrow: 1, cursor: \"pointer\" }}\n            >\n              Transaction?\n            </Typography>\n          )}\n\n          <Tabs\n            centered\n            value={value}\n            onChange={handleChange}\n            aria-label=\"simple tabs example\"\n          >\n            <Tab label=\"Instruction set up\" {...a11yProps(0)} />\n            <Tab label=\"Create Instruction\" {...a11yProps(1)} />\n            <Tab label=\"View Instruction\" {...a11yProps(2)} />\n          </Tabs>\n        </Toolbar>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n        <Box>\n          <VerticalLinearStepper />\n        </Box>\n      </TabPanel>\n\n      <CreateInstructionTab value={value} index={1} />\n\n      <TabPanel value={value} index={2}>\n        {<ItemXMLViewer itemXML={customization} />}\n      </TabPanel>\n    </div>\n  );\n};\n","import { Theme, createStyles, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      minHeight: \"100vh\",\n      backgroundColor: \"#333\",\n      padding: \"1rem\",\n      [theme.breakpoints.down(\"xs\")]: {\n        padding: \"0.5\",\n      },\n    },\n    main: {\n      backgroundColor: \"#fff\",\n      width: \"50%\",\n      margin: \"auto\",\n      [theme.breakpoints.down(\"sm\")]: {\n        width: \"100%\",\n        margin:   \"0\"\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"70%\",\n      },\n    },\n  })\n);\n","import React from 'react';\nimport { CssBaseline } from '@material-ui/core';\nimport { NavTabs } from \"./components/nav-taps/NavTabs\";\nimport {useStyles}from \"./appStyle\"\n\n\nfunction App() {\n  const classes = useStyles()\n  \n  return (\n    <div className={classes.root}>\n    <div\n      className={classes.main}\n    >\n      <CssBaseline />\n      <NavTabs  />\n     \n    </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Theme } from \"@material-ui/core\";\nimport { lightTheme } from \"./light\";\nimport { darkTheme } from \"./dark\";\n\nexport function getThemeByName(theme: string): Theme {\n  return themeMap[theme];\n}\n\nconst themeMap: { [key: string]: Theme } = {\n  lightTheme,\n  darkTheme,\n};\n","import { createMuiTheme } from \"@material-ui/core\";\n\nexport const lightTheme = createMuiTheme({\n  palette: {\n    type: \"light\",\n  },\n});\n","import { createMuiTheme } from \"@material-ui/core\";\n\nexport const darkTheme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n  },\n});\n","import React, { useState } from \"react\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { getThemeByName } from \"./themes/getThem\";\n\nexport const ThemeContext = React.createContext(\n  (themeName: string): void => {}\n);\n// export const ThemeContext = React.createContext((themeName: string): void => { });\n\nconst ThemeProvider: React.FC = (props) => {\n  // State to hold the selected theme name\n  const [themeName, _setThemeName] = useState(\"lightTheme\");\n  // const [theme, setTheme] = useState(getThemeByName(\"darkTheme\"))\n\n  // Retrieve the theme object by theme name\n  const theme = getThemeByName(themeName);\n\n  return (\n    <ThemeContext.Provider value={_setThemeName}>\n      <MuiThemeProvider theme={theme}>{props.children}</MuiThemeProvider>\n    </ThemeContext.Provider>\n  );\n};\n\nexport default ThemeProvider;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport ThemProvider from \"./themeProvider\";\nimport { store } from \"./redux\";\nimport { Provider } from \"react-redux\";\n\n\n\nReactDOM.render(\n  <ThemProvider>\n    <React.StrictMode>\n      <Provider store={store}>\n      <App />\n      </Provider>\n    </React.StrictMode>\n  </ThemProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}